import{s as Se,a as V,e as ge,M as Pe,d as m,c as S,i as U,w as oe,P as Ne,o as Ue,f as b,g as y,R as Te,h as w,j as c,r as i,l as P,m as N,Q as L,u as X,O as Ae,n as T,C as be,v as He}from"../chunks/scheduler.7238b518.js";import{S as Me,i as Ye,a as z,t as Z,c as De,g as Ve,b as Be,d as Ce,m as je,e as qe}from"../chunks/index.5768aeba.js";import{g as ye}from"../chunks/navigation.085c9c3b.js";import{u as Oe,a as Re}from"../chunks/index.2daf5b1f.js";import{S as We}from"../chunks/Spinner.39d69570.js";import{c as Fe,u as Ee,W as Le,a as ze}from"../chunks/index.d5e8a435.js";import{a as ce}from"../chunks/Toaster.svelte_svelte_type_style_lang.93775e0f.js";import{g as Qe}from"../chunks/index.223594af.js";function we(a){let s,l=`<div class="flex space-x-2"><div class="self-center"><img src="${ze}/static/favicon.png" class="w-8 rounded-full" alt="logo"/></div></div>`,r,u,n,e,t,f;const d=[Je,Ge],_=[];function E(o,p){var g;return((g=o[5])==null?void 0:g.trusted_header_auth)??!1?0:1}return e=E(a),t=_[e]=d[e](a),{c(){s=b("div"),s.innerHTML=l,r=V(),u=b("div"),n=b("div"),t.c(),this.h()},l(o){s=y(o,"DIV",{class:!0,"data-svelte-h":!0}),Te(s)!=="svelte-xypj2d"&&(s.innerHTML=l),r=S(o),u=y(o,"DIV",{class:!0});var p=w(u);n=y(p,"DIV",{class:!0});var g=w(n);t.l(g),g.forEach(m),p.forEach(m),this.h()},h(){c(s,"class","fixed m-10 z-50"),c(n,"class","w-full sm:max-w-lg px-4 min-h-screen flex flex-col"),c(u,"class","bg-white dark:bg-gray-900 min-h-screen w-full flex justify-center font-mona svelte-zxai24")},m(o,p){U(o,s,p),U(o,r,p),U(o,u,p),i(u,n),_[e].m(n,null),f=!0},p(o,p){let g=e;e=E(o),e===g?_[e].p(o,p):(Ve(),Z(_[g],1,1,()=>{_[g]=null}),De(),t=_[e],t?t.p(o,p):(t=_[e]=d[e](o),t.c()),z(t,1),t.m(n,null))},i(o){f||(z(t),f=!0)},o(o){Z(t),f=!1},d(o){o&&(m(s),m(r),m(u)),_[e].d()}}}function Ge(a){let s,l,r,u,n,e,t,f,d,_,E=a[6].t("Phone")+"",o,p,g,R,W,A,H,q=a[6].t("Password")+"",Q,x,v,M,ie,Y,O,G=(a[1]==="signin"?a[6].t("Sign in"):a[6].t("Create Account"))+"",$,re,B,J=(a[1]==="signin"?a[6].t("Don't have an account?"):a[6].t("Already have an account?"))+"",ee,ue,C,K=(a[1]==="signin"?a[6].t("Sign up"):a[6].t("Sign in"))+"",te,de,fe,k=a[1]==="signup"&&Ie(a),D=a[1]==="signup"&&ke(a);return{c(){s=b("div"),l=b("form"),r=b("div"),u=P(a[7]),n=V(),k&&k.c(),e=V(),t=b("div"),D&&D.c(),f=V(),d=b("div"),_=b("div"),o=P(E),p=V(),g=b("input"),W=V(),A=b("div"),H=b("div"),Q=P(q),x=V(),v=b("input"),ie=V(),Y=b("div"),O=b("button"),$=P(G),re=V(),B=b("div"),ee=P(J),ue=V(),C=b("button"),te=P(K),this.h()},l(h){s=y(h,"DIV",{class:!0});var I=w(s);l=y(I,"FORM",{class:!0});var j=w(l);r=y(j,"DIV",{class:!0});var pe=w(r);u=N(pe,a[7]),pe.forEach(m),n=S(j),k&&k.l(j),e=S(j),t=y(j,"DIV",{class:!0});var F=w(t);D&&D.l(F),f=S(F),d=y(F,"DIV",{class:!0});var le=w(d);_=y(le,"DIV",{class:!0});var me=w(_);o=N(me,E),me.forEach(m),p=S(le),g=y(le,"INPUT",{type:!0,class:!0,placeholder:!0}),le.forEach(m),W=S(F),A=y(F,"DIV",{});var se=w(A);H=y(se,"DIV",{class:!0});var _e=w(H);Q=N(_e,q),_e.forEach(m),x=S(se),v=y(se,"INPUT",{type:!0,class:!0,placeholder:!0,autocomplete:!0}),se.forEach(m),F.forEach(m),ie=S(j),Y=y(j,"DIV",{class:!0});var ae=w(Y);O=y(ae,"BUTTON",{class:!0,type:!0});var ve=w(O);$=N(ve,G),ve.forEach(m),re=S(ae),B=y(ae,"DIV",{class:!0});var ne=w(B);ee=N(ne,J),ue=S(ne),C=y(ne,"BUTTON",{class:!0,type:!0});var he=w(C);te=N(he,K),he.forEach(m),ne.forEach(m),ae.forEach(m),j.forEach(m),I.forEach(m),this.h()},h(){c(r,"class","text-xl sm:text-2xl font-bold"),c(_,"class","text-sm font-semibold text-left mb-1"),c(g,"type","phone"),c(g,"class","border px-4 py-2.5 rounded-2xl w-full text-sm"),c(g,"placeholder",R=a[6].t("Enter Your Phone")),g.required=!0,c(d,"class","mb-2"),c(H,"class","text-sm font-semibold text-left mb-1"),c(v,"type","password"),c(v,"class","border px-4 py-2.5 rounded-2xl w-full text-sm"),c(v,"placeholder",M=a[6].t("Enter Your Password")),c(v,"autocomplete","current-password"),v.required=!0,c(t,"class","flex flex-col mt-4"),c(O,"class","bg-gray-900 hover:bg-gray-800 w-full rounded-full text-white font-semibold text-sm py-3 transition"),c(O,"type","submit"),c(C,"class","font-medium underline"),c(C,"type","button"),c(B,"class","mt-4 text-sm text-center"),c(Y,"class","mt-5"),c(l,"class","flex flex-col justify-center bg-white py-6 sm:py-16 px-6 sm:px-16 rounded-2xl"),c(s,"class","my-auto pb-10 w-full")},m(h,I){U(h,s,I),i(s,l),i(l,r),i(r,u),i(l,n),k&&k.m(l,null),i(l,e),i(l,t),D&&D.m(t,null),i(t,f),i(t,d),i(d,_),i(_,o),i(d,p),i(d,g),L(g,a[3]),i(t,W),i(t,A),i(A,H),i(H,Q),i(A,x),i(A,v),L(v,a[4]),i(l,ie),i(l,Y),i(Y,O),i(O,$),i(Y,re),i(Y,B),i(B,ee),i(B,ue),i(B,C),i(C,te),de||(fe=[X(g,"input",a[11]),X(v,"input",a[12]),X(C,"click",a[13]),X(l,"submit",Ae(a[14]))],de=!0)},p(h,I){I&128&&T(u,h[7]),h[1]==="signup"?k?k.p(h,I):(k=Ie(h),k.c(),k.m(l,e)):k&&(k.d(1),k=null),h[1]==="signup"?D?D.p(h,I):(D=ke(h),D.c(),D.m(t,f)):D&&(D.d(1),D=null),I&64&&E!==(E=h[6].t("Phone")+"")&&T(o,E),I&64&&R!==(R=h[6].t("Enter Your Phone"))&&c(g,"placeholder",R),I&8&&L(g,h[3]),I&64&&q!==(q=h[6].t("Password")+"")&&T(Q,q),I&64&&M!==(M=h[6].t("Enter Your Password"))&&c(v,"placeholder",M),I&16&&v.value!==h[4]&&L(v,h[4]),I&66&&G!==(G=(h[1]==="signin"?h[6].t("Sign in"):h[6].t("Create Account"))+"")&&T($,G),I&66&&J!==(J=(h[1]==="signin"?h[6].t("Don't have an account?"):h[6].t("Already have an account?"))+"")&&T(ee,J),I&66&&K!==(K=(h[1]==="signin"?h[6].t("Sign up"):h[6].t("Sign in"))+"")&&T(te,K)},i:be,o:be,d(h){h&&m(s),k&&k.d(),D&&D.d(),de=!1,He(fe)}}}function Je(a){let s,l,r,u,n,e,t,f;return t=new We({}),{c(){s=b("div"),l=b("div"),r=b("div"),u=P(a[7]),n=V(),e=b("div"),Be(t.$$.fragment),this.h()},l(d){s=y(d,"DIV",{class:!0});var _=w(s);l=y(_,"DIV",{class:!0});var E=w(l);r=y(E,"DIV",{});var o=w(r);u=N(o,a[7]),o.forEach(m),n=S(E),e=y(E,"DIV",{});var p=w(e);Ce(t.$$.fragment,p),p.forEach(m),E.forEach(m),_.forEach(m),this.h()},h(){c(l,"class","flex items-center justify-center gap-3 text-xl sm:text-2xl text-center font-bold dark:text-gray-200"),c(s,"class","my-auto pb-10 w-full")},m(d,_){U(d,s,_),i(s,l),i(l,r),i(r,u),i(l,n),i(l,e),je(t,e,null),f=!0},p(d,_){(!f||_&128)&&T(u,d[7])},i(d){f||(z(t.$$.fragment,d),f=!0)},o(d){Z(t.$$.fragment,d),f=!1},d(d){d&&m(s),qe(t)}}}function Ie(a){let s,l,r,u,n=a[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"",e;return{c(){s=b("div"),l=P("ⓘ "),r=P(a[7]),u=V(),e=P(n),this.h()},l(t){s=y(t,"DIV",{class:!0});var f=w(s);l=N(f,"ⓘ "),r=N(f,a[7]),u=S(f),e=N(f,n),f.forEach(m),this.h()},h(){c(s,"class","mt-1 text-xs font-medium text-gray-500")},m(t,f){U(t,s,f),i(s,l),i(s,r),i(s,u),i(s,e)},p(t,f){f&128&&T(r,t[7]),f&64&&n!==(n=t[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"")&&T(e,n)},d(t){t&&m(s)}}}function ke(a){let s,l,r=a[6].t("Name")+"",u,n,e,t,f,d,_,E;return{c(){s=b("div"),l=b("div"),u=P(r),n=V(),e=b("input"),f=V(),d=b("hr"),this.h()},l(o){s=y(o,"DIV",{});var p=w(s);l=y(p,"DIV",{class:!0});var g=w(l);u=N(g,r),g.forEach(m),n=S(p),e=y(p,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),p.forEach(m),f=S(o),d=y(o,"HR",{class:!0}),this.h()},h(){c(l,"class","text-sm font-semibold text-left mb-1"),c(e,"type","text"),c(e,"class","border px-4 py-2.5 rounded-2xl w-full text-sm"),c(e,"autocomplete","name"),c(e,"placeholder",t=a[6].t("Enter Your Full Name")),e.required=!0,c(d,"class","my-3")},m(o,p){U(o,s,p),i(s,l),i(l,u),i(s,n),i(s,e),L(e,a[2]),U(o,f,p),U(o,d,p),_||(E=X(e,"input",a[10]),_=!0)},p(o,p){p&64&&r!==(r=o[6].t("Name")+"")&&T(u,r),p&64&&t!==(t=o[6].t("Enter Your Full Name"))&&c(e,"placeholder",t),p&4&&e.value!==o[2]&&L(e,o[2])},d(o){o&&(m(s),m(f),m(d)),_=!1,E()}}}function Ke(a){let s,l,r,u;document.title=s=`
		${a[7]}
	`;let n=a[0]&&we(a);return{c(){l=V(),n&&n.c(),r=ge()},l(e){Pe("svelte-sdpf07",document.head).forEach(m),l=S(e),n&&n.l(e),r=ge()},m(e,t){U(e,l,t),n&&n.m(e,t),U(e,r,t),u=!0},p(e,[t]){(!u||t&128)&&s!==(s=`
		${e[7]}
	`)&&(document.title=s),e[0]?n?(n.p(e,t),t&1&&z(n,1)):(n=we(e),n.c(),z(n,1),n.m(r.parentNode,r)):n&&(Ve(),Z(n,1,1,()=>{n=null}),De())},i(e){u||(z(n),u=!0)},o(e){Z(n),u=!1},d(e){e&&(m(l),m(r)),n&&n.d(e)}}}function Xe(a,s,l){let r,u,n,e;oe(a,Fe,v=>l(5,r=v)),oe(a,Ee,v=>l(15,u=v)),oe(a,Le,v=>l(7,e=v));const t=Ne("i18n");oe(a,t,v=>l(6,n=v));let f=!1,d="signin",_="",E="",o="";const p=async v=>{v&&(console.log(v),ce.success(n.t("You're now logged in.")),localStorage.token=v.token,await Ee.set(v),ye("/"))},g=async()=>{const v=await Oe(E,o).catch(M=>(ce.error(M),null));await p(v)},R=async()=>{const v=await Re(_,E,o,Qe(_)).catch(M=>(ce.error(M),null));console.log("signUpHandler ok"),await p(v)},W=async()=>{d==="signin"?await g():await R()};Ue(async()=>{u!==void 0&&await ye("/"),l(0,f=!0),((r==null?void 0:r.trusted_header_auth)??!1)&&await g()});function A(){_=this.value,l(2,_)}function H(){E=this.value,l(3,E)}function q(){o=this.value,l(4,o)}return[f,d,_,E,o,r,n,e,t,W,A,H,q,()=>{d==="signin"?l(1,d="signup"):l(1,d="signin")},()=>{W()}]}class nt extends Me{constructor(s){super(),Ye(this,s,Xe,Ke,Se,{})}}export{nt as component};
