import{s as At,f,l as H,a as A,g as d,h as v,m as U,d as i,c as S,j as o,i as j,r as a,u as $,O as Nl,n as W,C as it,v as ut,P as jt,w as nt,Q as ge,z as Qe,A as $e,R as Be,S as es,o as Ft,p as Rt,e as It,T as Gt,U as Et,K as Ct,V as ma,W as Yt,k as ht,X as Pl,Y as $t,E as ba,F as wa,G as ka,H as ya,Z as Sl,t as Pa}from"../chunks/scheduler.7238b518.js";import{S as St,i as Lt,b as lt,d as st,m as rt,a as ye,g as zt,t as Ne,c as Zt,e as at,f as el,h as ks}from"../chunks/index.5768aeba.js";import{a as Xe}from"../chunks/Toaster.svelte_svelte_type_style_lang.93775e0f.js";import{f as Ea}from"../chunks/FileSaver.min.898eb36f.js";import{g as Al}from"../chunks/navigation.59faf8c8.js";import{g as Kl,c as Ba,a as ys,b as ls,s as Yl,d as Ha,e as Ua,f as ja,h as Ra,i as za,j as Za,u as Wa,k as qa,l as Ga,m as Ia}from"../chunks/index.d4b9e586.js";import{g as Fa}from"../chunks/index.660428f8.js";import{g as Ka}from"../chunks/index.d3746a39.js";import{g as Ya}from"../chunks/index.b77a8b55.js";import{g as Ja,a as Xa,d as Qa,b as cl,c as Es,e as ss,f as Da,h as Ta,i as $a,u as en,j as tn,k as Va}from"../chunks/index.89342640.js";import{u as sl,M as Ll,m as Kt,t as ln,c as Cl,s as xl,b as Qt,W as Ma,d as Ol,e as Ql,f as Jl,g as Ml,h as us,a as sn,i as $l,j as Is,p as rn,k as an}from"../chunks/index.78134b2e.js";import{M as ts,d as Ds,f as Ts}from"../chunks/dayjs.min.6373c1fd.js";import{u as nn,g as on,a as un,c as cn}from"../chunks/index.f9894ad0.js";import{g as fn}from"../chunks/index.c730232a.js";import{T as rl}from"../chunks/create.d7af4d12.js";import{e as ot}from"../chunks/each.b7dbf2c4.js";import{g as Aa,a as _s,p as Vs,d as Ms,c as dn,u as hn,b as vn,e as pn,f as _n}from"../chunks/index.a5119266.js";import{g as gn}from"../chunks/index.94a4fc1b.js";import{A as mn}from"../chunks/AdvancedParams.9c68df98.js";import{g as Sa,a as bn,b as wn}from"../chunks/index.b3b01300.js";import{s as kn,D as yn,M as rs,T as En,S as In}from"../chunks/ShareChatModal.2ac2ebd6.js";import{g as Dn,u as Tn,a as Vn,b as as,c as Mn,d as An,e as Sn,f as Ln,h as Cn,i as As,j as xn,k as On,l as Nn,m as Pn,n as Bn}from"../chunks/index.efe20344.js";import{M as Hn}from"../chunks/menu-trigger.410969e8.js";import{f as Un}from"../chunks/index.1df8947f.js";const jn=(s,e)=>e.some(t=>s instanceof t);let Ss,Ls;function Rn(){return Ss||(Ss=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zn(){return Ls||(Ls=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const La=new WeakMap,cs=new WeakMap,Ca=new WeakMap,ns=new WeakMap,gs=new WeakMap;function Zn(s){const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("success",n),s.removeEventListener("error",u)},n=()=>{t(fl(s.result)),r()},u=()=>{l(s.error),r()};s.addEventListener("success",n),s.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&La.set(t,s)}).catch(()=>{}),gs.set(e,s),e}function Wn(s){if(cs.has(s))return;const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("complete",n),s.removeEventListener("error",u),s.removeEventListener("abort",u)},n=()=>{t(),r()},u=()=>{l(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",n),s.addEventListener("error",u),s.addEventListener("abort",u)});cs.set(s,e)}let fs={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return cs.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Ca.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fl(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function qn(s){fs=s(fs)}function Gn(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call(os(this),e,...t);return Ca.set(l,e.sort?e.sort():[e]),fl(l)}:zn().includes(s)?function(...e){return s.apply(os(this),e),fl(La.get(this))}:function(...e){return fl(s.apply(os(this),e))}}function Fn(s){return typeof s=="function"?Gn(s):(s instanceof IDBTransaction&&Wn(s),jn(s,Rn())?new Proxy(s,fs):s)}function fl(s){if(s instanceof IDBRequest)return Zn(s);if(ns.has(s))return ns.get(s);const e=Fn(s);return e!==s&&(ns.set(s,e),gs.set(e,s)),e}const os=s=>gs.get(s);function Kn(s,e,{blocked:t,upgrade:l,blocking:r,terminated:n}={}){const u=indexedDB.open(s,e),c=fl(u);return l&&u.addEventListener("upgradeneeded",p=>{l(fl(u.result),p.oldVersion,p.newVersion,fl(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),c.then(p=>{n&&p.addEventListener("close",()=>n()),r&&p.addEventListener("versionchange",_=>r(_.oldVersion,_.newVersion,_))}).catch(()=>{}),c}function Cs(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),fl(t).then(()=>{})}const Yn=["get","getKey","getAll","getAllKeys","count"],Jn=["put","add","delete","clear"],is=new Map;function xs(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(is.get(e))return is.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,r=Jn.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(r||Yn.includes(t)))return;const n=async function(u,...c){const p=this.transaction(u,r?"readwrite":"readonly");let _=p.store;return l&&(_=_.index(c.shift())),(await Promise.all([_[t](...c),r&&p.done]))[0]};return is.set(e,n),n}qn(s=>({...s,get:(e,t,l)=>xs(e,t)||s.get(e,t,l),has:(e,t)=>!!xs(e,t)||s.has(e,t)}));function Os(s){let e,t,l,r=s[4].t("Current Password")+"",n,u,c,p,_,h,m,g=s[4].t("New Password")+"",w,b,E,I,y,k,D,L=s[4].t("Confirm Password")+"",T,V,M,P,R,z,O,q=s[4].t("Update password")+"",B,C,G;return{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("div"),p=f("input"),_=A(),h=f("div"),m=f("div"),w=H(g),b=A(),E=f("div"),I=f("input"),y=A(),k=f("div"),D=f("div"),T=H(L),V=A(),M=f("div"),P=f("input"),R=A(),z=f("div"),O=f("button"),B=H(q),this.h()},l(K){e=d(K,"DIV",{class:!0});var F=v(e);t=d(F,"DIV",{class:!0});var x=v(t);l=d(x,"DIV",{class:!0});var Z=v(l);n=U(Z,r),Z.forEach(i),u=S(x),c=d(x,"DIV",{class:!0});var N=v(c);p=d(N,"INPUT",{class:!0,type:!0,autocomplete:!0}),N.forEach(i),x.forEach(i),_=S(F),h=d(F,"DIV",{class:!0});var Y=v(h);m=d(Y,"DIV",{class:!0});var J=v(m);w=U(J,g),J.forEach(i),b=S(Y),E=d(Y,"DIV",{class:!0});var X=v(E);I=d(X,"INPUT",{class:!0,type:!0,autocomplete:!0}),X.forEach(i),Y.forEach(i),y=S(F),k=d(F,"DIV",{class:!0});var Q=v(k);D=d(Q,"DIV",{class:!0});var te=v(D);T=U(te,L),te.forEach(i),V=S(Q),M=d(Q,"DIV",{class:!0});var ue=v(M);P=d(ue,"INPUT",{class:!0,type:!0,autocomplete:!0}),ue.forEach(i),Q.forEach(i),F.forEach(i),R=S(K),z=d(K,"DIV",{class:!0});var oe=v(z);O=d(oe,"BUTTON",{class:!0});var ve=v(O);B=U(ve,q),ve.forEach(i),oe.forEach(i),this.h()},h(){o(l,"class","mb-1 text-xs text-gray-500"),o(p,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(p,"type","password"),o(p,"autocomplete","current-password"),p.required=!0,o(c,"class","flex-1"),o(t,"class","flex flex-col w-full"),o(m,"class","mb-1 text-xs text-gray-500"),o(I,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(I,"type","password"),o(I,"autocomplete","new-password"),I.required=!0,o(E,"class","flex-1"),o(h,"class","flex flex-col w-full"),o(D,"class","mb-1 text-xs text-gray-500"),o(P,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(P,"type","password"),o(P,"autocomplete","off"),P.required=!0,o(M,"class","flex-1"),o(k,"class","flex flex-col w-full"),o(e,"class","py-2.5 space-y-1.5"),o(O,"class","px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium"),o(z,"class","mt-3 flex justify-end")},m(K,F){j(K,e,F),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(c,p),ge(p,s[1]),a(e,_),a(e,h),a(h,m),a(m,w),a(h,b),a(h,E),a(E,I),ge(I,s[2]),a(e,y),a(e,k),a(k,D),a(D,T),a(k,V),a(k,M),a(M,P),ge(P,s[3]),j(K,R,F),j(K,z,F),a(z,O),a(O,B),C||(G=[$(p,"input",s[8]),$(I,"input",s[9]),$(P,"input",s[10])],C=!0)},p(K,F){F&16&&r!==(r=K[4].t("Current Password")+"")&&W(n,r),F&2&&p.value!==K[1]&&ge(p,K[1]),F&16&&g!==(g=K[4].t("New Password")+"")&&W(w,g),F&4&&I.value!==K[2]&&ge(I,K[2]),F&16&&L!==(L=K[4].t("Confirm Password")+"")&&W(T,L),F&8&&P.value!==K[3]&&ge(P,K[3]),F&16&&q!==(q=K[4].t("Update password")+"")&&W(B,q)},d(K){K&&(i(e),i(R),i(z)),C=!1,ut(G)}}}function Xn(s){let e,t,l,r=s[4].t("Change Password")+"",n,u,c,p=(s[0]?s[4].t("Hide"):s[4].t("Show"))+"",_,h,m,g,w=s[0]&&Os(s);return{c(){e=f("form"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("button"),_=H(p),h=A(),w&&w.c(),this.h()},l(b){e=d(b,"FORM",{class:!0});var E=v(e);t=d(E,"DIV",{class:!0});var I=v(t);l=d(I,"DIV",{class:!0});var y=v(l);n=U(y,r),y.forEach(i),u=S(I),c=d(I,"BUTTON",{class:!0,type:!0});var k=v(c);_=U(k,p),k.forEach(i),I.forEach(i),h=S(E),w&&w.l(E),E.forEach(i),this.h()},h(){o(l,"class","font-medium"),o(c,"class","text-xs font-medium text-gray-500"),o(c,"type","button"),o(t,"class","flex justify-between items-center text-sm"),o(e,"class","flex flex-col text-sm")},m(b,E){j(b,e,E),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(c,_),a(e,h),w&&w.m(e,null),m||(g=[$(c,"click",s[7]),$(e,"submit",Nl(s[11]))],m=!0)},p(b,[E]){E&16&&r!==(r=b[4].t("Change Password")+"")&&W(n,r),E&17&&p!==(p=(b[0]?b[4].t("Hide"):b[4].t("Show"))+"")&&W(_,p),b[0]?w?w.p(b,E):(w=Os(b),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},i:it,o:it,d(b){b&&i(e),w&&w.d(),m=!1,ut(g)}}}function Qn(s,e,t){let l;const r=jt("i18n");nt(s,r,E=>t(4,l=E));let n=!1,u="",c="",p="";const _=async()=>{c===p?(await nn(localStorage.token,u,c).catch(I=>(Xe.error(I),null))&&Xe.success(l.t("Successfully updated.")),t(1,u=""),t(2,c=""),t(3,p="")):(Xe.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,c=""),t(3,p=""))},h=()=>{t(0,n=!n)};function m(){u=this.value,t(1,u)}function g(){c=this.value,t(2,c)}function w(){p=this.value,t(3,p)}return[n,u,c,p,l,r,_,h,m,g,w,()=>{_()}]}class $n extends St{constructor(e){super(),Lt(this,e,Qn,Xn,At,{})}}function eo(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=v(e);t=$e(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M12 4.5v15m7.5-7.5h-15"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,r){j(l,e,r),a(e,t)},p(l,[r]){r&2&&o(e,"stroke-width",l[1]),r&1&&o(e,"class",l[0])},i:it,o:it,d(l){l&&i(e)}}}function to(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class lo extends St{constructor(e){super(),Lt(this,e,to,eo,At,{className:0,strokeWidth:1})}}function Ns(s){let e,t,l,r,n=s[11].t("JWT Token")+"",u,c,p,_,h,m,g,w,b,E,I,y,k,D,L=s[11].t("API Key")+"",T,V,M,P,R,z,O,q;function B(J,X){return J[4]?ro:so}let C=B(s),G=C(s);function K(J,X){return J[5]?no:ao}let F=K(s),x=F(s);const Z=[io,oo],N=[];function Y(J,X){return J[6]?0:1}return P=Y(s),R=N[P]=Z[P](s),{c(){e=f("div"),t=f("div"),l=f("div"),r=f("div"),u=H(n),c=A(),p=f("div"),_=f("div"),h=f("input"),g=A(),w=f("button"),G.c(),b=A(),E=f("button"),x.c(),I=A(),y=f("div"),k=f("div"),D=f("div"),T=H(L),V=A(),M=f("div"),R.c(),this.h()},l(J){e=d(J,"DIV",{class:!0});var X=v(e);t=d(X,"DIV",{class:!0});var Q=v(t);l=d(Q,"DIV",{class:!0});var te=v(l);r=d(te,"DIV",{class:!0});var ue=v(r);u=U(ue,n),ue.forEach(i),te.forEach(i),c=S(Q),p=d(Q,"DIV",{class:!0});var oe=v(p);_=d(oe,"DIV",{class:!0});var ve=v(_);h=d(ve,"INPUT",{class:!0,type:!0}),g=S(ve),w=d(ve,"BUTTON",{class:!0});var fe=v(w);G.l(fe),fe.forEach(i),ve.forEach(i),b=S(oe),E=d(oe,"BUTTON",{class:!0});var ce=v(E);x.l(ce),ce.forEach(i),oe.forEach(i),Q.forEach(i),I=S(X),y=d(X,"DIV",{class:!0});var re=v(y);k=d(re,"DIV",{class:!0});var se=v(k);D=d(se,"DIV",{class:!0});var De=v(D);T=U(De,L),De.forEach(i),se.forEach(i),V=S(re),M=d(re,"DIV",{class:!0});var ae=v(M);R.l(ae),ae.forEach(i),re.forEach(i),X.forEach(i),this.h()},h(){o(r,"class","self-center text-xs font-medium"),o(l,"class","flex justify-between w-full"),o(h,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm bg-white dark:text-gray-300 dark:bg-gray-850 outline-none"),o(h,"type",m=s[4]?"text":"password"),h.value=localStorage.token,h.disabled=!0,o(w,"class","px-2 transition rounded-r-lg bg-white dark:bg-gray-850"),o(_,"class","flex w-full"),o(E,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg"),o(p,"class","flex mt-2"),o(t,"class","justify-between w-full"),o(D,"class","self-center text-xs font-medium"),o(k,"class","flex justify-between w-full"),o(M,"class","flex mt-2"),o(y,"class","justify-between w-full"),o(e,"class","flex flex-col gap-4")},m(J,X){j(J,e,X),a(e,t),a(t,l),a(l,r),a(r,u),a(t,c),a(t,p),a(p,_),a(_,h),a(_,g),a(_,w),G.m(w,null),a(p,b),a(p,E),x.m(E,null),a(e,I),a(e,y),a(y,k),a(k,D),a(D,T),a(y,V),a(y,M),N[P].m(M,null),z=!0,O||(q=[$(w,"click",s[23]),$(E,"click",s[24])],O=!0)},p(J,X){(!z||X&2048)&&n!==(n=J[11].t("JWT Token")+"")&&W(u,n),(!z||X&16&&m!==(m=J[4]?"text":"password"))&&o(h,"type",m),C!==(C=B(J))&&(G.d(1),G=C(J),G&&(G.c(),G.m(w,null))),F!==(F=K(J))&&(x.d(1),x=F(J),x&&(x.c(),x.m(E,null))),(!z||X&2048)&&L!==(L=J[11].t("API Key")+"")&&W(T,L);let Q=P;P=Y(J),P===Q?N[P].p(J,X):(zt(),Ne(N[Q],1,1,()=>{N[Q]=null}),Zt(),R=N[P],R?R.p(J,X):(R=N[P]=Z[P](J),R.c()),ye(R,1),R.m(M,null))},i(J){z||(ye(R),z=!0)},o(J){Ne(R),z=!1},d(J){J&&i(e),G.d(),x.d(),N[P].d(),O=!1,ut(q)}}}function so(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=$e(n,"path",{d:!0}),v(t).forEach(i),l=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){j(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function ro(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=$e(n,"path",{d:!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){j(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function ao(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){j(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function no(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=$e(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,r){j(l,e,r),a(e,t)},d(l){l&&i(e)}}}function oo(s){let e,t,l,r=s[11].t("Create new secret key")+"",n,u,c,p;return t=new lo({props:{strokeWidth:"2",className:" size-3.5"}}),{c(){e=f("button"),lt(t.$$.fragment),l=A(),n=H(r),this.h()},l(_){e=d(_,"BUTTON",{class:!0});var h=v(e);st(t.$$.fragment,h),l=S(h),n=U(h,r),h.forEach(i),this.h()},h(){o(e,"class","flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition")},m(_,h){j(_,e,h),rt(t,e,null),a(e,l),a(e,n),u=!0,c||(p=$(e,"click",s[28]),c=!0)},p(_,h){(!u||h&2048)&&r!==(r=_[11].t("Create new secret key")+"")&&W(n,r)},i(_){u||(ye(t.$$.fragment,_),u=!0)},o(_){Ne(t.$$.fragment,_),u=!1},d(_){_&&i(e),at(t),c=!1,p()}}}function io(s){let e,t,l,r,n,u,c,p,_,h,m,g;function w(D,L){return D[7]?co:uo}let b=w(s),E=b(s);function I(D,L){return D[8]?ho:fo}let y=I(s),k=y(s);return _=new rl({props:{content:s[11].t("Create new key"),$$slots:{default:[vo]},$$scope:{ctx:s}}}),{c(){e=f("div"),t=f("input"),r=A(),n=f("button"),E.c(),u=A(),c=f("button"),k.c(),p=A(),lt(_.$$.fragment),this.h()},l(D){e=d(D,"DIV",{class:!0});var L=v(e);t=d(L,"INPUT",{class:!0,type:!0}),r=S(L),n=d(L,"BUTTON",{class:!0});var T=v(n);E.l(T),T.forEach(i),L.forEach(i),u=S(D),c=d(D,"BUTTON",{class:!0});var V=v(c);k.l(V),V.forEach(i),p=S(D),st(_.$$.fragment,D),this.h()},h(){o(t,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm bg-white dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"type",l=s[7]?"text":"password"),t.value=s[6],t.disabled=!0,o(n,"class","px-2 transition rounded-r-lg bg-white dark:bg-gray-850"),o(e,"class","flex w-full"),o(c,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg")},m(D,L){j(D,e,L),a(e,t),a(e,r),a(e,n),E.m(n,null),j(D,u,L),j(D,c,L),k.m(c,null),j(D,p,L),rt(_,D,L),h=!0,m||(g=[$(n,"click",s[25]),$(c,"click",s[26])],m=!0)},p(D,L){(!h||L&128&&l!==(l=D[7]?"text":"password"))&&o(t,"type",l),(!h||L&64&&t.value!==D[6])&&(t.value=D[6]),b!==(b=w(D))&&(E.d(1),E=b(D),E&&(E.c(),E.m(n,null))),y!==(y=I(D))&&(k.d(1),k=y(D),k&&(k.c(),k.m(c,null)));const T={};L&2048&&(T.content=D[11].t("Create new key")),L&1073741824&&(T.$$scope={dirty:L,ctx:D}),_.$set(T)},i(D){h||(ye(_.$$.fragment,D),h=!0)},o(D){Ne(_.$$.fragment,D),h=!1},d(D){D&&(i(e),i(u),i(c),i(p)),E.d(),k.d(),at(_,D),m=!1,ut(g)}}}function uo(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=$e(n,"path",{d:!0}),v(t).forEach(i),l=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){j(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function co(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=$e(n,"path",{d:!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){j(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function fo(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){j(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function ho(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=$e(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,r){j(l,e,r),a(e,t)},d(l){l&&i(e)}}}function vo(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>',l,r;return{c(){e=f("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-olpspw"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg")},m(n,u){j(n,e,u),l||(r=$(e,"click",s[27]),l=!0)},p:it,d(n){n&&i(e),l=!1,r()}}}function po(s){let e,t,l,r,n,u,c,p,_,h,m,g,w,b='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',E,I,y,k=s[11].t("Profile Image")+"",D,L,T,V,M=s[11].t("Use Initials")+"",P,R,z,O=s[11].t("Use Gravatar")+"",q,B,C,G=s[11].t("Remove")+"",K,F,x,Z,N,Y=s[11].t("Name")+"",J,X,Q,te,ue,oe,ve,fe,ce,re,se,De,ae=s[11].t("API keys")+"",ee,de,Ce,he=(s[3]?s[11].t("Hide"):s[11].t("Show"))+"",xe,_e,Je,ne,ie,le=s[11].t("Save")+"",Le,ke,Ve,Me;ve=new $n({});let Ue=s[3]&&Ns(s);return{c(){e=f("div"),t=f("div"),l=f("input"),r=A(),n=f("div"),u=f("div"),c=f("div"),p=f("div"),_=f("button"),h=f("img"),g=A(),w=f("div"),w.innerHTML=b,E=A(),I=f("div"),y=f("div"),D=H(k),L=A(),T=f("div"),V=f("button"),P=H(M),R=A(),z=f("button"),q=H(O),B=A(),C=f("button"),K=H(G),F=A(),x=f("div"),Z=f("div"),N=f("div"),J=H(Y),X=A(),Q=f("div"),te=f("input"),ue=A(),oe=f("div"),lt(ve.$$.fragment),fe=A(),ce=f("hr"),re=A(),se=f("div"),De=f("div"),ee=H(ae),de=A(),Ce=f("button"),xe=H(he),_e=A(),Ue&&Ue.c(),Je=A(),ne=f("div"),ie=f("button"),Le=H(le),this.h()},l(we){e=d(we,"DIV",{class:!0});var Ae=v(e);t=d(Ae,"DIV",{class:!0});var me=v(t);l=d(me,"INPUT",{id:!0,type:!0,accept:!0}),r=S(me),n=d(me,"DIV",{class:!0});var Te=v(n);u=d(Te,"DIV",{class:!0});var Ie=v(u);c=d(Ie,"DIV",{class:!0});var je=v(c);p=d(je,"DIV",{class:!0});var be=v(p);_=d(be,"BUTTON",{class:!0,type:!0});var Re=v(_);h=d(Re,"IMG",{src:!0,alt:!0,class:!0}),g=S(Re),w=d(Re,"DIV",{class:!0,"data-svelte-h":!0}),Be(w)!=="svelte-11ivb2j"&&(w.innerHTML=b),Re.forEach(i),be.forEach(i),je.forEach(i),E=S(Ie),I=d(Ie,"DIV",{class:!0});var Ge=v(I);y=d(Ge,"DIV",{class:!0});var We=v(y);D=U(We,k),We.forEach(i),L=S(Ge),T=d(Ge,"DIV",{});var et=v(T);V=d(et,"BUTTON",{class:!0});var Fe=v(V);P=U(Fe,M),Fe.forEach(i),R=S(et),z=d(et,"BUTTON",{class:!0});var qe=v(z);q=U(qe,O),qe.forEach(i),B=S(et),C=d(et,"BUTTON",{class:!0});var Ke=v(C);K=U(Ke,G),Ke.forEach(i),et.forEach(i),Ge.forEach(i),Ie.forEach(i),F=S(Te),x=d(Te,"DIV",{class:!0});var Oe=v(x);Z=d(Oe,"DIV",{class:!0});var Ee=v(Z);N=d(Ee,"DIV",{class:!0});var tt=v(N);J=U(tt,Y),tt.forEach(i),X=S(Ee),Q=d(Ee,"DIV",{class:!0});var Pe=v(Q);te=d(Pe,"INPUT",{class:!0,type:!0}),Pe.forEach(i),Ee.forEach(i),Oe.forEach(i),Te.forEach(i),ue=S(me),oe=d(me,"DIV",{class:!0});var ze=v(oe);st(ve.$$.fragment,ze),ze.forEach(i),fe=S(me),ce=d(me,"HR",{class:!0}),re=S(me),se=d(me,"DIV",{class:!0});var pe=v(se);De=d(pe,"DIV",{class:!0});var Ze=v(De);ee=U(Ze,ae),Ze.forEach(i),de=S(pe),Ce=d(pe,"BUTTON",{class:!0,type:!0});var ft=v(Ce);xe=U(ft,he),ft.forEach(i),pe.forEach(i),_e=S(me),Ue&&Ue.l(me),me.forEach(i),Je=S(Ae),ne=d(Ae,"DIV",{class:!0});var ct=v(ne);ie=d(ct,"BUTTON",{class:!0});var xt=v(ie);Le=U(xt,le),xt.forEach(i),ct.forEach(i),Ae.forEach(i),this.h()},h(){o(l,"id","profile-image-input"),o(l,"type","file"),l.hidden=!0,o(l,"accept","image/*"),es(h.src,m=s[1]!==""?s[1]:Kl(s[2]))||o(h,"src",m),o(h,"alt","profile"),o(h,"class","rounded-full size-16 object-cover"),o(w,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),o(_,"class","relative rounded-full dark:bg-gray-700"),o(_,"type","button"),o(p,"class","self-center mt-2"),o(c,"class","flex flex-col"),o(y,"class","mb-0.5 text-sm font-medium"),o(V,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),o(z,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),o(C,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1"),o(I,"class","flex-1 flex flex-col self-center gap-0.5"),o(u,"class","flex space-x-5"),o(N,"class","mb-1 text-xs font-medium"),o(te,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(te,"type","text"),te.required=!0,o(Q,"class","flex-1"),o(Z,"class","flex flex-col w-full"),o(x,"class","pt-0.5"),o(n,"class","space-y-1"),o(oe,"class","py-0.5"),o(ce,"class","dark:border-gray-700 my-4"),o(De,"class","font-medium"),o(Ce,"class","text-xs font-medium text-gray-500"),o(Ce,"type","button"),o(se,"class","flex justify-between items-center text-sm"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[22rem]"),o(ie,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(ne,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(we,Ae){j(we,e,Ae),a(e,t),a(t,l),s[15](l),a(t,r),a(t,n),a(n,u),a(u,c),a(c,p),a(p,_),a(_,h),a(_,g),a(_,w),a(u,E),a(u,I),a(I,y),a(y,D),a(I,L),a(I,T),a(T,V),a(V,P),a(T,R),a(T,z),a(z,q),a(T,B),a(T,C),a(C,K),a(n,F),a(n,x),a(x,Z),a(Z,N),a(N,J),a(Z,X),a(Z,Q),a(Q,te),ge(te,s[2]),a(t,ue),a(t,oe),rt(ve,oe,null),a(t,fe),a(t,ce),a(t,re),a(t,se),a(se,De),a(De,ee),a(se,de),a(se,Ce),a(Ce,xe),a(t,_e),Ue&&Ue.m(t,null),a(e,Je),a(e,ne),a(ne,ie),a(ie,Le),ke=!0,Ve||(Me=[$(l,"change",s[16]),$(_,"click",s[17]),$(V,"click",s[18]),$(z,"click",s[19]),$(C,"click",s[20]),$(te,"input",s[21]),$(Ce,"click",s[22]),$(ie,"click",s[29])],Ve=!0)},p(we,[Ae]){(!ke||Ae&6&&!es(h.src,m=we[1]!==""?we[1]:Kl(we[2])))&&o(h,"src",m),(!ke||Ae&2048)&&k!==(k=we[11].t("Profile Image")+"")&&W(D,k),(!ke||Ae&2048)&&M!==(M=we[11].t("Use Initials")+"")&&W(P,M),(!ke||Ae&2048)&&O!==(O=we[11].t("Use Gravatar")+"")&&W(q,O),(!ke||Ae&2048)&&G!==(G=we[11].t("Remove")+"")&&W(K,G),(!ke||Ae&2048)&&Y!==(Y=we[11].t("Name")+"")&&W(J,Y),Ae&4&&te.value!==we[2]&&ge(te,we[2]),(!ke||Ae&2048)&&ae!==(ae=we[11].t("API keys")+"")&&W(ee,ae),(!ke||Ae&2056)&&he!==(he=(we[3]?we[11].t("Hide"):we[11].t("Show"))+"")&&W(xe,he),we[3]?Ue?(Ue.p(we,Ae),Ae&8&&ye(Ue,1)):(Ue=Ns(we),Ue.c(),ye(Ue,1),Ue.m(t,null)):Ue&&(zt(),Ne(Ue,1,1,()=>{Ue=null}),Zt()),(!ke||Ae&2048)&&le!==(le=we[11].t("Save")+"")&&W(Le,le)},i(we){ke||(ye(ve.$$.fragment,we),ye(Ue),ke=!0)},o(we){Ne(ve.$$.fragment,we),Ne(Ue),ke=!1},d(we){we&&i(e),s[15](null),at(ve),Ue&&Ue.d(),Ve=!1,ut(Me)}}}function _o(s,e,t){let l,r;nt(s,sl,F=>t(10,l=F));const n=jt("i18n");nt(s,n,F=>t(11,r=F));let{saveHandler:u}=e,c="",p="",_=!1,h=!1,m=!1,g="",w=!1,b=!1,E;const I=async()=>{p!==l.name&&(c===Kl(l.name)||c==="")&&t(1,c=Kl(p));const F=await un(localStorage.token,p,c).catch(x=>{Xe.error(x)});return F?(await sl.set(F),!0):!1},y=async()=>{t(6,g=await cn(localStorage.token)),g?Xe.success(r.t("API Key created.")):Xe.error(r.t("Failed to create API Key."))};Ft(async()=>{t(2,p=l.name),t(1,c=l.profile_image_url),t(6,g=await on(localStorage.token).catch(F=>(console.log(F),"")))});function k(F){Rt[F?"unshift":"push"](()=>{E=F,t(9,E)})}const D=F=>{const x=E.files??[];let Z=new FileReader;Z.onload=N=>{let Y=`${N.target.result}`;const J=new Image;J.src=Y,J.onload=function(){const X=document.createElement("canvas"),Q=X.getContext("2d"),te=J.width/J.height;let ue,oe;te>1?(ue=100*te,oe=100):(ue=100,oe=100/te),X.width=100,X.height=100;const ve=(100-ue)/2,fe=(100-oe)/2;Q.drawImage(J,ve,fe,ue,oe);const ce=X.toDataURL("image/jpeg");t(1,c=ce),t(9,E.files=null,E)}},x.length>0&&["image/gif","image/jpeg","image/png"].includes(x[0].type)&&Z.readAsDataURL(x[0])},L=()=>{E.click()},T=async()=>{Ba()?t(1,c=Kl(p)):Xe.info(r.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},V=async()=>{const F=await fn(l.email);t(1,c=F)},M=async()=>{t(1,c="/user.png")};function P(){p=this.value,t(2,p)}const R=()=>{t(3,_=!_)},z=()=>{t(4,h=!h)},O=()=>{ys(localStorage.token),t(5,m=!0),setTimeout(()=>{t(5,m=!1)},2e3)},q=()=>{t(7,w=!w)},B=()=>{ys(g),t(8,b=!0),setTimeout(()=>{t(8,b=!1)},2e3)},C=()=>{y()},G=()=>{y()},K=async()=>{await I()&&u()};return s.$$set=F=>{"saveHandler"in F&&t(0,u=F.saveHandler)},[u,c,p,_,h,m,g,w,b,E,l,r,n,I,y,k,D,L,T,V,M,P,R,z,O,q,B,C,G,K]}class go extends St{constructor(e){super(),Lt(this,e,_o,po,At,{saveHandler:0})}}var Ps={exports:{}},ds={exports:{}},hs={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l){return function(...r){if(l===null)throw new Error("Callback was already called.");var n=l;l=null,n.apply(this,r)}}s.exports=e.default})(hs,hs.exports);var mo=hs.exports,dl={};Object.defineProperty(dl,"__esModule",{value:!0});dl.fallback=xa;dl.wrap=Oa;var bo=dl.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,wo=dl.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,ko=dl.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function xa(s){setTimeout(s,0)}function Oa(s){return(e,...t)=>s(()=>e(...t))}var Fl;bo?Fl=queueMicrotask:wo?Fl=setImmediate:ko?Fl=process.nextTick:Fl=xa;dl.default=Oa(Fl);var vs={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});class t{constructor(){this.head=this.tail=null,this.length=0}removeLink(n){return n.prev?n.prev.next=n.next:this.head=n.next,n.next?n.next.prev=n.prev:this.tail=n.prev,n.prev=n.next=null,this.length-=1,n}empty(){for(;this.head;)this.shift();return this}insertAfter(n,u){u.prev=n,u.next=n.next,n.next?n.next.prev=u:this.tail=u,n.next=u,this.length+=1}insertBefore(n,u){u.prev=n.prev,u.next=n,n.prev?n.prev.next=u:this.head=u,n.prev=u,this.length+=1}unshift(n){this.head?this.insertBefore(this.head,n):l(this,n)}push(n){this.tail?this.insertAfter(this.tail,n):l(this,n)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var n=this.head;n;)yield n.data,n=n.next}remove(n){for(var u=this.head;u;){var{next:c}=u;n(u)&&this.removeLink(u),u=c}return this}}e.default=t;function l(r,n){r.length=1,r.head=r.tail=n}s.exports=e.default})(vs,vs.exports);var yo=vs.exports,ll={},Xl={exports:{}},ps={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(...l){var r=l.pop();return t.call(this,l,r)}},s.exports=e.default})(ps,ps.exports);var Eo=ps.exports,Bs;function Io(){return Bs||(Bs=1,function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var t=Eo,l=c(t),r=dl,n=c(r),u=ms();function c(m){return m&&m.__esModule?m:{default:m}}function p(m){return(0,u.isAsync)(m)?function(...g){const w=g.pop(),b=m.apply(this,g);return _(b,w)}:(0,l.default)(function(g,w){var b;try{b=m.apply(this,g)}catch(E){return w(E)}if(b&&typeof b.then=="function")return _(b,w);w(null,b)})}function _(m,g){return m.then(w=>{h(g,null,w)},w=>{h(g,w&&(w instanceof Error||w.message)?w:new Error(w))})}function h(m,g,w){try{m(g,w)}catch(b){(0,n.default)(E=>{throw E},b)}}s.exports=e.default}(Xl,Xl.exports)),Xl.exports}var Hs;function ms(){if(Hs)return ll;Hs=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.isAsyncIterable=ll.isAsyncGenerator=ll.isAsync=void 0;var s=Io(),e=t(s);function t(c){return c&&c.__esModule?c:{default:c}}function l(c){return c[Symbol.toStringTag]==="AsyncFunction"}function r(c){return c[Symbol.toStringTag]==="AsyncGenerator"}function n(c){return typeof c[Symbol.asyncIterator]=="function"}function u(c){if(typeof c!="function")throw new Error("expected a function");return l(c)?(0,e.default)(c):c}return ll.default=u,ll.isAsync=l,ll.isAsyncGenerator=r,ll.isAsyncIterable=n,ll}(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;var t=mo,l=h(t),r=dl,n=h(r),u=yo,c=h(u),p=ms(),_=h(p);function h(g){return g&&g.__esModule?g:{default:g}}function m(g,w,b){if(w==null)w=1;else if(w===0)throw new RangeError("Concurrency must not be zero");var E=(0,_.default)(g),I=0,y=[];const k={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function D(C,G){k[C].push(G)}function L(C,G){const K=(...F)=>{T(C,K),G(...F)};k[C].push(K)}function T(C,G){if(!C)return Object.keys(k).forEach(K=>k[K]=[]);if(!G)return k[C]=[];k[C]=k[C].filter(K=>K!==G)}function V(C,...G){k[C].forEach(K=>K(...G))}var M=!1;function P(C,G,K,F){if(F!=null&&typeof F!="function")throw new Error("task callback must be a function");B.started=!0;var x,Z;function N(J,...X){if(J)return K?Z(J):x();if(X.length<=1)return x(X[0]);x(X)}var Y=B._createTaskItem(C,K?N:F||N);if(G?B._tasks.unshift(Y):B._tasks.push(Y),M||(M=!0,(0,n.default)(()=>{M=!1,B.process()})),K||!F)return new Promise((J,X)=>{x=J,Z=X})}function R(C){return function(G,...K){I-=1;for(var F=0,x=C.length;F<x;F++){var Z=C[F],N=y.indexOf(Z);N===0?y.shift():N>0&&y.splice(N,1),Z.callback(G,...K),G!=null&&V("error",G,Z.data)}I<=B.concurrency-B.buffer&&V("unsaturated"),B.idle()&&V("drain"),B.process()}}function z(C){return C.length===0&&B.idle()?((0,n.default)(()=>V("drain")),!0):!1}const O=C=>G=>{if(!G)return new Promise((K,F)=>{L(C,(x,Z)=>{if(x)return F(x);K(Z)})});T(C),D(C,G)};var q=!1,B={_tasks:new c.default,_createTaskItem(C,G){return{data:C,callback:G}},*[Symbol.iterator](){yield*B._tasks[Symbol.iterator]()},concurrency:w,payload:b,buffer:w/4,started:!1,paused:!1,push(C,G){return Array.isArray(C)?z(C)?void 0:C.map(K=>P(K,!1,!1,G)):P(C,!1,!1,G)},pushAsync(C,G){return Array.isArray(C)?z(C)?void 0:C.map(K=>P(K,!1,!0,G)):P(C,!1,!0,G)},kill(){T(),B._tasks.empty()},unshift(C,G){return Array.isArray(C)?z(C)?void 0:C.map(K=>P(K,!0,!1,G)):P(C,!0,!1,G)},unshiftAsync(C,G){return Array.isArray(C)?z(C)?void 0:C.map(K=>P(K,!0,!0,G)):P(C,!0,!0,G)},remove(C){B._tasks.remove(C)},process(){if(!q){for(q=!0;!B.paused&&I<B.concurrency&&B._tasks.length;){var C=[],G=[],K=B._tasks.length;B.payload&&(K=Math.min(K,B.payload));for(var F=0;F<K;F++){var x=B._tasks.shift();C.push(x),y.push(x),G.push(x.data)}I+=1,B._tasks.length===0&&V("empty"),I===B.concurrency&&V("saturated");var Z=(0,l.default)(R(C));E(G,Z)}q=!1}},length(){return B._tasks.length},running(){return I},workersList(){return y},idle(){return B._tasks.length+I===0},pause(){B.paused=!0},resume(){B.paused!==!1&&(B.paused=!1,(0,n.default)(B.process))}};return Object.defineProperties(B,{saturated:{writable:!1,value:O("saturated")},unsaturated:{writable:!1,value:O("unsaturated")},empty:{writable:!1,value:O("empty")},drain:{writable:!1,value:O("drain")},error:{writable:!1,value:O("error")}}),B}s.exports=e.default})(ds,ds.exports);var Do=ds.exports;(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c,p){var _=(0,n.default)(c);return(0,l.default)((h,m)=>{_(h[0],m)},p,1)};var t=Do,l=u(t),r=ms(),n=u(r);function u(c){return c&&c.__esModule?c:{default:c}}s.exports=e.default})(Ps,Ps.exports);function Us(s,e,t){const l=s.slice();return l[69]=e[t],l}function js(s,e,t){const l=s.slice();return l[69]=e[t],l}function Rs(s,e,t){const l=s.slice();return l[69]=e[t],l}function zs(s,e,t){const l=s.slice();return l[76]=e[t],l[78]=t,l}function Zs(s){let e,t,l=s[27].t("Manage Ollama Models")+"",r,n,u,c,p,_,h=s[27].t("Pull a model from Ollama.com")+"",m,g,w,b,E,I,y,k,D,L,T=s[27].t("To access the available model names for downloading,")+"",V,M,P,R=s[27].t("click here.")+"",z,O,q=Object.keys(s[28]).length>0,B,C,G,K=s[27].t("Delete a model")+"",F,x,Z,N,Y,J,X,Q,te,ue='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',oe,ve,fe,ce,re=s[27].t("Experimental")+"",se,De,ae,ee=(s[15]?s[27].t("Hide"):s[27].t("Show"))+"",de,Ce,he,xe,_e,Je,ne,ie=s[11].length>0&&Ws(s);function le(me,Te){return me[17]?Mo:Vo}let Le=le(s),ke=Le(s),Ve=q&&Fs(s),Me=!s[26]&&Xs(s),Ue=ot(s[29].filter(s[44])),we=[];for(let me=0;me<Ue.length;me+=1)we[me]=Qs(js(s,Ue,me));let Ae=s[15]&&$s(s);return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),ie&&ie.c(),u=A(),c=f("div"),p=f("div"),_=f("div"),m=H(h),g=A(),w=f("div"),b=f("div"),E=f("input"),y=A(),k=f("button"),ke.c(),D=A(),L=f("div"),V=H(T),M=A(),P=f("a"),z=H(R),O=A(),Ve&&Ve.c(),B=A(),C=f("div"),G=f("div"),F=H(K),x=A(),Z=f("div"),N=f("div"),Y=f("select"),Me&&Me.c(),J=It();for(let me=0;me<we.length;me+=1)we[me].c();Q=A(),te=f("button"),te.innerHTML=ue,oe=A(),ve=f("div"),fe=f("div"),ce=f("div"),se=H(re),De=A(),ae=f("button"),de=H(ee),Ce=A(),Ae&&Ae.c(),he=A(),xe=f("hr"),this.h()},l(me){e=d(me,"DIV",{class:!0});var Te=v(e);t=d(Te,"DIV",{class:!0});var Ie=v(t);r=U(Ie,l),Ie.forEach(i),n=S(Te),ie&&ie.l(Te),u=S(Te),c=d(Te,"DIV",{class:!0});var je=v(c);p=d(je,"DIV",{});var be=v(p);_=d(be,"DIV",{class:!0});var Re=v(_);m=U(Re,h),Re.forEach(i),g=S(be),w=d(be,"DIV",{class:!0});var Ge=v(w);b=d(Ge,"DIV",{class:!0});var We=v(b);E=d(We,"INPUT",{class:!0,placeholder:!0}),We.forEach(i),y=S(Ge),k=d(Ge,"BUTTON",{class:!0});var et=v(k);ke.l(et),et.forEach(i),Ge.forEach(i),D=S(be),L=d(be,"DIV",{class:!0});var Fe=v(L);V=U(Fe,T),M=S(Fe),P=d(Fe,"A",{class:!0,href:!0,target:!0});var qe=v(P);z=U(qe,R),qe.forEach(i),Fe.forEach(i),O=S(be),Ve&&Ve.l(be),be.forEach(i),B=S(je),C=d(je,"DIV",{});var Ke=v(C);G=d(Ke,"DIV",{class:!0});var Oe=v(G);F=U(Oe,K),Oe.forEach(i),x=S(Ke),Z=d(Ke,"DIV",{class:!0});var Ee=v(Z);N=d(Ee,"DIV",{class:!0});var tt=v(N);Y=d(tt,"SELECT",{class:!0,placeholder:!0});var Pe=v(Y);Me&&Me.l(Pe),J=It();for(let ct=0;ct<we.length;ct+=1)we[ct].l(Pe);Pe.forEach(i),tt.forEach(i),Q=S(Ee),te=d(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(te)!=="svelte-1u0ox72"&&(te.innerHTML=ue),Ee.forEach(i),Ke.forEach(i),oe=S(je),ve=d(je,"DIV",{class:!0});var ze=v(ve);fe=d(ze,"DIV",{class:!0});var pe=v(fe);ce=d(pe,"DIV",{class:!0});var Ze=v(ce);se=U(Ze,re),Ze.forEach(i),De=S(pe),ae=d(pe,"BUTTON",{class:!0,type:!0});var ft=v(ae);de=U(ft,ee),ft.forEach(i),pe.forEach(i),ze.forEach(i),Ce=S(je),Ae&&Ae.l(je),je.forEach(i),Te.forEach(i),he=S(me),xe=d(me,"HR",{class:!0}),this.h()},h(){o(t,"class","text-sm font-medium"),o(_,"class","mb-2 text-sm font-medium"),o(E,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(E,"placeholder",I=s[27].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),o(b,"class","flex-1 mr-2"),o(k,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),k.disabled=s[17],o(w,"class","flex w-full"),o(P,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(P,"href","https://ollama.com/library"),o(P,"target","_blank"),o(L,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(G,"class","mb-2 text-sm font-medium"),o(Y,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Y,"placeholder",X=s[27].t("Select a model")),s[26]===void 0&&Gt(()=>s[45].call(Y)),o(N,"class","flex-1 mr-2"),o(te,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(Z,"class","flex w-full"),o(ce,"class","text-sm font-medium"),o(ae,"class","text-xs font-medium text-gray-500"),o(ae,"type","button"),o(fe,"class","flex justify-between items-center text-xs"),o(ve,"class","pt-1"),o(c,"class","space-y-2"),o(e,"class","space-y-2 pr-1.5"),o(xe,"class","dark:border-gray-700 my-2")},m(me,Te){j(me,e,Te),a(e,t),a(t,r),a(e,n),ie&&ie.m(e,null),a(e,u),a(e,c),a(c,p),a(p,_),a(_,m),a(p,g),a(p,w),a(w,b),a(b,E),ge(E,s[18]),a(w,y),a(w,k),ke.m(k,null),a(p,D),a(p,L),a(L,V),a(L,M),a(L,P),a(P,z),a(p,O),Ve&&Ve.m(p,null),a(c,B),a(c,C),a(C,G),a(G,F),a(C,x),a(C,Z),a(Z,N),a(N,Y),Me&&Me.m(Y,null),a(Y,J);for(let Ie=0;Ie<we.length;Ie+=1)we[Ie]&&we[Ie].m(Y,null);Et(Y,s[26],!0),a(Z,Q),a(Z,te),a(c,oe),a(c,ve),a(ve,fe),a(fe,ce),a(ce,se),a(fe,De),a(fe,ae),a(ae,de),a(c,Ce),Ae&&Ae.m(c,null),j(me,he,Te),j(me,xe,Te),_e=!0,Je||(ne=[$(E,"input",s[41]),$(k,"click",s[42]),$(Y,"change",s[45]),$(te,"click",s[46]),$(ae,"click",s[47])],Je=!0)},p(me,Te){if((!_e||Te[0]&134217728)&&l!==(l=me[27].t("Manage Ollama Models")+"")&&W(r,l),me[11].length>0?ie?(ie.p(me,Te),Te[0]&2048&&ye(ie,1)):(ie=Ws(me),ie.c(),ye(ie,1),ie.m(e,u)):ie&&(zt(),Ne(ie,1,1,()=>{ie=null}),Zt()),(!_e||Te[0]&134217728)&&h!==(h=me[27].t("Pull a model from Ollama.com")+"")&&W(m,h),(!_e||Te[0]&134217728&&I!==(I=me[27].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&o(E,"placeholder",I),Te[0]&262144&&E.value!==me[18]&&ge(E,me[18]),Le!==(Le=le(me))&&(ke.d(1),ke=Le(me),ke&&(ke.c(),ke.m(k,null))),(!_e||Te[0]&131072)&&(k.disabled=me[17]),(!_e||Te[0]&134217728)&&T!==(T=me[27].t("To access the available model names for downloading,")+"")&&W(V,T),(!_e||Te[0]&134217728)&&R!==(R=me[27].t("click here.")+"")&&W(z,R),Te[0]&268435456&&(q=Object.keys(me[28]).length>0),q?Ve?(Ve.p(me,Te),Te[0]&268435456&&ye(Ve,1)):(Ve=Fs(me),Ve.c(),ye(Ve,1),Ve.m(p,null)):Ve&&(zt(),Ne(Ve,1,1,()=>{Ve=null}),Zt()),(!_e||Te[0]&134217728)&&K!==(K=me[27].t("Delete a model")+"")&&W(F,K),me[26]?Me&&(Me.d(1),Me=null):Me?Me.p(me,Te):(Me=Xs(me),Me.c(),Me.m(Y,J)),Te[0]&536875008){Ue=ot(me[29].filter(me[44]));let Ie;for(Ie=0;Ie<Ue.length;Ie+=1){const je=js(me,Ue,Ie);we[Ie]?we[Ie].p(je,Te):(we[Ie]=Qs(je),we[Ie].c(),we[Ie].m(Y,null))}for(;Ie<we.length;Ie+=1)we[Ie].d(1);we.length=Ue.length}(!_e||Te[0]&134217728&&X!==(X=me[27].t("Select a model")))&&o(Y,"placeholder",X),Te[0]&603983872&&Et(Y,me[26]),(!_e||Te[0]&134217728)&&re!==(re=me[27].t("Experimental")+"")&&W(se,re),(!_e||Te[0]&134250496)&&ee!==(ee=(me[15]?me[27].t("Hide"):me[27].t("Show"))+"")&&W(de,ee),me[15]?Ae?Ae.p(me,Te):(Ae=$s(me),Ae.c(),Ae.m(c,null)):Ae&&(Ae.d(1),Ae=null)},i(me){_e||(ye(ie),ye(Ve),_e=!0)},o(me){Ne(ie),Ne(Ve),_e=!1},d(me){me&&(i(e),i(he),i(xe)),ie&&ie.d(),ke.d(),Ve&&Ve.d(),Me&&Me.d(),Ct(we,me),Ae&&Ae.d(),Je=!1,ut(ne)}}}function Ws(s){let e,t,l,r,n,u,c,p,_,h,m,g,w,b=ot(s[11]),E=[];for(let y=0;y<b.length;y+=1)E[y]=qs(zs(s,b,y));p=new rl({props:{content:"Update All Models",placement:"top",$$slots:{default:[To]},$$scope:{ctx:s}}});let I=s[13]&&Gs(s);return{c(){e=f("div"),t=f("div"),l=f("select");for(let y=0;y<E.length;y+=1)E[y].c();n=A(),u=f("div"),c=f("div"),lt(p.$$.fragment),_=A(),I&&I.c(),h=It(),this.h()},l(y){e=d(y,"DIV",{class:!0});var k=v(e);t=d(k,"DIV",{class:!0});var D=v(t);l=d(D,"SELECT",{class:!0,placeholder:!0});var L=v(l);for(let M=0;M<E.length;M+=1)E[M].l(L);L.forEach(i),D.forEach(i),n=S(k),u=d(k,"DIV",{});var T=v(u);c=d(T,"DIV",{class:!0});var V=v(c);st(p.$$.fragment,V),V.forEach(i),T.forEach(i),k.forEach(i),_=S(y),I&&I.l(y),h=It(),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",r=s[27].t("Select an Ollama instance")),s[12]===void 0&&Gt(()=>s[39].call(l)),o(t,"class","flex-1 pb-1"),o(c,"class","flex w-full justify-end"),o(e,"class","flex gap-2")},m(y,k){j(y,e,k),a(e,t),a(t,l);for(let D=0;D<E.length;D+=1)E[D]&&E[D].m(l,null);Et(l,s[12],!0),a(e,n),a(e,u),a(u,c),rt(p,c,null),j(y,_,k),I&&I.m(y,k),j(y,h,k),m=!0,g||(w=$(l,"change",s[39]),g=!0)},p(y,k){if(k[0]&2048){b=ot(y[11]);let L;for(L=0;L<b.length;L+=1){const T=zs(y,b,L);E[L]?E[L].p(T,k):(E[L]=qs(T),E[L].c(),E[L].m(l,null))}for(;L<E.length;L+=1)E[L].d(1);E.length=b.length}(!m||k[0]&134217728&&r!==(r=y[27].t("Select an Ollama instance")))&&o(l,"placeholder",r),k[0]&4096&&Et(l,y[12]);const D={};k[2]&131072&&(D.$$scope={dirty:k,ctx:y}),p.$set(D),y[13]?I?I.p(y,k):(I=Gs(y),I.c(),I.m(h.parentNode,h)):I&&(I.d(1),I=null)},i(y){m||(ye(p.$$.fragment,y),m=!0)},o(y){Ne(p.$$.fragment,y),m=!1},d(y){y&&(i(e),i(_),i(h)),Ct(E,y),at(p),I&&I.d(y),g=!1,w()}}}function qs(s){let e,t=s[76]+"",l;return{c(){e=f("option"),l=H(t),this.h()},l(r){e=d(r,"OPTION",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){e.__value=s[78],ge(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&2048&&t!==(t=r[76]+"")&&W(l,t)},d(r){r&&i(e)}}}function To(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',l,r;return{c(){e=f("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-vfv02l"&&(e.innerHTML=t),this.h()},h(){o(e,"class","p-2.5 flex gap-2 items-center bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition")},m(n,u){j(n,e,u),l||(r=$(e,"click",s[40]),l=!0)},p:it,d(n){n&&i(e),l=!1,r()}}}function Gs(s){let e,t,l,r=s[14]?`(${s[14]}%)`:"",n;return{c(){e=H('Updating "'),t=H(s[13]),l=H('" '),n=H(r)},l(u){e=U(u,'Updating "'),t=U(u,s[13]),l=U(u,'" '),n=U(u,r)},m(u,c){j(u,e,c),j(u,t,c),j(u,l,c),j(u,n,c)},p(u,c){c[0]&8192&&W(t,u[13]),c[0]&16384&&r!==(r=u[14]?`(${u[14]}%)`:"")&&W(n,r)},d(u){u&&(i(e),i(t),i(l),i(n))}}}function Vo(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=$e(n,"path",{d:!0}),v(t).forEach(i),l=$e(n,"path",{d:!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){j(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function Mo(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}
												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-1lfba08"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,r){j(l,e,r)},d(l){l&&i(e)}}}function Fs(s){let e,t,l=ot(Object.keys(s[28])),r=[];for(let u=0;u<l.length;u+=1)r[u]=Js(Rs(s,l,u));const n=u=>Ne(r[u],1,1,()=>{r[u]=null});return{c(){for(let u=0;u<r.length;u+=1)r[u].c();e=It()},l(u){for(let c=0;c<r.length;c+=1)r[c].l(u);e=It()},m(u,c){for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(u,c);j(u,e,c),t=!0},p(u,c){if(c[0]&402653184|c[1]&16){l=ot(Object.keys(u[28]));let p;for(p=0;p<l.length;p+=1){const _=Rs(u,l,p);r[p]?(r[p].p(_,c),ye(r[p],1)):(r[p]=Js(_),r[p].c(),ye(r[p],1),r[p].m(e.parentNode,e))}for(zt(),p=l.length;p<r.length;p+=1)n(p);Zt()}},i(u){if(!t){for(let c=0;c<l.length;c+=1)ye(r[c]);t=!0}},o(u){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)Ne(r[c]);t=!1},d(u){u&&i(e),Ct(r,u)}}}function Ks(s){let e,t,l=s[69]+"",r,n,u,c,p,_,h=(s[28][s[69]].pullProgress??0)+"",m,g,w,b,E,I,y;b=new rl({props:{content:s[27].t("Cancel"),$$slots:{default:[Ao]},$$scope:{ctx:s}}});let k="digest"in s[28][s[69]]&&Ys(s);return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("div"),p=f("div"),_=f("div"),m=H(h),g=H("%"),w=A(),lt(b.$$.fragment),E=A(),k&&k.c(),I=A(),this.h()},l(D){e=d(D,"DIV",{class:!0});var L=v(e);t=d(L,"DIV",{class:!0});var T=v(t);r=U(T,l),T.forEach(i),n=S(L),u=d(L,"DIV",{class:!0});var V=v(u);c=d(V,"DIV",{class:!0});var M=v(c);p=d(M,"DIV",{class:!0});var P=v(p);_=d(P,"DIV",{class:!0,style:!0});var R=v(_);m=U(R,h),g=U(R,"%"),R.forEach(i),P.forEach(i),w=S(M),st(b.$$.fragment,M),M.forEach(i),E=S(V),k&&k.l(V),V.forEach(i),I=S(L),L.forEach(i),this.h()},h(){o(t,"class","font-medium mb-1"),o(_,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),ht(_,"width",Math.max(15,s[28][s[69]].pullProgress??0)+"%"),o(p,"class","flex-1"),o(c,"class","flex flex-row justify-between space-x-4 pr-2"),o(u,"class",""),o(e,"class","flex flex-col")},m(D,L){j(D,e,L),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),a(c,p),a(p,_),a(_,m),a(_,g),a(c,w),rt(b,c,null),a(u,E),k&&k.m(u,null),a(e,I),y=!0},p(D,L){(!y||L[0]&268435456)&&l!==(l=D[69]+"")&&W(r,l),(!y||L[0]&268435456)&&h!==(h=(D[28][D[69]].pullProgress??0)+"")&&W(m,h),(!y||L[0]&268435456)&&ht(_,"width",Math.max(15,D[28][D[69]].pullProgress??0)+"%");const T={};L[0]&134217728&&(T.content=D[27].t("Cancel")),L[0]&268435456|L[2]&131072&&(T.$$scope={dirty:L,ctx:D}),b.$set(T),"digest"in D[28][D[69]]?k?k.p(D,L):(k=Ys(D),k.c(),k.m(u,null)):k&&(k.d(1),k=null)},i(D){y||(ye(b.$$.fragment,D),y=!0)},o(D){Ne(b.$$.fragment,D),y=!1},d(D){D&&i(e),at(b),k&&k.d()}}}function Ao(s){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,r;function n(){return s[43](s[69])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-wt1ity"&&(e.innerHTML=t),this.h()},h(){o(e,"class","text-gray-800 dark:text-gray-100")},m(u,c){j(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function Ys(s){let e,t=s[28][s[69]].digest+"",l;return{c(){e=f("div"),l=H(t),this.h()},l(r){e=d(r,"DIV",{class:!0,style:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","mt-1 text-xs dark:text-gray-500"),ht(e,"font-size","0.5rem")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&268435456&&t!==(t=r[28][r[69]].digest+"")&&W(l,t)},d(r){r&&i(e)}}}function Js(s){let e,t,l="pullProgress"in s[28][s[69]]&&Ks(s);return{c(){l&&l.c(),e=It()},l(r){l&&l.l(r),e=It()},m(r,n){l&&l.m(r,n),j(r,e,n),t=!0},p(r,n){"pullProgress"in r[28][r[69]]?l?(l.p(r,n),n[0]&268435456&&ye(l,1)):(l=Ks(r),l.c(),ye(l,1),l.m(e.parentNode,e)):l&&(zt(),Ne(l,1,1,()=>{l=null}),Zt())},i(r){t||(ye(l),t=!0)},o(r){Ne(l),t=!1},d(r){r&&i(e),l&&l.d(r)}}}function Xs(s){let e,t=s[27].t("Select a model")+"",l;return{c(){e=f("option"),l=H(t),this.h()},l(r){e=d(r,"OPTION",{});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){e.__value="",ge(e,e.__value),e.disabled=!0,e.selected=!0},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&134217728&&t!==(t=r[27].t("Select a model")+"")&&W(l,t)},d(r){r&&i(e)}}}function Qs(s){let e,t=s[69].name+" ("+(s[69].size/1073741824).toFixed(1)+" GB)",l,r;return{c(){e=f("option"),l=H(t),this.h()},l(n){e=d(n,"OPTION",{class:!0});var u=v(e);l=U(u,t),u.forEach(i),this.h()},h(){e.__value=r=s[69].name,ge(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,u){j(n,e,u),a(e,l)},p(n,u){u[0]&536875008&&t!==(t=n[69].name+" ("+(n[69].size/1024**3).toFixed(1)+" GB)")&&W(l,t),u[0]&536875008&&r!==(r=n[69].name)&&(e.__value=r,ge(e,e.__value))},d(n){n&&i(e)}}}function $s(s){let e,t,l,r=s[27].t("Upload a GGUF model")+"",n,u,c,p,_,h,m,g,w,b,E=s[27].t("To access the GGUF models available for downloading,")+"",I,y,k,D=s[27].t("click here.")+"",L,T,V,M;function P(Z,N){return Z[19]==="file"?Lo:So}let R=P(s),z=R(s);function O(Z,N){return Z[19]==="file"?xo:Co}let q=O(s),B=q(s),C=(s[19]==="file"&&s[20]&&s[20].length>0||s[19]==="url"&&s[21]!=="")&&er(s),G=(s[19]==="file"&&s[20]&&s[20].length>0||s[19]==="url"&&s[21]!=="")&&tr(s);function K(Z,N){if(Z[25])return Uo;if(Z[24]!==null)return Ho}let F=K(s),x=F&&F(s);return{c(){e=f("form"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("button"),z.c(),p=A(),_=f("div"),h=f("div"),B.c(),m=A(),C&&C.c(),g=A(),G&&G.c(),w=A(),b=f("div"),I=H(E),y=A(),k=f("a"),L=H(D),T=A(),x&&x.c(),this.h()},l(Z){e=d(Z,"FORM",{});var N=v(e);t=d(N,"DIV",{class:!0});var Y=v(t);l=d(Y,"DIV",{class:!0});var J=v(l);n=U(J,r),J.forEach(i),u=S(Y),c=d(Y,"BUTTON",{class:!0,type:!0});var X=v(c);z.l(X),X.forEach(i),Y.forEach(i),p=S(N),_=d(N,"DIV",{class:!0});var Q=v(_);h=d(Q,"DIV",{class:!0});var te=v(h);B.l(te),te.forEach(i),m=S(Q),C&&C.l(Q),Q.forEach(i),g=S(N),G&&G.l(N),w=S(N),b=d(N,"DIV",{class:!0});var ue=v(b);I=U(ue,E),y=S(ue),k=d(ue,"A",{class:!0,href:!0,target:!0});var oe=v(k);L=U(oe,D),oe.forEach(i),ue.forEach(i),T=S(N),x&&x.l(N),N.forEach(i),this.h()},h(){o(l,"class","text-sm font-medium"),o(c,"class","p-1 px-3 text-xs flex rounded transition"),o(c,"type","button"),o(t,"class","mb-2 flex w-full justify-between"),o(h,"class","flex flex-col w-full"),o(_,"class","flex w-full mb-1.5"),o(k,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(k,"href","https://huggingface.co/models?search=gguf"),o(k,"target","_blank"),o(b,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(Z,N){j(Z,e,N),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),z.m(c,null),a(e,p),a(e,_),a(_,h),B.m(h,null),a(_,m),C&&C.m(_,null),a(e,g),G&&G.m(e,null),a(e,w),a(e,b),a(b,I),a(b,y),a(b,k),a(k,L),a(e,T),x&&x.m(e,null),V||(M=[$(c,"click",s[48]),$(e,"submit",Nl(s[55]))],V=!0)},p(Z,N){N[0]&134217728&&r!==(r=Z[27].t("Upload a GGUF model")+"")&&W(n,r),R===(R=P(Z))&&z?z.p(Z,N):(z.d(1),z=R(Z),z&&(z.c(),z.m(c,null))),q===(q=O(Z))&&B?B.p(Z,N):(B.d(1),B=q(Z),B&&(B.c(),B.m(h,null))),Z[19]==="file"&&Z[20]&&Z[20].length>0||Z[19]==="url"&&Z[21]!==""?C?C.p(Z,N):(C=er(Z),C.c(),C.m(_,null)):C&&(C.d(1),C=null),Z[19]==="file"&&Z[20]&&Z[20].length>0||Z[19]==="url"&&Z[21]!==""?G?G.p(Z,N):(G=tr(Z),G.c(),G.m(e,w)):G&&(G.d(1),G=null),N[0]&134217728&&E!==(E=Z[27].t("To access the GGUF models available for downloading,")+"")&&W(I,E),N[0]&134217728&&D!==(D=Z[27].t("click here.")+"")&&W(L,D),F===(F=K(Z))&&x?x.p(Z,N):(x&&x.d(1),x=F&&F(Z),x&&(x.c(),x.m(e,null)))},d(Z){Z&&i(e),z.d(),B.d(),C&&C.d(),G&&G.d(),x&&x.d(),V=!1,ut(M)}}}function So(s){let e,t=s[27].t("URL Mode")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&134217728&&t!==(t=r[27].t("URL Mode")+"")&&W(l,t)},d(r){r&&i(e)}}}function Lo(s){let e,t=s[27].t("File Mode")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&134217728&&t!==(t=r[27].t("File Mode")+"")&&W(l,t)},d(r){r&&i(e)}}}function Co(s){let e,t,l,r,n,u,c;return{c(){e=f("div"),t=f("input"),this.h()},l(p){e=d(p,"DIV",{class:!0});var _=v(e);t=d(_,"INPUT",{class:!0,type:!0,placeholder:!0}),_.forEach(i),this.h()},h(){o(t,"class",l="w-full rounded-lg text-left py-2 px-4 bg-white dark:text-gray-300 dark:bg-gray-850 outline-none "+(s[21]!==""?"mr-2":"")),o(t,"type","url"),t.required=!0,o(t,"placeholder",r=s[27].t("Type Hugging Face Resolve (Download) URL")),o(e,"class",n="flex-1 "+(s[21]!==""?"mr-2":""))},m(p,_){j(p,e,_),a(e,t),ge(t,s[21]),u||(c=$(t,"input",s[53]),u=!0)},p(p,_){_[0]&2097152&&l!==(l="w-full rounded-lg text-left py-2 px-4 bg-white dark:text-gray-300 dark:bg-gray-850 outline-none "+(p[21]!==""?"mr-2":""))&&o(t,"class",l),_[0]&134217728&&r!==(r=p[27].t("Type Hugging Face Resolve (Download) URL"))&&o(t,"placeholder",r),_[0]&2097152&&t.value!==p[21]&&ge(t,p[21]),_[0]&2097152&&n!==(n="flex-1 "+(p[21]!==""?"mr-2":""))&&o(e,"class",n)},d(p){p&&i(e),u=!1,c()}}}function xo(s){let e,t,l,r,n,u,c;function p(m,g){return m[20]&&m[20].length>0?No:Oo}let _=p(s),h=_(s);return{c(){e=f("div"),t=f("input"),l=A(),r=f("button"),h.c(),this.h()},l(m){e=d(m,"DIV",{class:!0});var g=v(e);t=d(g,"INPUT",{id:!0,type:!0,accept:!0}),l=S(g),r=d(g,"BUTTON",{type:!0,class:!0});var w=v(r);h.l(w),w.forEach(i),g.forEach(i),this.h()},h(){o(t,"id","model-upload-input"),o(t,"type","file"),o(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,o(r,"type","button"),o(r,"class","w-full rounded-lg text-left py-2 px-4 bg-white dark:text-gray-300 dark:bg-gray-850"),o(e,"class",n="flex-1 "+(s[20]&&s[20].length>0?"mr-2":""))},m(m,g){j(m,e,g),a(e,t),s[49](t),a(e,l),a(e,r),h.m(r,null),u||(c=[$(t,"change",s[50]),$(t,"change",s[51]),$(r,"click",s[52])],u=!0)},p(m,g){_===(_=p(m))&&h?h.p(m,g):(h.d(1),h=_(m),h&&(h.c(),h.m(r,null))),g[0]&1048576&&n!==(n="flex-1 "+(m[20]&&m[20].length>0?"mr-2":""))&&o(e,"class",n)},d(m){m&&i(e),s[49](null),h.d(),u=!1,ut(c)}}}function Oo(s){let e=s[27].t("Click here to select")+"",t;return{c(){t=H(e)},l(l){t=U(l,e)},m(l,r){j(l,t,r)},p(l,r){r[0]&134217728&&e!==(e=l[27].t("Click here to select")+"")&&W(t,e)},d(l){l&&i(t)}}}function No(s){let e=s[20][0].name+"",t;return{c(){t=H(e)},l(l){t=U(l,e)},m(l,r){j(l,t,r)},p(l,r){r[0]&1048576&&e!==(e=l[20][0].name+"")&&W(t,e)},d(l){l&&i(t)}}}function er(s){let e;function t(n,u){return n[17]?Bo:Po}let l=t(s),r=l(s);return{c(){e=f("button"),r.c(),this.h()},l(n){e=d(n,"BUTTON",{class:!0,type:!0});var u=v(e);r.l(u),u.forEach(i),this.h()},h(){o(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),o(e,"type","submit"),e.disabled=s[17]},m(n,u){j(n,e,u),r.m(e,null)},p(n,u){l!==(l=t(n))&&(r.d(1),r=l(n),r&&(r.c(),r.m(e,null))),u[0]&131072&&(e.disabled=n[17])},d(n){n&&i(e),r.d()}}}function Po(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=$e(n,"path",{d:!0}),v(t).forEach(i),l=$e(n,"path",{d:!0}),v(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){j(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function Bo(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
															transform-origin: center;
															animation: spinner_AtaB 0.75s infinite linear;
														}
														@keyframes spinner_AtaB {
															100% {
																transform: rotate(360deg);
															}
														}
													</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-23bxbk"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,r){j(l,e,r)},d(l){l&&i(e)}}}function tr(s){let e,t,l,r=s[27].t("Modelfile Content")+"",n,u,c,p,_;return{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("textarea"),this.h()},l(h){e=d(h,"DIV",{});var m=v(e);t=d(m,"DIV",{});var g=v(t);l=d(g,"DIV",{class:!0});var w=v(l);n=U(w,r),w.forEach(i),u=S(g),c=d(g,"TEXTAREA",{class:!0,rows:!0}),v(c).forEach(i),g.forEach(i),m.forEach(i),this.h()},h(){o(l,"class","my-2.5 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-100 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none"),o(c,"rows","6")},m(h,m){j(h,e,m),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),ge(c,s[22]),p||(_=$(c,"input",s[54]),p=!0)},p(h,m){m[0]&134217728&&r!==(r=h[27].t("Modelfile Content")+"")&&W(n,r),m[0]&4194304&&ge(c,h[22])},d(h){h&&i(e),p=!1,_()}}}function Ho(s){let e,t,l=s[27].t("Upload Progress")+"",r,n,u,c,p=(s[24]??0)+"",_,h,m,g,w;return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("div"),_=H(p),h=H("%"),m=A(),g=f("div"),w=H(s[23]),this.h()},l(b){e=d(b,"DIV",{class:!0});var E=v(e);t=d(E,"DIV",{class:!0});var I=v(t);r=U(I,l),I.forEach(i),n=S(E),u=d(E,"DIV",{class:!0});var y=v(u);c=d(y,"DIV",{class:!0,style:!0});var k=v(c);_=U(k,p),h=U(k,"%"),k.forEach(i),y.forEach(i),m=S(E),g=d(E,"DIV",{class:!0,style:!0});var D=v(g);w=U(D,s[23]),D.forEach(i),E.forEach(i),this.h()},h(){o(t,"class","mb-2 text-xs"),o(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),ht(c,"width",Math.max(15,s[24]??0)+"%"),o(u,"class","w-full rounded-full dark:bg-gray-800"),o(g,"class","mt-1 text-xs dark:text-gray-500"),ht(g,"font-size","0.5rem"),o(e,"class","mt-2")},m(b,E){j(b,e,E),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),a(c,_),a(c,h),a(e,m),a(e,g),a(g,w)},p(b,E){E[0]&134217728&&l!==(l=b[27].t("Upload Progress")+"")&&W(r,l),E[0]&16777216&&p!==(p=(b[24]??0)+"")&&W(_,p),E[0]&16777216&&ht(c,"width",Math.max(15,b[24]??0)+"%"),E[0]&8388608&&W(w,b[23])},d(b){b&&i(e)}}}function Uo(s){let e,t,l=s[27].t("Upload Progress")+"",r,n,u,c,p,_,h,m;return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("div"),p=H(s[25]),_=A(),h=f("div"),m=H(s[23]),this.h()},l(g){e=d(g,"DIV",{class:!0});var w=v(e);t=d(w,"DIV",{class:!0});var b=v(t);r=U(b,l),b.forEach(i),n=S(w),u=d(w,"DIV",{class:!0});var E=v(u);c=d(E,"DIV",{class:!0,style:!0});var I=v(c);p=U(I,s[25]),I.forEach(i),E.forEach(i),_=S(w),h=d(w,"DIV",{class:!0,style:!0});var y=v(h);m=U(y,s[23]),y.forEach(i),w.forEach(i),this.h()},h(){o(t,"class","mb-2 text-xs"),o(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),ht(c,"width","100%"),o(u,"class","w-full rounded-full dark:bg-gray-800"),o(h,"class","mt-1 text-xs dark:text-gray-500"),ht(h,"font-size","0.5rem"),o(e,"class","mt-2")},m(g,w){j(g,e,w),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),a(c,p),a(e,_),a(e,h),a(h,m)},p(g,w){w[0]&134217728&&l!==(l=g[27].t("Upload Progress")+"")&&W(r,l),w[0]&33554432&&W(p,g[25]),w[0]&8388608&&W(m,g[23])},d(g){g&&i(e)}}}function lr(s){let e,t,l,r=s[27].t("Add a model")+"",n,u,c,p=(s[2]?s[27].t("Hide Additional Params"):s[27].t("Show Additional Params"))+"",_,h,m,g,w,b,E,I,y,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',D,L,T,V=s[27].t("Not sure what to add?")+"",M,P,R,z=s[27].t("Click here for help.")+"",O,q,B,C,G=s[27].t("Delete a model")+"",K,F,x,Z,N,Y,J,X,Q,te='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',ue,oe,ve=s[2]&&sr(s),fe=!s[10]&&rr(s),ce=ot(s[4]),re=[];for(let se=0;se<ce.length;se+=1)re[se]=ar(Us(s,ce,se));return{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("button"),_=H(p),h=A(),m=f("div"),g=f("div"),w=f("div"),b=f("input"),I=A(),y=f("button"),y.innerHTML=k,D=A(),ve&&ve.c(),L=A(),T=f("div"),M=H(V),P=A(),R=f("a"),O=H(z),q=A(),B=f("div"),C=f("div"),K=H(G),F=A(),x=f("div"),Z=f("div"),N=f("select"),fe&&fe.c(),Y=It();for(let se=0;se<re.length;se+=1)re[se].c();X=A(),Q=f("button"),Q.innerHTML=te,this.h()},l(se){e=d(se,"DIV",{});var De=v(e);t=d(De,"DIV",{class:!0});var ae=v(t);l=d(ae,"DIV",{class:!0});var ee=v(l);n=U(ee,r),ee.forEach(i),u=S(ae),c=d(ae,"BUTTON",{class:!0,type:!0});var de=v(c);_=U(de,p),de.forEach(i),ae.forEach(i),De.forEach(i),h=S(se),m=d(se,"DIV",{class:!0});var Ce=v(m);g=d(Ce,"DIV",{class:!0});var he=v(g);w=d(he,"DIV",{class:!0});var xe=v(w);b=d(xe,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),xe.forEach(i),I=S(he),y=d(he,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(y)!=="svelte-11z5303"&&(y.innerHTML=k),he.forEach(i),D=S(Ce),ve&&ve.l(Ce),Ce.forEach(i),L=S(se),T=d(se,"DIV",{class:!0});var _e=v(T);M=U(_e,V),P=S(_e),R=d(_e,"A",{class:!0,href:!0,target:!0});var Je=v(R);O=U(Je,z),Je.forEach(i),_e.forEach(i),q=S(se),B=d(se,"DIV",{});var ne=v(B);C=d(ne,"DIV",{class:!0});var ie=v(C);K=U(ie,G),ie.forEach(i),F=S(ne),x=d(ne,"DIV",{class:!0});var le=v(x);Z=d(le,"DIV",{class:!0});var Le=v(Z);N=d(Le,"SELECT",{class:!0,placeholder:!0});var ke=v(N);fe&&fe.l(ke),Y=It();for(let Ve=0;Ve<re.length;Ve+=1)re[Ve].l(ke);ke.forEach(i),Le.forEach(i),X=S(le),Q=d(le,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(Q)!=="svelte-irplzb"&&(Q.innerHTML=te),le.forEach(i),ne.forEach(i),this.h()},h(){o(l,"class","text-sm font-medium"),o(c,"class","text-xs font-medium text-gray-500"),o(c,"type","button"),o(t,"class","flex justify-between items-center text-xs"),o(b,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(b,"placeholder",E=s[27].t("Enter LiteLLM Model (litellm_params.model)")),o(b,"autocomplete","off"),o(w,"class","flex-1 mr-2"),o(y,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(g,"class","flex w-full mb-1.5"),o(m,"class","my-2 space-y-2"),o(R,"class","text-gray-300 font-medium underline"),o(R,"href","https://litellm.vercel.app/docs/proxy/configs#quick-start"),o(R,"target","_blank"),o(T,"class","mb-2 text-xs text-gray-400 dark:text-gray-500"),o(C,"class","mb-2.5 text-sm font-medium"),o(N,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(N,"placeholder",J=s[27].t("Select a model")),s[10]===void 0&&Gt(()=>s[65].call(N)),o(Z,"class","flex-1 mr-2"),o(Q,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(x,"class","flex w-full")},m(se,De){j(se,e,De),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(c,_),j(se,h,De),j(se,m,De),a(m,g),a(g,w),a(w,b),ge(b,s[0]),a(g,I),a(g,y),a(m,D),ve&&ve.m(m,null),j(se,L,De),j(se,T,De),a(T,M),a(T,P),a(T,R),a(R,O),j(se,q,De),j(se,B,De),a(B,C),a(C,K),a(B,F),a(B,x),a(x,Z),a(Z,N),fe&&fe.m(N,null),a(N,Y);for(let ae=0;ae<re.length;ae+=1)re[ae]&&re[ae].m(N,null);Et(N,s[10],!0),a(x,X),a(x,Q),ue||(oe=[$(c,"click",s[57]),$(b,"input",s[58]),$(y,"click",s[59]),$(N,"change",s[65]),$(Q,"click",s[66])],ue=!0)},p(se,De){if(De[0]&134217728&&r!==(r=se[27].t("Add a model")+"")&&W(n,r),De[0]&134217732&&p!==(p=(se[2]?se[27].t("Hide Additional Params"):se[27].t("Show Additional Params"))+"")&&W(_,p),De[0]&134217728&&E!==(E=se[27].t("Enter LiteLLM Model (litellm_params.model)"))&&o(b,"placeholder",E),De[0]&1&&b.value!==se[0]&&ge(b,se[0]),se[2]?ve?ve.p(se,De):(ve=sr(se),ve.c(),ve.m(m,null)):ve&&(ve.d(1),ve=null),De[0]&134217728&&V!==(V=se[27].t("Not sure what to add?")+"")&&W(M,V),De[0]&134217728&&z!==(z=se[27].t("Click here for help.")+"")&&W(O,z),De[0]&134217728&&G!==(G=se[27].t("Delete a model")+"")&&W(K,G),se[10]?fe&&(fe.d(1),fe=null):fe?fe.p(se,De):(fe=rr(se),fe.c(),fe.m(N,Y)),De[0]&16){ce=ot(se[4]);let ae;for(ae=0;ae<ce.length;ae+=1){const ee=Us(se,ce,ae);re[ae]?re[ae].p(ee,De):(re[ae]=ar(ee),re[ae].c(),re[ae].m(N,null))}for(;ae<re.length;ae+=1)re[ae].d(1);re.length=ce.length}De[0]&134217728&&J!==(J=se[27].t("Select a model"))&&o(N,"placeholder",J),De[0]&1040&&Et(N,se[10])},d(se){se&&(i(e),i(h),i(m),i(L),i(T),i(q),i(B)),ve&&ve.d(),fe&&fe.d(),Ct(re,se),ue=!1,ut(oe)}}}function sr(s){let e,t,l=s[27].t("Model Name")+"",r,n,u,c,p,_,h,m,g=s[27].t("API Base URL")+"",w,b,E,I,y,k,D,L,T,V=s[27].t("API Key")+"",M,P,R,z,O,q,B,C,G,K=s[27].t("API RPM")+"",F,x,Z,N,Y,J,X,Q,te,ue=s[27].t("Max Tokens")+"",oe,ve,fe,ce,re,se,De,ae;return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("div"),p=f("input"),_=A(),h=f("div"),m=f("div"),w=H(g),b=A(),E=f("div"),I=f("div"),y=f("input"),D=A(),L=f("div"),T=f("div"),M=H(V),P=A(),R=f("div"),z=f("div"),O=f("input"),B=A(),C=f("div"),G=f("div"),F=H(K),x=A(),Z=f("div"),N=f("div"),Y=f("input"),X=A(),Q=f("div"),te=f("div"),oe=H(ue),ve=A(),fe=f("div"),ce=f("div"),re=f("input"),this.h()},l(ee){e=d(ee,"DIV",{});var de=v(e);t=d(de,"DIV",{class:!0});var Ce=v(t);r=U(Ce,l),Ce.forEach(i),n=S(de),u=d(de,"DIV",{class:!0});var he=v(u);c=d(he,"DIV",{class:!0});var xe=v(c);p=d(xe,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),xe.forEach(i),he.forEach(i),de.forEach(i),_=S(ee),h=d(ee,"DIV",{});var _e=v(h);m=d(_e,"DIV",{class:!0});var Je=v(m);w=U(Je,g),Je.forEach(i),b=S(_e),E=d(_e,"DIV",{class:!0});var ne=v(E);I=d(ne,"DIV",{class:!0});var ie=v(I);y=d(ie,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),ie.forEach(i),ne.forEach(i),_e.forEach(i),D=S(ee),L=d(ee,"DIV",{});var le=v(L);T=d(le,"DIV",{class:!0});var Le=v(T);M=U(Le,V),Le.forEach(i),P=S(le),R=d(le,"DIV",{class:!0});var ke=v(R);z=d(ke,"DIV",{class:!0});var Ve=v(z);O=d(Ve,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),Ve.forEach(i),ke.forEach(i),le.forEach(i),B=S(ee),C=d(ee,"DIV",{});var Me=v(C);G=d(Me,"DIV",{class:!0});var Ue=v(G);F=U(Ue,K),Ue.forEach(i),x=S(Me),Z=d(Me,"DIV",{class:!0});var we=v(Z);N=d(we,"DIV",{class:!0});var Ae=v(N);Y=d(Ae,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),Ae.forEach(i),we.forEach(i),Me.forEach(i),X=S(ee),Q=d(ee,"DIV",{});var me=v(Q);te=d(me,"DIV",{class:!0});var Te=v(te);oe=U(Te,ue),Te.forEach(i),ve=S(me),fe=d(me,"DIV",{class:!0});var Ie=v(fe);ce=d(Ie,"DIV",{class:!0});var je=v(ce);re=d(je,"INPUT",{class:!0,placeholder:!0,type:!0,min:!0,autocomplete:!0}),je.forEach(i),Ie.forEach(i),me.forEach(i),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(p,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(p,"placeholder","Enter Model Name (model_name)"),o(p,"autocomplete","off"),o(c,"class","flex-1"),o(u,"class","flex w-full"),o(m,"class","mb-1.5 text-sm font-medium"),o(y,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(y,"placeholder",k=s[27].t("Enter LiteLLM API Base URL (litellm_params.api_base)")),o(y,"autocomplete","off"),o(I,"class","flex-1"),o(E,"class","flex w-full"),o(T,"class","mb-1.5 text-sm font-medium"),o(O,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(O,"placeholder",q=s[27].t("Enter LiteLLM API Key (litellm_params.api_key)")),o(O,"autocomplete","off"),o(z,"class","flex-1"),o(R,"class","flex w-full"),o(G,"class","mb-1.5 text-sm font-medium"),o(Y,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Y,"placeholder",J=s[27].t("Enter LiteLLM API RPM (litellm_params.rpm)")),o(Y,"autocomplete","off"),o(N,"class","flex-1"),o(Z,"class","flex w-full"),o(te,"class","mb-1.5 text-sm font-medium"),o(re,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(re,"placeholder",se=s[27].t("Enter Max Tokens (litellm_params.max_tokens)")),o(re,"type","number"),o(re,"min","1"),o(re,"autocomplete","off"),o(ce,"class","flex-1"),o(fe,"class","flex w-full")},m(ee,de){j(ee,e,de),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),a(c,p),ge(p,s[5]),j(ee,_,de),j(ee,h,de),a(h,m),a(m,w),a(h,b),a(h,E),a(E,I),a(I,y),ge(y,s[6]),j(ee,D,de),j(ee,L,de),a(L,T),a(T,M),a(L,P),a(L,R),a(R,z),a(z,O),ge(O,s[7]),j(ee,B,de),j(ee,C,de),a(C,G),a(G,F),a(C,x),a(C,Z),a(Z,N),a(N,Y),ge(Y,s[8]),j(ee,X,de),j(ee,Q,de),a(Q,te),a(te,oe),a(Q,ve),a(Q,fe),a(fe,ce),a(ce,re),ge(re,s[9]),De||(ae=[$(p,"input",s[60]),$(y,"input",s[61]),$(O,"input",s[62]),$(Y,"input",s[63]),$(re,"input",s[64])],De=!0)},p(ee,de){de[0]&134217728&&l!==(l=ee[27].t("Model Name")+"")&&W(r,l),de[0]&32&&p.value!==ee[5]&&ge(p,ee[5]),de[0]&134217728&&g!==(g=ee[27].t("API Base URL")+"")&&W(w,g),de[0]&134217728&&k!==(k=ee[27].t("Enter LiteLLM API Base URL (litellm_params.api_base)"))&&o(y,"placeholder",k),de[0]&64&&y.value!==ee[6]&&ge(y,ee[6]),de[0]&134217728&&V!==(V=ee[27].t("API Key")+"")&&W(M,V),de[0]&134217728&&q!==(q=ee[27].t("Enter LiteLLM API Key (litellm_params.api_key)"))&&o(O,"placeholder",q),de[0]&128&&O.value!==ee[7]&&ge(O,ee[7]),de[0]&134217728&&K!==(K=ee[27].t("API RPM")+"")&&W(F,K),de[0]&134217728&&J!==(J=ee[27].t("Enter LiteLLM API RPM (litellm_params.rpm)"))&&o(Y,"placeholder",J),de[0]&256&&Y.value!==ee[8]&&ge(Y,ee[8]),de[0]&134217728&&ue!==(ue=ee[27].t("Max Tokens")+"")&&W(oe,ue),de[0]&134217728&&se!==(se=ee[27].t("Enter Max Tokens (litellm_params.max_tokens)"))&&o(re,"placeholder",se),de[0]&512&&ma(re.value)!==ee[9]&&ge(re,ee[9])},d(ee){ee&&(i(e),i(_),i(h),i(D),i(L),i(B),i(C),i(X),i(Q)),De=!1,ut(ae)}}}function rr(s){let e,t=s[27].t("Select a model")+"",l;return{c(){e=f("option"),l=H(t),this.h()},l(r){e=d(r,"OPTION",{});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){e.__value="",ge(e,e.__value),e.disabled=!0,e.selected=!0},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&134217728&&t!==(t=r[27].t("Select a model")+"")&&W(l,t)},d(r){r&&i(e)}}}function ar(s){let e,t=s[69].model_name+"",l,r;return{c(){e=f("option"),l=H(t),this.h()},l(n){e=d(n,"OPTION",{class:!0});var u=v(e);l=U(u,t),u.forEach(i),this.h()},h(){e.__value=r=s[69].model_name,ge(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,u){j(n,e,u),a(e,l)},p(n,u){u[0]&16&&t!==(t=n[69].model_name+"")&&W(l,t),u[0]&16&&r!==(r=n[69].model_name)&&(e.__value=r,ge(e,e.__value))},d(n){n&&i(e)}}}function jo(s){let e,t,l,r,n,u,c,p,_,h=s[27].t("Manage LiteLLM Models")+"",m,g,w,b=(s[1]?s[27].t("Hide"):s[27].t("Show"))+"",E,I,y,k,D,L=s[16]&&Zs(s),T=s[1]&&lr(s);return{c(){e=f("div"),t=f("div"),L&&L.c(),l=A(),r=f("div"),n=f("div"),u=f("div"),c=f("div"),p=f("div"),_=f("div"),m=H(h),g=A(),w=f("button"),E=H(b),I=A(),T&&T.c(),this.h()},l(V){e=d(V,"DIV",{class:!0});var M=v(e);t=d(M,"DIV",{class:!0});var P=v(t);L&&L.l(P),l=S(P),r=d(P,"DIV",{class:!0});var R=v(r);n=d(R,"DIV",{class:!0});var z=v(n);u=d(z,"DIV",{});var O=v(u);c=d(O,"DIV",{class:!0});var q=v(c);p=d(q,"DIV",{class:!0});var B=v(p);_=d(B,"DIV",{class:!0});var C=v(_);m=U(C,h),C.forEach(i),g=S(B),w=d(B,"BUTTON",{class:!0,type:!0});var G=v(w);E=U(G,b),G.forEach(i),B.forEach(i),q.forEach(i),I=S(O),T&&T.l(O),O.forEach(i),z.forEach(i),R.forEach(i),P.forEach(i),M.forEach(i),this.h()},h(){o(_,"class","text-sm font-medium"),o(w,"class","text-xs font-medium text-gray-500"),o(w,"type","button"),o(p,"class","flex justify-between items-center text-xs"),o(c,"class","mb-2"),o(n,"class","mt-2 space-y-3 pr-1.5"),o(r,"class","space-y-3"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-[24rem]"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(V,M){j(V,e,M),a(e,t),L&&L.m(t,null),a(t,l),a(t,r),a(r,n),a(n,u),a(u,c),a(c,p),a(p,_),a(_,m),a(p,g),a(p,w),a(w,E),a(u,I),T&&T.m(u,null),y=!0,k||(D=$(w,"click",s[56]),k=!0)},p(V,M){V[16]?L?(L.p(V,M),M[0]&65536&&ye(L,1)):(L=Zs(V),L.c(),ye(L,1),L.m(t,l)):L&&(zt(),Ne(L,1,1,()=>{L=null}),Zt()),(!y||M[0]&134217728)&&h!==(h=V[27].t("Manage LiteLLM Models")+"")&&W(m,h),(!y||M[0]&134217730)&&b!==(b=(V[1]?V[27].t("Hide"):V[27].t("Show"))+"")&&W(E,b),V[1]?T?T.p(V,M):(T=lr(V),T.c(),T.m(u,null)):T&&(T.d(1),T=null)},i(V){y||(ye(L),y=!0)},o(V){Ne(L),y=!1},d(V){V&&i(e),L&&L.d(),T&&T.d(),k=!1,D()}}}const Ro=3;function zo(s,e,t){let l,r,n;nt(s,Ll,be=>t(28,r=be)),nt(s,Kt,be=>t(29,n=be));const u=jt("i18n");nt(s,u,be=>t(27,l=be));let{getModels:c}=e,p=!1,_=!1,h,m=[],g="",w="",b="",E="",I="",y="",k="",D=[],L=null,T=null,V=null,M=!1,P="",R=!1,z="",O="",q=null,B="file",C=null,G="",K=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,F="",x=null,Z="",N="";const Y=async()=>{for(const be of n.filter(Re=>Re.size!=null&&(L===null?!0:((Re==null?void 0:Re.urls)??[]).includes(L)))){console.log(be),t(13,T=be.id);const Re=await Vs(localStorage.token,be.id,L).catch(Ge=>(Xe.error(Ge),null));if(Re){const Ge=Re.body.pipeThrough(new TextDecoderStream).pipeThrough(Yl(`
`)).getReader();for(;;)try{const{value:We,done:et}=await Ge.read();if(et)break;let Fe=We.split(`
`);for(const qe of Fe)if(qe!==""){let Ke=JSON.parse(qe);if(console.log(Ke),Ke.error)throw Ke.error;if(Ke.detail)throw Ke.detail;Ke.status&&(Ke.digest?(t(14,V=0),Ke.completed?t(14,V=Math.round(Ke.completed/Ke.total*1e3)/10):t(14,V=100)):Xe.success(Ke.status))}}catch(We){console.log(We)}}}t(13,T=null),t(14,V=null)},J=async()=>{const be=z.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(r),r[be]){Xe.error(l.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:be}));return}if(Object.keys(r).length===Ro){Xe.error(l.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const Re=await Vs(localStorage.token,be,"0").catch(Ge=>(Xe.error(Ge),null));if(Re){const Ge=Re.body.pipeThrough(new TextDecoderStream).pipeThrough(Yl(`
`)).getReader();for(;;)try{const{value:We,done:et}=await Ge.read();if(et)break;let Fe=We.split(`
`);for(const qe of Fe)if(qe!==""){let Ke=JSON.parse(qe);if(console.log(Ke),Ke.error)throw Ke.error;if(Ke.detail)throw Ke.detail;if(Ke.id&&(Ll.set({...r,[be]:{...r[be],requestId:Ke.id,reader:Ge,done:!1}}),console.log(Ke)),Ke.status)if(Ke.digest){let Oe=0;Ke.completed?Oe=Math.round(Ke.completed/Ke.total*1e3)/10:Oe=100,Ll.set({...r,[be]:{...r[be],pullProgress:Oe,digest:Ke.digest}})}else Xe.success(Ke.status),Ll.set({...r,[be]:{...r[be],done:Ke.status==="success"}})}}catch(We){console.log(We),typeof We!="string"&&(We=We.message),Xe.error(We)}console.log(r[be]),r[be].done?(Xe.success(l.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:be})),Kt.set(await c(localStorage.token))):Xe.error(l.t("Download canceled")),delete r[be],Ll.set({...r})}t(18,z=""),t(17,R=!1)},X=async()=>{t(17,R=!0);let be=!1,Re=null,Ge="";if(B==="file"){const We=C?C[0]:null;We&&(t(25,Z="Uploading..."),Re=await hn(localStorage.token,We,L).catch(et=>(Xe.error(et),null)))}else t(24,x=0),Re=await vn(localStorage.token,G,L).catch(We=>(Xe.error(We),null));if(Re&&Re.ok){const We=Re.body.pipeThrough(new TextDecoderStream).pipeThrough(Yl(`
`)).getReader();for(;;){const{value:et,done:Fe}=await We.read();if(Fe)break;try{let qe=et.split(`
`);for(const Ke of qe)if(Ke!==""){let Oe=JSON.parse(Ke.replace(/^data: /,""));if(Oe.progress&&(Z&&t(25,Z=""),t(24,x=Oe.progress)),Oe.error)throw Oe.error;Oe.done&&(t(23,F=Oe.blob),Ge=Oe.name,be=!0)}}catch(qe){console.log(qe)}}}else{const We=await(Re==null?void 0:Re.json());Xe.error((We==null?void 0:We.detail)??We)}if(be){const We=await pn(localStorage.token,`${Ge}:latest`,`FROM @${F}
${K}`);if(We&&We.ok){const et=We.body.pipeThrough(new TextDecoderStream).pipeThrough(Yl(`
`)).getReader();for(;;){const{value:Fe,done:qe}=await et.read();if(qe)break;try{let Ke=Fe.split(`
`);for(const Oe of Ke)if(Oe!==""){console.log(Oe);let Ee=JSON.parse(Oe);if(console.log(Ee),Ee.error)throw Ee.error;if(Ee.detail)throw Ee.detail;Ee.status&&(!Ee.digest&&!Ee.status.includes("writing")&&!Ee.status.includes("sha256")?Xe.success(Ee.status):Ee.digest&&(O=Ee.digest,Ee.completed?q=Math.round(Ee.completed/Ee.total*1e3)/10:q=100))}}catch(Ke){console.log(Ke),Xe.error(Ke)}}}}t(21,G=""),h&&t(3,h.value="",h),t(20,C=null),t(17,R=!1),t(24,x=null),Kt.set(await c())},Q=async()=>{await Ms(localStorage.token,N,L).catch(Re=>{Xe.error(Re)})&&Xe.success(l.t("Deleted {{deleteModelTag}}",{deleteModelTag:N})),t(26,N=""),Kt.set(await c())},te=async be=>{const{reader:Re,requestId:Ge}=r[be];Re&&(await Re.cancel(),await dn(localStorage.token,Ge),delete r[be],Ll.set({...r}),await Ms(localStorage.token,be),Xe.success(`${be} download has been canceled`))},ue=async()=>{if(m.find(be=>be.model_name===w))Xe.error(l.t("Model {{modelName}} already exists.",{modelName:w}));else{const be=await Ha(localStorage.token,{name:w,model:g,api_base:b,api_key:E,rpm:I,max_tokens:y}).catch(Re=>(Xe.error(Re),null));be&&be.message&&Xe.success(be.message)}t(5,w=""),t(0,g=""),t(6,b=""),t(7,E=""),t(8,I=""),t(9,y=""),t(4,m=await ls(localStorage.token)),Kt.set(await c())},oe=async()=>{const be=await Ua(localStorage.token,k).catch(Re=>(Xe.error(Re),null));be&&be.message&&Xe.success(be.message),t(10,k=""),t(4,m=await ls(localStorage.token)),Kt.set(await c())};Ft(async()=>{t(11,D=await Aa(localStorage.token).catch(be=>(Xe.error(be),[]))),D.length>0&&t(12,L=0),t(16,P=await _s(localStorage.token).catch(be=>!1)),t(4,m=await ls(localStorage.token))});function ve(){L=Yt(this),t(12,L)}const fe=()=>{Y()};function ce(){z=this.value,t(18,z)}const re=()=>{J()},se=be=>{te(be)},De=be=>be.size!=null&&(L===null?!0:((be==null?void 0:be.urls)??[]).includes(L));function ae(){N=Yt(this),t(26,N),t(12,L)}const ee=()=>{Q()},de=()=>{t(15,M=!M)},Ce=()=>{B==="file"?t(19,B="url"):t(19,B="file")};function he(be){Rt[be?"unshift":"push"](()=>{h=be,t(3,h)})}function xe(){C=this.files,t(20,C)}const _e=()=>{console.log(C)},Je=()=>{h.click()};function ne(){G=this.value,t(21,G)}function ie(){K=this.value,t(22,K)}const le=()=>{X()},Le=()=>{t(1,p=!p)},ke=()=>{t(2,_=!_)};function Ve(){g=this.value,t(0,g)}const Me=()=>{ue()};function Ue(){w=this.value,t(5,w),t(0,g)}function we(){b=this.value,t(6,b)}function Ae(){E=this.value,t(7,E)}function me(){I=this.value,t(8,I)}function Te(){y=ma(this.value),t(9,y)}function Ie(){k=Yt(this),t(10,k),t(4,m)}const je=()=>{oe()};return s.$$set=be=>{"getModels"in be&&t(38,c=be.getModels)},s.$$.update=()=>{s.$$.dirty[0]&1&&t(5,w=g)},[g,p,_,h,m,w,b,E,I,y,k,D,L,T,V,M,P,R,z,B,C,G,K,F,x,Z,N,l,r,n,u,Y,J,X,Q,te,ue,oe,c,ve,fe,ce,re,se,De,ae,ee,de,Ce,he,xe,_e,Je,ne,ie,le,Le,ke,Ve,Me,Ue,we,Ae,me,Te,Ie,je]}class Zo extends St{constructor(e){super(),Lt(this,e,zo,jo,At,{getModels:38},null,[-1,-1,-1])}}function nr(s,e,t){const l=s.slice();return l[31]=e[t],l}function or(s){let e,t=s[31].title+"",l,r;return{c(){e=f("option"),l=H(t),this.h()},l(n){e=d(n,"OPTION",{});var u=v(e);l=U(u,t),u.forEach(i),this.h()},h(){e.__value=r=s[31].code,ge(e,e.__value)},m(n,u){j(n,e,u),a(e,l)},p(n,u){u[0]&4&&t!==(t=n[31].title+"")&&W(l,t),u[0]&4&&r!==(r=n[31].code)&&(e.__value=r,ge(e,e.__value))},d(n){n&&i(e)}}}function ir(s){let e,t=`Couldn&#39;t find your language?
					<a class="text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization" target="_blank">Help us translate Open WebUI!</a>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-3hlwzt"&&(e.innerHTML=t),this.h()},h(){o(e,"class","mb-2 text-xs text-gray-400 dark:text-gray-500")},m(l,r){j(l,e,r)},d(l){l&&i(e)}}}function Wo(s){let e,t=s[10].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function qo(s){let e,t=s[10].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function ur(s){let e,t,l,r,n,u,c,p,_=s[10].t("Keep Alive")+"",h,m,g,w,b,E,I,y,k=s[10].t("Request Mode")+"",D,L,T,V,M,P;function R(x){s[24](x)}let z={};s[9]!==void 0&&(z.options=s[9]),e=new mn({props:z}),Rt.push(()=>el(e,"options",R));function O(x,Z){return x[8]===null?Fo:Go}let q=O(s),B=q(s),C=s[8]!==null&&cr(s);function G(x,Z){if(x[7]==="")return Yo;if(x[7]==="json")return Ko}let K=G(s),F=K&&K(s);return{c(){lt(e.$$.fragment),l=A(),r=f("hr"),n=A(),u=f("div"),c=f("div"),p=f("div"),h=H(_),m=A(),g=f("button"),B.c(),w=A(),C&&C.c(),b=A(),E=f("div"),I=f("div"),y=f("div"),D=H(k),L=A(),T=f("button"),F&&F.c(),this.h()},l(x){st(e.$$.fragment,x),l=S(x),r=d(x,"HR",{class:!0}),n=S(x),u=d(x,"DIV",{class:!0});var Z=v(u);c=d(Z,"DIV",{class:!0});var N=v(c);p=d(N,"DIV",{class:!0});var Y=v(p);h=U(Y,_),Y.forEach(i),m=S(N),g=d(N,"BUTTON",{class:!0,type:!0});var J=v(g);B.l(J),J.forEach(i),N.forEach(i),w=S(Z),C&&C.l(Z),Z.forEach(i),b=S(x),E=d(x,"DIV",{});var X=v(E);I=d(X,"DIV",{class:!0});var Q=v(I);y=d(Q,"DIV",{class:!0});var te=v(y);D=U(te,k),te.forEach(i),L=S(Q),T=d(Q,"BUTTON",{class:!0});var ue=v(T);F&&F.l(ue),ue.forEach(i),Q.forEach(i),X.forEach(i),this.h()},h(){o(r,"class","dark:border-gray-700"),o(p,"class","self-center text-xs font-medium"),o(g,"class","p-1 px-3 text-xs flex rounded transition"),o(g,"type","button"),o(c,"class","flex w-full justify-between"),o(u,"class","py-1 w-full justify-between"),o(y,"class","self-center text-sm font-medium"),o(T,"class","p-1 px-3 text-xs flex rounded transition"),o(I,"class","py-1 flex w-full justify-between")},m(x,Z){rt(e,x,Z),j(x,l,Z),j(x,r,Z),j(x,n,Z),j(x,u,Z),a(u,c),a(c,p),a(p,h),a(c,m),a(c,g),B.m(g,null),a(u,w),C&&C.m(u,null),j(x,b,Z),j(x,E,Z),a(E,I),a(I,y),a(y,D),a(I,L),a(I,T),F&&F.m(T,null),V=!0,M||(P=[$(g,"click",s[25]),$(T,"click",s[27])],M=!0)},p(x,Z){const N={};!t&&Z[0]&512&&(t=!0,N.options=x[9],$t(()=>t=!1)),e.$set(N),(!V||Z[0]&1024)&&_!==(_=x[10].t("Keep Alive")+"")&&W(h,_),q===(q=O(x))&&B?B.p(x,Z):(B.d(1),B=q(x),B&&(B.c(),B.m(g,null))),x[8]!==null?C?C.p(x,Z):(C=cr(x),C.c(),C.m(u,null)):C&&(C.d(1),C=null),(!V||Z[0]&1024)&&k!==(k=x[10].t("Request Mode")+"")&&W(D,k),K===(K=G(x))&&F?F.p(x,Z):(F&&F.d(1),F=K&&K(x),F&&(F.c(),F.m(T,null)))},i(x){V||(ye(e.$$.fragment,x),V=!0)},o(x){Ne(e.$$.fragment,x),V=!1},d(x){x&&(i(l),i(r),i(n),i(u),i(b),i(E)),at(e,x),B.d(),C&&C.d(),F&&F.d(),M=!1,ut(P)}}}function Go(s){let e,t=s[10].t("Custom")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].t("Custom")+"")&&W(l,t)},d(r){r&&i(e)}}}function Fo(s){let e,t=s[10].t("Default")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].t("Default")+"")&&W(l,t)},d(r){r&&i(e)}}}function cr(s){let e,t,l,r,n;return{c(){e=f("div"),t=f("input"),this.h()},l(u){e=d(u,"DIV",{class:!0});var c=v(e);t=d(c,"INPUT",{class:!0,type:!0,placeholder:!0}),c.forEach(i),this.h()},h(){o(t,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),o(t,"type","text"),o(t,"placeholder",l=s[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.")),o(e,"class","flex mt-1 space-x-2")},m(u,c){j(u,e,c),a(e,t),ge(t,s[8]),r||(n=$(t,"input",s[26]),r=!0)},p(u,c){c[0]&1024&&l!==(l=u[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'."))&&o(t,"placeholder",l),c[0]&256&&t.value!==u[8]&&ge(t,u[8])},d(u){u&&i(e),r=!1,n()}}}function Ko(s){let e,t=s[10].t("JSON")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].t("JSON")+"")&&W(l,t)},d(r){r&&i(e)}}}function Yo(s){let e,t=s[10].t("Default")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].t("Default")+"")&&W(l,t)},d(r){r&&i(e)}}}function Jo(s){let e,t,l,r,n=s[10].t("WebUI Settings")+"",u,c,p,_,h=s[10].t("Theme")+"",m,g,w,b,E,I,y=s[10].t("System")+"",k,D,L,T=s[10].t("Dark")+"",V,M,P,R=s[10].t("OLED Dark")+"",z,O,q,B=s[10].t("Light")+"",C,G,K,F,x=s[10].t("Language")+"",Z,N,Y,J,X,Q,te,ue,oe,ve=s[10].t("Notifications")+"",fe,ce,re,se,De,ae,ee,de,Ce=s[10].t("System Prompt")+"",he,xe,_e,Je,ne,ie,le,Le=s[10].t("Advanced Parameters")+"",ke,Ve,Me,Ue=(s[6]?s[10].t("Hide"):s[10].t("Show"))+"",we,Ae,me,Te,Ie,je=s[10].t("Save")+"",be,Re,Ge,We,et=ot(s[2]),Fe=[];for(let Pe=0;Pe<et.length;Pe+=1)Fe[Pe]=or(nr(s,et,Pe));let qe=s[10].language==="en-US"&&ir();function Ke(Pe,ze){return Pe[4]===!0?qo:Wo}let Oe=Ke(s),Ee=Oe(s),tt=s[6]&&ur(s);return{c(){e=f("div"),t=f("div"),l=f("div"),r=f("div"),u=H(n),c=A(),p=f("div"),_=f("div"),m=H(h),g=A(),w=f("div"),b=f("select"),E=f("option"),I=H(" "),k=H(y),D=f("option"),L=H(" "),V=H(T),M=f("option"),P=H(" "),z=H(R),O=f("option"),q=H(" "),C=H(B),G=A(),K=f("div"),F=f("div"),Z=H(x),N=A(),Y=f("div"),J=f("select");for(let Pe=0;Pe<Fe.length;Pe+=1)Fe[Pe].c();X=A(),qe&&qe.c(),Q=A(),te=f("div"),ue=f("div"),oe=f("div"),fe=H(ve),ce=A(),re=f("button"),Ee.c(),se=A(),De=f("hr"),ae=A(),ee=f("div"),de=f("div"),he=H(Ce),xe=A(),_e=f("textarea"),Je=A(),ne=f("div"),ie=f("div"),le=f("div"),ke=H(Le),Ve=A(),Me=f("button"),we=H(Ue),Ae=A(),tt&&tt.c(),me=A(),Te=f("div"),Ie=f("button"),be=H(je),this.h()},l(Pe){e=d(Pe,"DIV",{class:!0});var ze=v(e);t=d(ze,"DIV",{class:!0});var pe=v(t);l=d(pe,"DIV",{class:!0});var Ze=v(l);r=d(Ze,"DIV",{class:!0});var ft=v(r);u=U(ft,n),ft.forEach(i),c=S(Ze),p=d(Ze,"DIV",{class:!0});var ct=v(p);_=d(ct,"DIV",{class:!0});var xt=v(_);m=U(xt,h),xt.forEach(i),g=S(ct),w=d(ct,"DIV",{class:!0});var Ot=v(w);b=d(Ot,"SELECT",{class:!0,placeholder:!0});var kt=v(b);E=d(kt,"OPTION",{});var _t=v(E);I=U(_t," "),k=U(_t,y),_t.forEach(i),D=d(kt,"OPTION",{});var Bt=v(D);L=U(Bt," "),V=U(Bt,T),Bt.forEach(i),M=d(kt,"OPTION",{});var wt=v(M);P=U(wt," "),z=U(wt,R),wt.forEach(i),O=d(kt,"OPTION",{});var vt=v(O);q=U(vt," "),C=U(vt,B),vt.forEach(i),kt.forEach(i),Ot.forEach(i),ct.forEach(i),G=S(Ze),K=d(Ze,"DIV",{class:!0});var Dt=v(K);F=d(Dt,"DIV",{class:!0});var Nt=v(F);Z=U(Nt,x),Nt.forEach(i),N=S(Dt),Y=d(Dt,"DIV",{class:!0});var yt=v(Y);J=d(yt,"SELECT",{class:!0,placeholder:!0});var Pt=v(J);for(let He=0;He<Fe.length;He+=1)Fe[He].l(Pt);Pt.forEach(i),yt.forEach(i),Dt.forEach(i),X=S(Ze),qe&&qe.l(Ze),Q=S(Ze),te=d(Ze,"DIV",{});var qt=v(te);ue=d(qt,"DIV",{class:!0});var Tt=v(ue);oe=d(Tt,"DIV",{class:!0});var Vt=v(oe);fe=U(Vt,ve),Vt.forEach(i),ce=S(Tt),re=d(Tt,"BUTTON",{class:!0,type:!0});var Ht=v(re);Ee.l(Ht),Ht.forEach(i),Tt.forEach(i),qt.forEach(i),Ze.forEach(i),se=S(pe),De=d(pe,"HR",{class:!0}),ae=S(pe),ee=d(pe,"DIV",{});var pt=v(ee);de=d(pt,"DIV",{class:!0});var Ut=v(de);he=U(Ut,Ce),Ut.forEach(i),xe=S(pt),_e=d(pt,"TEXTAREA",{class:!0,rows:!0}),v(_e).forEach(i),pt.forEach(i),Je=S(pe),ne=d(pe,"DIV",{class:!0});var dt=v(ne);ie=d(dt,"DIV",{class:!0});var Mt=v(ie);le=d(Mt,"DIV",{class:!0});var gt=v(le);ke=U(gt,Le),gt.forEach(i),Ve=S(Mt),Me=d(Mt,"BUTTON",{class:!0,type:!0});var mt=v(Me);we=U(mt,Ue),mt.forEach(i),Mt.forEach(i),Ae=S(dt),tt&&tt.l(dt),dt.forEach(i),pe.forEach(i),me=S(ze),Te=d(ze,"DIV",{class:!0});var Se=v(Te);Ie=d(Se,"BUTTON",{class:!0});var Ye=v(Ie);be=U(Ye,je),Ye.forEach(i),Se.forEach(i),ze.forEach(i),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(_,"class","self-center text-xs font-medium"),E.__value="system",ge(E,E.__value),D.__value="dark",ge(D,D.__value),M.__value="oled-dark",ge(M,M.__value),O.__value="light",ge(O,O.__value),o(b,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(b,"placeholder","Select a theme"),s[1]===void 0&&Gt(()=>s[17].call(b)),o(w,"class","flex items-center relative"),o(p,"class","flex w-full justify-between"),o(F,"class","self-center text-xs font-medium"),o(J,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(J,"placeholder","Select a language"),s[3]===void 0&&Gt(()=>s[19].call(J)),o(Y,"class","flex items-center relative"),o(K,"class","flex w-full justify-between"),o(oe,"class","self-center text-xs font-medium"),o(re,"class","p-1 px-3 text-xs flex rounded transition"),o(re,"type","button"),o(ue,"class","py-0.5 flex w-full justify-between"),o(l,"class",""),o(De,"class","dark:border-gray-700 my-3"),o(de,"class","my-2.5 text-sm font-medium"),o(_e,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(_e,"rows","4"),o(le,"class","font-medium"),o(Me,"class","text-xs font-medium text-gray-500"),o(Me,"type","button"),o(ie,"class","flex justify-between items-center text-sm"),o(ne,"class","mt-2 space-y-3 pr-1.5"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[22rem]"),o(Ie,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Te,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(Pe,ze){j(Pe,e,ze),a(e,t),a(t,l),a(l,r),a(r,u),a(l,c),a(l,p),a(p,_),a(_,m),a(p,g),a(p,w),a(w,b),a(b,E),a(E,I),a(E,k),a(b,D),a(D,L),a(D,V),a(b,M),a(M,P),a(M,z),a(b,O),a(O,q),a(O,C),Et(b,s[1],!0),a(l,G),a(l,K),a(K,F),a(F,Z),a(K,N),a(K,Y),a(Y,J);for(let pe=0;pe<Fe.length;pe+=1)Fe[pe]&&Fe[pe].m(J,null);Et(J,s[3],!0),a(l,X),qe&&qe.m(l,null),a(l,Q),a(l,te),a(te,ue),a(ue,oe),a(oe,fe),a(ue,ce),a(ue,re),Ee.m(re,null),a(t,se),a(t,De),a(t,ae),a(t,ee),a(ee,de),a(de,he),a(ee,xe),a(ee,_e),ge(_e,s[5]),a(t,Je),a(t,ne),a(ne,ie),a(ie,le),a(le,ke),a(ie,Ve),a(ie,Me),a(Me,we),a(ne,Ae),tt&&tt.m(ne,null),a(e,me),a(e,Te),a(Te,Ie),a(Ie,be),Re=!0,Ge||(We=[$(b,"change",s[17]),$(b,"change",s[18]),$(J,"change",s[19]),$(J,"change",s[20]),$(re,"click",s[21]),$(_e,"input",s[22]),$(Me,"click",s[23]),$(Ie,"click",s[28])],Ge=!0)},p(Pe,ze){if((!Re||ze[0]&1024)&&n!==(n=Pe[10].t("WebUI Settings")+"")&&W(u,n),(!Re||ze[0]&1024)&&h!==(h=Pe[10].t("Theme")+"")&&W(m,h),(!Re||ze[0]&1024)&&y!==(y=Pe[10].t("System")+"")&&W(k,y),(!Re||ze[0]&1024)&&T!==(T=Pe[10].t("Dark")+"")&&W(V,T),(!Re||ze[0]&1024)&&R!==(R=Pe[10].t("OLED Dark")+"")&&W(z,R),(!Re||ze[0]&1024)&&B!==(B=Pe[10].t("Light")+"")&&W(C,B),ze[0]&2&&Et(b,Pe[1]),(!Re||ze[0]&1024)&&x!==(x=Pe[10].t("Language")+"")&&W(Z,x),ze[0]&4){et=ot(Pe[2]);let pe;for(pe=0;pe<et.length;pe+=1){const Ze=nr(Pe,et,pe);Fe[pe]?Fe[pe].p(Ze,ze):(Fe[pe]=or(Ze),Fe[pe].c(),Fe[pe].m(J,null))}for(;pe<Fe.length;pe+=1)Fe[pe].d(1);Fe.length=et.length}ze[0]&12&&Et(J,Pe[3]),Pe[10].language==="en-US"?qe||(qe=ir(),qe.c(),qe.m(l,Q)):qe&&(qe.d(1),qe=null),(!Re||ze[0]&1024)&&ve!==(ve=Pe[10].t("Notifications")+"")&&W(fe,ve),Oe===(Oe=Ke(Pe))&&Ee?Ee.p(Pe,ze):(Ee.d(1),Ee=Oe(Pe),Ee&&(Ee.c(),Ee.m(re,null))),(!Re||ze[0]&1024)&&Ce!==(Ce=Pe[10].t("System Prompt")+"")&&W(he,Ce),ze[0]&32&&ge(_e,Pe[5]),(!Re||ze[0]&1024)&&Le!==(Le=Pe[10].t("Advanced Parameters")+"")&&W(ke,Le),(!Re||ze[0]&1088)&&Ue!==(Ue=(Pe[6]?Pe[10].t("Hide"):Pe[10].t("Show"))+"")&&W(we,Ue),Pe[6]?tt?(tt.p(Pe,ze),ze[0]&64&&ye(tt,1)):(tt=ur(Pe),tt.c(),ye(tt,1),tt.m(ne,null)):tt&&(zt(),Ne(tt,1,1,()=>{tt=null}),Zt()),(!Re||ze[0]&1024)&&je!==(je=Pe[10].t("Save")+"")&&W(be,je)},i(Pe){Re||(ye(tt),Re=!0)},o(Pe){Ne(tt),Re=!1},d(Pe){Pe&&i(e),Ct(Fe,Pe),qe&&qe.d(),Ee.d(),tt&&tt.d(),Ge=!1,ut(We)}}}function Xo(s,e,t){let l;const r=Pl(),n=jt("i18n");nt(s,n,x=>t(10,l=x));let{saveSettings:u}=e,{getModels:c}=e,p=["dark","light","rose-pine dark","rose-pine-dawn light","oled-dark"],_="system",h=[],m=l.language,g=!1,w="",b=!1;const E=async()=>{await Notification.requestPermission()==="granted"?(t(4,g=!g),u({notificationEnabled:g})):Xe.error("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access.")};let I="",y=null,k={seed:0,temperature:"",repeat_penalty:"",repeat_last_n:"",mirostat:"",mirostat_eta:"",mirostat_tau:"",top_k:"",top_p:"",stop:"",tfs_z:"",num_ctx:"",num_predict:""};const D=async()=>{I===""?t(7,I="json"):t(7,I=""),u({requestFormat:I!==""?I:void 0})};Ft(async()=>{var Z;t(1,_=localStorage.theme??"system");let x=JSON.parse(localStorage.getItem("settings")??"{}");t(2,h=await gn()),t(4,g=x.notificationEnabled??!1),t(5,w=x.system??""),t(7,I=x.requestFormat??""),t(8,y=x.keepAlive??null),t(9,k.seed=x.seed??0,k),t(9,k.temperature=x.temperature??"",k),t(9,k.repeat_penalty=x.repeat_penalty??"",k),t(9,k.top_k=x.top_k??"",k),t(9,k.top_p=x.top_p??"",k),t(9,k.num_ctx=x.num_ctx??"",k),t(9,k={...k,...x.options}),t(9,k.stop=(((Z=x==null?void 0:x.options)==null?void 0:Z.stop)??[]).join(","),k)});const L=x=>{let Z=x==="oled-dark"?"dark":x;x==="system"&&(Z=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z==="dark"&&!x.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),p.filter(N=>N!==Z).forEach(N=>{N.split(" ").forEach(Y=>{document.documentElement.classList.remove(Y)})}),Z.split(" ").forEach(N=>{document.documentElement.classList.add(N)}),console.log(x)},T=x=>{ln.set(x),localStorage.setItem("theme",x),x.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark")),L(x)};function V(){_=Yt(this),t(1,_)}const M=()=>T(_);function P(){m=Yt(this),t(3,m),t(2,h)}const R=x=>{l.changeLanguage(m)},z=()=>{E()};function O(){w=this.value,t(5,w)}const q=()=>{t(6,b=!b)};function B(x){k=x,t(9,k)}const C=()=>{t(8,y=y===null?"5m":null)};function G(){y=this.value,t(8,y)}const K=()=>{D()},F=()=>{u({system:w!==""?w:void 0,options:{seed:(k.seed!==0?k.seed:void 0)??void 0,stop:k.stop!==""?k.stop.split(",").filter(x=>x):void 0,temperature:k.temperature!==""?k.temperature:void 0,repeat_penalty:k.repeat_penalty!==""?k.repeat_penalty:void 0,repeat_last_n:k.repeat_last_n!==""?k.repeat_last_n:void 0,mirostat:k.mirostat!==""?k.mirostat:void 0,mirostat_eta:k.mirostat_eta!==""?k.mirostat_eta:void 0,mirostat_tau:k.mirostat_tau!==""?k.mirostat_tau:void 0,top_k:k.top_k!==""?k.top_k:void 0,top_p:k.top_p!==""?k.top_p:void 0,tfs_z:k.tfs_z!==""?k.tfs_z:void 0,num_ctx:k.num_ctx!==""?k.num_ctx:void 0,num_predict:k.num_predict!==""?k.num_predict:void 0},keepAlive:y?isNaN(y)?y:parseInt(y):void 0}),r("save")};return s.$$set=x=>{"saveSettings"in x&&t(0,u=x.saveSettings),"getModels"in x&&t(16,c=x.getModels)},[u,_,h,m,g,w,b,I,y,k,l,r,n,E,D,T,c,V,M,P,R,z,O,q,B,C,G,K,F]}class Qo extends St{constructor(e){super(),Lt(this,e,Xo,Jo,At,{saveSettings:0,getModels:16},null,[-1,-1])}}function fr(s,e,t){const l=s.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function dr(s,e,t){const l=s.slice();return l[40]=e[t],l}function hr(s,e,t){const l=s.slice();return l[40]=e[t],l}function $o(s){let e,t=s[9].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function ei(s){let e,t=s[9].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function ti(s){let e,t=s[9].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function li(s){let e,t=s[9].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function si(s){let e,t=s[9].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function ri(s){let e,t=s[9].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function ai(s){let e,t=s[9].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function ni(s){let e,t=s[9].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function oi(s){let e,t=s[9].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function ii(s){let e,t=s[9].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function vr(s){let e,t=s[40].name+" ("+(s[40].size/1073741824).toFixed(1)+" GB)",l,r,n;return{c(){e=f("option"),l=H(t),r=A(),this.h()},l(u){e=d(u,"OPTION",{class:!0});var c=v(e);l=U(c,t),r=S(c),c.forEach(i),this.h()},h(){e.__value=n=s[40].name,ge(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(u,c){j(u,e,c),a(e,l),a(e,r)},p(u,c){c[0]&2048&&t!==(t=u[40].name+" ("+(u[40].size/1024**3).toFixed(1)+" GB)")&&W(l,t),c[0]&2048&&n!==(n=u[40].name)&&(e.__value=n,ge(e,e.__value))},d(u){u&&i(e)}}}function pr(s){let e,t=s[40].size!=null&&vr(s);return{c(){t&&t.c(),e=It()},l(l){t&&t.l(l),e=It()},m(l,r){t&&t.m(l,r),j(l,e,r)},p(l,r){l[40].size!=null?t?t.p(l,r):(t=vr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&i(e),t&&t.d(l)}}}function _r(s){let e,t=s[40].name+"",l,r,n;return{c(){e=f("option"),l=H(t),r=A(),this.h()},l(u){e=d(u,"OPTION",{class:!0});var c=v(e);l=U(c,t),r=S(c),c.forEach(i),this.h()},h(){e.__value=n=s[40].name,ge(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(u,c){j(u,e,c),a(e,l),a(e,r)},p(u,c){c[0]&2048&&t!==(t=u[40].name+"")&&W(l,t),c[0]&2048&&n!==(n=u[40].name)&&(e.__value=n,ge(e,e.__value))},d(u){u&&i(e)}}}function gr(s){let e,t=s[40].name!=="hr"&&_r(s);return{c(){t&&t.c(),e=It()},l(l){t&&t.l(l),e=It()},m(l,r){t&&t.m(l,r),j(l,e,r)},p(l,r){l[40].name!=="hr"?t?t.p(l,r):(t=_r(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&i(e),t&&t.d(l)}}}function mr(s){let e,t,l,r,n,u=s[9].t("Default Prompt Suggestions")+"",c,p,_,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',m,g,w,b,E,I=ot(s[7]),y=[];for(let D=0;D<I.length;D+=1)y[D]=br(fr(s,I,D));let k=s[7].length>0&&wr(s);return{c(){e=f("hr"),t=A(),l=f("div"),r=f("div"),n=f("div"),c=H(u),p=A(),_=f("button"),_.innerHTML=h,m=A(),g=f("div");for(let D=0;D<y.length;D+=1)y[D].c();w=A(),k&&k.c(),this.h()},l(D){e=d(D,"HR",{class:!0}),t=S(D),l=d(D,"DIV",{class:!0});var L=v(l);r=d(L,"DIV",{class:!0});var T=v(r);n=d(T,"DIV",{class:!0});var V=v(n);c=U(V,u),V.forEach(i),p=S(T),_=d(T,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Be(_)!=="svelte-192kpg7"&&(_.innerHTML=h),T.forEach(i),m=S(L),g=d(L,"DIV",{class:!0});var M=v(g);for(let P=0;P<y.length;P+=1)y[P].l(M);M.forEach(i),w=S(L),k&&k.l(L),L.forEach(i),this.h()},h(){o(e,"class","dark:border-gray-700"),o(n,"class","self-center text-sm font-semibold"),o(_,"class","p-1 px-3 text-xs flex rounded transition"),o(_,"type","button"),o(r,"class","flex w-full justify-between mb-2"),o(g,"class","flex flex-col space-y-1"),o(l,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80")},m(D,L){j(D,e,L),j(D,t,L),j(D,l,L),a(l,r),a(r,n),a(n,c),a(r,p),a(r,_),a(l,m),a(l,g);for(let T=0;T<y.length;T+=1)y[T]&&y[T].m(g,null);a(l,w),k&&k.m(l,null),b||(E=$(_,"click",s[29]),b=!0)},p(D,L){if(L[0]&512&&u!==(u=D[9].t("Default Prompt Suggestions")+"")&&W(c,u),L[0]&640){I=ot(D[7]);let T;for(T=0;T<I.length;T+=1){const V=fr(D,I,T);y[T]?y[T].p(V,L):(y[T]=br(V),y[T].c(),y[T].m(g,null))}for(;T<y.length;T+=1)y[T].d(1);y.length=I.length}D[7].length>0?k?k.p(D,L):(k=wr(D),k.c(),k.m(l,null)):k&&(k.d(1),k=null)},d(D){D&&(i(e),i(t),i(l)),Ct(y,D),k&&k.d(),b=!1,E()}}}function br(s){let e,t,l,r,n,u,c,p,_,h,m,g,w,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',E,I,y;function k(){s[30].call(r,s[38],s[39])}function D(){s[31].call(c,s[38],s[39])}function L(){s[32].call(h,s[38],s[39])}function T(){return s[33](s[39])}return{c(){e=f("div"),t=f("div"),l=f("div"),r=f("input"),u=A(),c=f("input"),_=A(),h=f("input"),g=A(),w=f("button"),w.innerHTML=b,E=A(),this.h()},l(V){e=d(V,"DIV",{class:!0});var M=v(e);t=d(M,"DIV",{class:!0});var P=v(t);l=d(P,"DIV",{class:!0});var R=v(l);r=d(R,"INPUT",{class:!0,placeholder:!0}),u=S(R),c=d(R,"INPUT",{class:!0,placeholder:!0}),R.forEach(i),_=S(P),h=d(P,"INPUT",{class:!0,placeholder:!0}),P.forEach(i),g=S(M),w=d(M,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Be(w)!=="svelte-1lkxdu6"&&(w.innerHTML=b),E=S(M),M.forEach(i),this.h()},h(){o(r,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(r,"placeholder",n=s[9].t("Title (e.g. Tell me a fun fact)")),o(c,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(c,"placeholder",p=s[9].t("Subtitle (e.g. about the Roman Empire)")),o(l,"class","flex border-b dark:border-gray-600 w-full"),o(h,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(h,"placeholder",m=s[9].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),o(t,"class","flex flex-col flex-1"),o(w,"class","px-2"),o(w,"type","button"),o(e,"class","flex border dark:border-gray-600 rounded-lg")},m(V,M){j(V,e,M),a(e,t),a(t,l),a(l,r),ge(r,s[37].title[0]),a(l,u),a(l,c),ge(c,s[37].title[1]),a(t,_),a(t,h),ge(h,s[37].content),a(e,g),a(e,w),a(e,E),I||(y=[$(r,"input",k),$(c,"input",D),$(h,"input",L),$(w,"click",T)],I=!0)},p(V,M){s=V,M[0]&512&&n!==(n=s[9].t("Title (e.g. Tell me a fun fact)"))&&o(r,"placeholder",n),M[0]&128&&r.value!==s[37].title[0]&&ge(r,s[37].title[0]),M[0]&512&&p!==(p=s[9].t("Subtitle (e.g. about the Roman Empire)"))&&o(c,"placeholder",p),M[0]&128&&c.value!==s[37].title[1]&&ge(c,s[37].title[1]),M[0]&512&&m!==(m=s[9].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&o(h,"placeholder",m),M[0]&128&&h.value!==s[37].content&&ge(h,s[37].content)},d(V){V&&i(e),I=!1,ut(y)}}}function wr(s){let e,t=s[9].t("Adjusting these settings will apply changes universally to all users.")+"",l;return{c(){e=f("div"),l=H(t),this.h()},l(r){e=d(r,"DIV",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","text-xs text-left w-full mt-2")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("Adjusting these settings will apply changes universally to all users.")+"")&&W(l,t)},d(r){r&&i(e)}}}function ui(s){let e,t,l,r,n=s[9].t("WebUI Add-ons")+"",u,c,p,_,h,m=s[9].t("Title Auto-Generation")+"",g,w,b,E,I,y,k,D=s[9].t("Response AutoCopy to Clipboard")+"",L,T,V,M,P,R,z,O=s[9].t("Full Screen Mode")+"",q,B,C,G,K,F,x,Z=s[9].t("Display the username instead of You in the Chat")+"",N,Y,J,X,Q,te,ue,oe=s[9].t("Fluidly stream large external response chunks")+"",ve,fe,ce,re,se,De,ae,ee,de=s[9].t("Set Title Auto-Generation Model")+"",Ce,he,xe,_e,Je,ne="Local Models",ie,le,Le,ke=s[9].t("Current Model")+"",Ve,Me,Ue,we,Ae,me="External Models",Te,Ie,je,be=s[9].t("Current Model")+"",Re,Ge,We,et,Fe,qe=s[9].t("Title Generation Prompt")+"",Ke,Oe,Ee,tt,Pe,ze,pe,Ze=s[9].t("Save")+"",ft,ct,xt;function Ot(Se,Ye){return Se[0]===!0?ei:$o}let kt=Ot(s),_t=kt(s);function Bt(Se,Ye){return Se[1]===!0?li:ti}let wt=Bt(s),vt=wt(s);function Dt(Se,Ye){return Se[4]===!0?ri:si}let Nt=Dt(s),yt=Nt(s);function Pt(Se,Ye){return Se[8]===!0?ni:ai}let qt=Pt(s),Tt=qt(s);function Vt(Se,Ye){return Se[6]===!0?ii:oi}let Ht=Vt(s),pt=Ht(s),Ut=ot(s[11]),dt=[];for(let Se=0;Se<Ut.length;Se+=1)dt[Se]=pr(hr(s,Ut,Se));let Mt=ot(s[11]),gt=[];for(let Se=0;Se<Mt.length;Se+=1)gt[Se]=gr(dr(s,Mt,Se));let mt=s[10].role==="admin"&&mr(s);return{c(){e=f("form"),t=f("div"),l=f("div"),r=f("div"),u=H(n),c=A(),p=f("div"),_=f("div"),h=f("div"),g=H(m),w=A(),b=f("button"),_t.c(),E=A(),I=f("div"),y=f("div"),k=f("div"),L=H(D),T=A(),V=f("button"),vt.c(),M=A(),P=f("div"),R=f("div"),z=f("div"),q=H(O),B=A(),C=f("button"),yt.c(),G=A(),K=f("div"),F=f("div"),x=f("div"),N=H(Z),Y=A(),J=f("button"),Tt.c(),X=A(),Q=f("div"),te=f("div"),ue=f("div"),ve=H(oe),fe=A(),ce=f("button"),pt.c(),re=A(),se=f("hr"),De=A(),ae=f("div"),ee=f("div"),Ce=H(de),he=A(),xe=f("div"),_e=f("div"),Je=f("div"),Je.textContent=ne,ie=A(),le=f("select"),Le=f("option"),Ve=H(ke);for(let Se=0;Se<dt.length;Se+=1)dt[Se].c();Ue=A(),we=f("div"),Ae=f("div"),Ae.textContent=me,Te=A(),Ie=f("select"),je=f("option"),Re=H(be);for(let Se=0;Se<gt.length;Se+=1)gt[Se].c();We=A(),et=f("div"),Fe=f("div"),Ke=H(qe),Oe=A(),Ee=f("textarea"),tt=A(),mt&&mt.c(),Pe=A(),ze=f("div"),pe=f("button"),ft=H(Ze),this.h()},l(Se){e=d(Se,"FORM",{class:!0});var Ye=v(e);t=d(Ye,"DIV",{class:!0});var He=v(t);l=d(He,"DIV",{});var bt=v(l);r=d(bt,"DIV",{class:!0});var hl=v(r);u=U(hl,n),hl.forEach(i),c=S(bt),p=d(bt,"DIV",{});var Bl=v(p);_=d(Bl,"DIV",{class:!0});var al=v(_);h=d(al,"DIV",{class:!0});var Jt=v(h);g=U(Jt,m),Jt.forEach(i),w=S(al),b=d(al,"BUTTON",{class:!0,type:!0});var pl=v(b);_t.l(pl),pl.forEach(i),al.forEach(i),Bl.forEach(i),E=S(bt),I=d(bt,"DIV",{});var Hl=v(I);y=d(Hl,"DIV",{class:!0});var nl=v(y);k=d(nl,"DIV",{class:!0});var Ul=v(k);L=U(Ul,D),Ul.forEach(i),T=S(nl),V=d(nl,"BUTTON",{class:!0,type:!0});var _l=v(V);vt.l(_l),_l.forEach(i),nl.forEach(i),Hl.forEach(i),M=S(bt),P=d(bt,"DIV",{});var jl=v(P);R=d(jl,"DIV",{class:!0});var ol=v(R);z=d(ol,"DIV",{class:!0});var Rl=v(z);q=U(Rl,O),Rl.forEach(i),B=S(ol),C=d(ol,"BUTTON",{class:!0,type:!0});var Xt=v(C);yt.l(Xt),Xt.forEach(i),ol.forEach(i),jl.forEach(i),G=S(bt),K=d(bt,"DIV",{});var gl=v(K);F=d(gl,"DIV",{class:!0});var ml=v(F);x=d(ml,"DIV",{class:!0});var bl=v(x);N=U(bl,Z),bl.forEach(i),Y=S(ml),J=d(ml,"BUTTON",{class:!0,type:!0});var zl=v(J);Tt.l(zl),zl.forEach(i),ml.forEach(i),gl.forEach(i),X=S(bt),Q=d(bt,"DIV",{});var wl=v(Q);te=d(wl,"DIV",{class:!0});var kl=v(te);ue=d(kl,"DIV",{class:!0});var yl=v(ue);ve=U(yl,oe),yl.forEach(i),fe=S(kl),ce=d(kl,"BUTTON",{class:!0,type:!0});var Zl=v(ce);pt.l(Zl),Zl.forEach(i),kl.forEach(i),wl.forEach(i),bt.forEach(i),re=S(He),se=d(He,"HR",{class:!0}),De=S(He),ae=d(He,"DIV",{});var il=v(ae);ee=d(il,"DIV",{class:!0});var Wl=v(ee);Ce=U(Wl,de),Wl.forEach(i),he=S(il),xe=d(il,"DIV",{class:!0});var El=v(xe);_e=d(El,"DIV",{class:!0});var Il=v(_e);Je=d(Il,"DIV",{class:!0,"data-svelte-h":!0}),Be(Je)!=="svelte-lqo5l8"&&(Je.textContent=ne),ie=S(Il),le=d(Il,"SELECT",{class:!0,placeholder:!0});var tl=v(le);Le=d(tl,"OPTION",{});var Dl=v(Le);Ve=U(Dl,ke),Dl.forEach(i);for(let Vl=0;Vl<dt.length;Vl+=1)dt[Vl].l(tl);tl.forEach(i),Il.forEach(i),Ue=S(El),we=d(El,"DIV",{class:!0});var Tl=v(we);Ae=d(Tl,"DIV",{class:!0,"data-svelte-h":!0}),Be(Ae)!=="svelte-1gfxkt4"&&(Ae.textContent=me),Te=S(Tl),Ie=d(Tl,"SELECT",{class:!0,placeholder:!0});var vl=v(Ie);je=d(vl,"OPTION",{});var ql=v(je);Re=U(ql,be),ql.forEach(i);for(let Vl=0;Vl<gt.length;Vl+=1)gt[Vl].l(vl);vl.forEach(i),Tl.forEach(i),El.forEach(i),We=S(il),et=d(il,"DIV",{class:!0});var ul=v(et);Fe=d(ul,"DIV",{class:!0});var Gl=v(Fe);Ke=U(Gl,qe),Gl.forEach(i),Oe=S(ul),Ee=d(ul,"TEXTAREA",{class:!0,rows:!0}),v(Ee).forEach(i),ul.forEach(i),il.forEach(i),tt=S(He),mt&&mt.l(He),He.forEach(i),Pe=S(Ye),ze=d(Ye,"DIV",{class:!0});var bs=v(ze);pe=d(bs,"BUTTON",{class:!0,type:!0});var ws=v(pe);ft=U(ws,Ze),ws.forEach(i),bs.forEach(i),Ye.forEach(i),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(h,"class","self-center text-xs font-medium"),o(b,"class","p-1 px-3 text-xs flex rounded transition"),o(b,"type","button"),o(_,"class","py-0.5 flex w-full justify-between"),o(k,"class","self-center text-xs font-medium"),o(V,"class","p-1 px-3 text-xs flex rounded transition"),o(V,"type","button"),o(y,"class","py-0.5 flex w-full justify-between"),o(z,"class","self-center text-xs font-medium"),o(C,"class","p-1 px-3 text-xs flex rounded transition"),o(C,"type","button"),o(R,"class","py-0.5 flex w-full justify-between"),o(x,"class","self-center text-xs font-medium"),o(J,"class","p-1 px-3 text-xs flex rounded transition"),o(J,"type","button"),o(F,"class","py-0.5 flex w-full justify-between"),o(ue,"class","self-center text-xs font-medium"),o(ce,"class","p-1 px-3 text-xs flex rounded transition"),o(ce,"type","button"),o(te,"class","py-0.5 flex w-full justify-between"),o(se,"class","dark:border-gray-700"),o(ee,"class","mb-2.5 text-sm font-medium"),o(Je,"class","text-xs mb-1"),Le.__value="",ge(Le,Le.__value),Le.selected=!0,o(le,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(le,"placeholder",Me=s[9].t("Select a model")),s[2]===void 0&&Gt(()=>s[26].call(le)),o(_e,"class","flex-1"),o(Ae,"class","text-xs mb-1"),je.__value="",ge(je,je.__value),je.selected=!0,o(Ie,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Ie,"placeholder",Ge=s[9].t("Select a model")),s[3]===void 0&&Gt(()=>s[27].call(Ie)),o(we,"class","flex-1"),o(xe,"class","flex w-full gap-2 pr-2"),o(Fe,"class","mb-2.5 text-sm font-medium"),o(Ee,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(Ee,"rows","3"),o(et,"class","mt-3 mr-2"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[22rem]"),o(pe,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(pe,"type","submit"),o(ze,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Se,Ye){j(Se,e,Ye),a(e,t),a(t,l),a(l,r),a(r,u),a(l,c),a(l,p),a(p,_),a(_,h),a(h,g),a(_,w),a(_,b),_t.m(b,null),a(l,E),a(l,I),a(I,y),a(y,k),a(k,L),a(y,T),a(y,V),vt.m(V,null),a(l,M),a(l,P),a(P,R),a(R,z),a(z,q),a(R,B),a(R,C),yt.m(C,null),a(l,G),a(l,K),a(K,F),a(F,x),a(x,N),a(F,Y),a(F,J),Tt.m(J,null),a(l,X),a(l,Q),a(Q,te),a(te,ue),a(ue,ve),a(te,fe),a(te,ce),pt.m(ce,null),a(t,re),a(t,se),a(t,De),a(t,ae),a(ae,ee),a(ee,Ce),a(ae,he),a(ae,xe),a(xe,_e),a(_e,Je),a(_e,ie),a(_e,le),a(le,Le),a(Le,Ve);for(let He=0;He<dt.length;He+=1)dt[He]&&dt[He].m(le,null);Et(le,s[2],!0),a(xe,Ue),a(xe,we),a(we,Ae),a(we,Te),a(we,Ie),a(Ie,je),a(je,Re);for(let He=0;He<gt.length;He+=1)gt[He]&&gt[He].m(Ie,null);Et(Ie,s[3],!0),a(ae,We),a(ae,et),a(et,Fe),a(Fe,Ke),a(et,Oe),a(et,Ee),ge(Ee,s[5]),a(t,tt),mt&&mt.m(t,null),a(e,Pe),a(e,ze),a(ze,pe),a(pe,ft),ct||(xt=[$(b,"click",s[21]),$(V,"click",s[22]),$(C,"click",s[23]),$(J,"click",s[24]),$(ce,"click",s[25]),$(le,"change",s[26]),$(Ie,"change",s[27]),$(Ee,"input",s[28]),$(e,"submit",Nl(s[34]))],ct=!0)},p(Se,Ye){if(Ye[0]&512&&n!==(n=Se[9].t("WebUI Add-ons")+"")&&W(u,n),Ye[0]&512&&m!==(m=Se[9].t("Title Auto-Generation")+"")&&W(g,m),kt===(kt=Ot(Se))&&_t?_t.p(Se,Ye):(_t.d(1),_t=kt(Se),_t&&(_t.c(),_t.m(b,null))),Ye[0]&512&&D!==(D=Se[9].t("Response AutoCopy to Clipboard")+"")&&W(L,D),wt===(wt=Bt(Se))&&vt?vt.p(Se,Ye):(vt.d(1),vt=wt(Se),vt&&(vt.c(),vt.m(V,null))),Ye[0]&512&&O!==(O=Se[9].t("Full Screen Mode")+"")&&W(q,O),Nt===(Nt=Dt(Se))&&yt?yt.p(Se,Ye):(yt.d(1),yt=Nt(Se),yt&&(yt.c(),yt.m(C,null))),Ye[0]&512&&Z!==(Z=Se[9].t("Display the username instead of You in the Chat")+"")&&W(N,Z),qt===(qt=Pt(Se))&&Tt?Tt.p(Se,Ye):(Tt.d(1),Tt=qt(Se),Tt&&(Tt.c(),Tt.m(J,null))),Ye[0]&512&&oe!==(oe=Se[9].t("Fluidly stream large external response chunks")+"")&&W(ve,oe),Ht===(Ht=Vt(Se))&&pt?pt.p(Se,Ye):(pt.d(1),pt=Ht(Se),pt&&(pt.c(),pt.m(ce,null))),Ye[0]&512&&de!==(de=Se[9].t("Set Title Auto-Generation Model")+"")&&W(Ce,de),Ye[0]&512&&ke!==(ke=Se[9].t("Current Model")+"")&&W(Ve,ke),Ye[0]&2048){Ut=ot(Se[11]);let He;for(He=0;He<Ut.length;He+=1){const bt=hr(Se,Ut,He);dt[He]?dt[He].p(bt,Ye):(dt[He]=pr(bt),dt[He].c(),dt[He].m(le,null))}for(;He<dt.length;He+=1)dt[He].d(1);dt.length=Ut.length}if(Ye[0]&512&&Me!==(Me=Se[9].t("Select a model"))&&o(le,"placeholder",Me),Ye[0]&2052&&Et(le,Se[2]),Ye[0]&512&&be!==(be=Se[9].t("Current Model")+"")&&W(Re,be),Ye[0]&2048){Mt=ot(Se[11]);let He;for(He=0;He<Mt.length;He+=1){const bt=dr(Se,Mt,He);gt[He]?gt[He].p(bt,Ye):(gt[He]=gr(bt),gt[He].c(),gt[He].m(Ie,null))}for(;He<gt.length;He+=1)gt[He].d(1);gt.length=Mt.length}Ye[0]&512&&Ge!==(Ge=Se[9].t("Select a model"))&&o(Ie,"placeholder",Ge),Ye[0]&2056&&Et(Ie,Se[3]),Ye[0]&512&&qe!==(qe=Se[9].t("Title Generation Prompt")+"")&&W(Ke,qe),Ye[0]&32&&ge(Ee,Se[5]),Se[10].role==="admin"?mt?mt.p(Se,Ye):(mt=mr(Se),mt.c(),mt.m(t,null)):mt&&(mt.d(1),mt=null),Ye[0]&512&&Ze!==(Ze=Se[9].t("Save")+"")&&W(ft,Ze)},i:it,o:it,d(Se){Se&&i(e),_t.d(),vt.d(),yt.d(),Tt.d(),pt.d(),Ct(dt,Se),Ct(gt,Se),mt&&mt.d(),ct=!1,ut(xt)}}}function ci(s,e,t){let l,r,n,u,c;nt(s,Cl,Q=>t(35,r=Q)),nt(s,sl,Q=>t(10,n=Q)),nt(s,xl,Q=>t(36,u=Q)),nt(s,Kt,Q=>t(11,c=Q));const p=Pl(),_=jt("i18n");nt(s,_,Q=>t(9,l=Q));let{saveSettings:h}=e,m=!0,g=!1,w="",b="",E=!1,I="",y=!1,k=[],D=!1;const L=async()=>{t(6,y=!y),h({splitLargeChunks:y})},T=async()=>{t(4,E=!E),h({fullScreenMode:E})},V=async()=>{t(8,D=!D),h({showUsername:D})},M=async()=>{t(0,m=!m),h({title:{...u.title,auto:m}})},P=async()=>{const Q=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(Q),Q==="granted"?(t(1,g=!g),h({responseAutoCopy:g})):Xe.error("Clipboard write permission denied. Please check your browser settings to grant the necessary access.")},R=async()=>{n.role==="admin"&&(t(7,k=await kn(localStorage.token,k)),await Cl.set(await Sa())),h({title:{...u.title,model:w!==""?w:void 0,modelExternal:b!==""?b:void 0,prompt:I||void 0}})};Ft(async()=>{var te,ue,oe,ve;n.role==="admin"&&t(7,k=r==null?void 0:r.default_prompt_suggestions);let Q=JSON.parse(localStorage.getItem("settings")??"{}");t(0,m=((te=Q==null?void 0:Q.title)==null?void 0:te.auto)??!0),t(2,w=((ue=Q==null?void 0:Q.title)==null?void 0:ue.model)??""),t(3,b=((oe=Q==null?void 0:Q.title)==null?void 0:oe.modelExternal)??""),t(5,I=((ve=Q==null?void 0:Q.title)==null?void 0:ve.prompt)??l.t("Create a concise, 3-5 word phrase as a header for the following query, strictly adhering to the 3-5 word limit and avoiding the use of the word 'title':")+" {{prompt}}"),t(1,g=Q.responseAutoCopy??!1),t(8,D=Q.showUsername??!1),t(4,E=Q.fullScreenMode??!1),t(6,y=Q.splitLargeChunks??!1)});const z=()=>{M()},O=()=>{P()},q=()=>{T()},B=()=>{V()},C=()=>{L()};function G(){w=Yt(this),t(2,w)}function K(){b=Yt(this),t(3,b)}function F(){I=this.value,t(5,I)}const x=()=>{(k.length===0||k.at(-1).content!=="")&&t(7,k=[...k,{content:"",title:["",""]}])};function Z(Q,te){Q[te].title[0]=this.value,t(7,k)}function N(Q,te){Q[te].title[1]=this.value,t(7,k)}function Y(Q,te){Q[te].content=this.value,t(7,k)}const J=Q=>{k.splice(Q,1),t(7,k)},X=()=>{R(),p("save")};return s.$$set=Q=>{"saveSettings"in Q&&t(20,h=Q.saveSettings)},[m,g,w,b,E,I,y,k,D,l,n,c,p,_,L,T,V,M,P,R,h,z,O,q,B,C,G,K,F,x,Z,N,Y,J,X]}class fi extends St{constructor(e){super(),Lt(this,e,ci,ui,At,{saveSettings:20},null,[-1,-1])}}function kr(s,e,t){const l=s.slice();return l[13]=e[t],l}function yr(s,e,t){const l=s.slice();return l[38]=e[t],l}function Er(s,e,t){const l=s.slice();return l[38]=e[t],l}function di(s){let e,t=s[12].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&4096&&t!==(t=r[12].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function hi(s){let e,t=s[12].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&4096&&t!==(t=r[12].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function vi(s){let e,t=s[12].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&4096&&t!==(t=r[12].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function pi(s){let e,t=s[12].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&4096&&t!==(t=r[12].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function Ir(s){let e,t=s[7]==="openai"&&Dr(s);return{c(){t&&t.c(),e=It()},l(l){t&&t.l(l),e=It()},m(l,r){t&&t.m(l,r),j(l,e,r)},p(l,r){l[7]==="openai"?t?t.p(l,r):(t=Dr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&i(e),t&&t.d(l)}}}function Dr(s){let e,t,l,r,n,u,c,p;return{c(){e=f("div"),t=f("input"),r=A(),n=f("input"),this.h()},l(_){e=d(_,"DIV",{class:!0});var h=v(e);t=d(h,"INPUT",{class:!0,placeholder:!0}),r=S(h),n=d(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(i),this.h()},h(){o(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"placeholder",l=s[12].t("API Base URL")),t.required=!0,o(n,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(n,"placeholder",u=s[12].t("API Key")),n.required=!0,o(e,"class","mt-1 flex gap-2 mb-1")},m(_,h){j(_,e,h),a(e,t),ge(t,s[1]),a(e,r),a(e,n),ge(n,s[2]),c||(p=[$(t,"input",s[28]),$(n,"input",s[29])],c=!0)},p(_,h){h[0]&4096&&l!==(l=_[12].t("API Base URL"))&&o(t,"placeholder",l),h[0]&2&&t.value!==_[1]&&ge(t,_[1]),h[0]&4096&&u!==(u=_[12].t("API Key"))&&o(n,"placeholder",u),h[0]&4&&n.value!==_[2]&&ge(n,_[2])},d(_){_&&i(e),c=!1,ut(p)}}}function _i(s){let e,t=s[12].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&4096&&t!==(t=r[12].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function gi(s){let e,t=s[12].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&4096&&t!==(t=r[12].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function mi(s){let e,t,l=s[12].t("Set Voice")+"",r,n,u,c,p,_,h,m,g,w,b=s[12].t("Set Model")+"",E,I,y,k,D,L,T,V,M,P=ot(s[8]),R=[];for(let q=0;q<P.length;q+=1)R[q]=Tr(yr(s,P,q));let z=ot(s[10]),O=[];for(let q=0;q<z.length;q+=1)O[q]=Vr(kr(s,z,q));return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("div"),p=f("input"),_=A(),h=f("datalist");for(let q=0;q<R.length;q+=1)R[q].c();m=A(),g=f("div"),w=f("div"),E=H(b),I=A(),y=f("div"),k=f("div"),D=f("input"),L=A(),T=f("datalist");for(let q=0;q<O.length;q+=1)O[q].c();this.h()},l(q){e=d(q,"DIV",{});var B=v(e);t=d(B,"DIV",{class:!0});var C=v(t);r=U(C,l),C.forEach(i),n=S(B),u=d(B,"DIV",{class:!0});var G=v(u);c=d(G,"DIV",{class:!0});var K=v(c);p=d(K,"INPUT",{list:!0,class:!0,placeholder:!0}),_=S(K),h=d(K,"DATALIST",{id:!0});var F=v(h);for(let X=0;X<R.length;X+=1)R[X].l(F);F.forEach(i),K.forEach(i),G.forEach(i),B.forEach(i),m=S(q),g=d(q,"DIV",{});var x=v(g);w=d(x,"DIV",{class:!0});var Z=v(w);E=U(Z,b),Z.forEach(i),I=S(x),y=d(x,"DIV",{class:!0});var N=v(y);k=d(N,"DIV",{class:!0});var Y=v(k);D=d(Y,"INPUT",{list:!0,class:!0,placeholder:!0}),L=S(Y),T=d(Y,"DATALIST",{id:!0});var J=v(T);for(let X=0;X<O.length;X+=1)O[X].l(J);J.forEach(i),Y.forEach(i),N.forEach(i),x.forEach(i),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),o(p,"list","voice-list"),o(p,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(p,"placeholder","Select a voice"),o(h,"id","voice-list"),o(c,"class","flex-1"),o(u,"class","flex w-full"),o(w,"class","mb-2.5 text-sm font-medium"),o(D,"list","model-list"),o(D,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(D,"placeholder","Select a model"),o(T,"id","model-list"),o(k,"class","flex-1"),o(y,"class","flex w-full")},m(q,B){j(q,e,B),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),a(c,p),ge(p,s[9]),a(c,_),a(c,h);for(let C=0;C<R.length;C+=1)R[C]&&R[C].m(h,null);j(q,m,B),j(q,g,B),a(g,w),a(w,E),a(g,I),a(g,y),a(y,k),a(k,D),ge(D,s[13]),a(k,L),a(k,T);for(let C=0;C<O.length;C+=1)O[C]&&O[C].m(T,null);V||(M=[$(p,"input",s[32]),$(D,"input",s[33])],V=!0)},p(q,B){if(B[0]&4096&&l!==(l=q[12].t("Set Voice")+"")&&W(r,l),B[0]&768&&p.value!==q[9]&&ge(p,q[9]),B[0]&256){P=ot(q[8]);let C;for(C=0;C<P.length;C+=1){const G=yr(q,P,C);R[C]?R[C].p(G,B):(R[C]=Tr(G),R[C].c(),R[C].m(h,null))}for(;C<R.length;C+=1)R[C].d(1);R.length=P.length}if(B[0]&4096&&b!==(b=q[12].t("Set Model")+"")&&W(E,b),B[0]&8192&&D.value!==q[13]&&ge(D,q[13]),B[0]&1024){z=ot(q[10]);let C;for(C=0;C<z.length;C+=1){const G=kr(q,z,C);O[C]?O[C].p(G,B):(O[C]=Vr(G),O[C].c(),O[C].m(T,null))}for(;C<O.length;C+=1)O[C].d(1);O.length=z.length}},d(q){q&&(i(e),i(m),i(g)),Ct(R,q),Ct(O,q),V=!1,ut(M)}}}function bi(s){let e,t,l=s[12].t("Set Voice")+"",r,n,u,c,p,_,h=s[12].t("Default")+"",m,g,w,b=ot(s[8].filter(Ar)),E=[];for(let I=0;I<b.length;I+=1)E[I]=Mr(Er(s,b,I));return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("div"),p=f("select"),_=f("option"),m=H(h);for(let I=0;I<E.length;I+=1)E[I].c();this.h()},l(I){e=d(I,"DIV",{});var y=v(e);t=d(y,"DIV",{class:!0});var k=v(t);r=U(k,l),k.forEach(i),n=S(y),u=d(y,"DIV",{class:!0});var D=v(u);c=d(D,"DIV",{class:!0});var L=v(c);p=d(L,"SELECT",{class:!0,placeholder:!0});var T=v(p);_=d(T,"OPTION",{});var V=v(_);m=U(V,h),V.forEach(i);for(let M=0;M<E.length;M+=1)E[M].l(T);T.forEach(i),L.forEach(i),D.forEach(i),y.forEach(i),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),_.__value="",ge(_,_.__value),_.selected=!0,o(p,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(p,"placeholder","Select a voice"),s[9]===void 0&&Gt(()=>s[31].call(p)),o(c,"class","flex-1"),o(u,"class","flex w-full")},m(I,y){j(I,e,y),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),a(c,p),a(p,_),a(_,m);for(let k=0;k<E.length;k+=1)E[k]&&E[k].m(p,null);Et(p,s[9],!0),g||(w=$(p,"change",s[31]),g=!0)},p(I,y){if(y[0]&4096&&l!==(l=I[12].t("Set Voice")+"")&&W(r,l),y[0]&4096&&h!==(h=I[12].t("Default")+"")&&W(m,h),y[0]&256){b=ot(I[8].filter(Ar));let k;for(k=0;k<b.length;k+=1){const D=Er(I,b,k);E[k]?E[k].p(D,y):(E[k]=Mr(D),E[k].c(),E[k].m(p,null))}for(;k<E.length;k+=1)E[k].d(1);E.length=b.length}y[0]&768&&Et(p,I[9])},d(I){I&&i(e),Ct(E,I),g=!1,w()}}}function Tr(s){let e,t;return{c(){e=f("option"),this.h()},l(l){e=d(l,"OPTION",{}),v(e).forEach(i),this.h()},h(){e.__value=t=s[38].name,ge(e,e.__value)},m(l,r){j(l,e,r)},p(l,r){r[0]&256&&t!==(t=l[38].name)&&(e.__value=t,ge(e,e.__value))},d(l){l&&i(e)}}}function Vr(s){let e,t;return{c(){e=f("option"),this.h()},l(l){e=d(l,"OPTION",{}),v(e).forEach(i),this.h()},h(){e.__value=t=s[13].name,ge(e,e.__value)},m(l,r){j(l,e,r)},p(l,r){r[0]&1024&&t!==(t=l[13].name)&&(e.__value=t,ge(e,e.__value))},d(l){l&&i(e)}}}function Mr(s){let e,t=s[38].name+"",l,r;return{c(){e=f("option"),l=H(t),this.h()},l(n){e=d(n,"OPTION",{class:!0});var u=v(e);l=U(u,t),u.forEach(i),this.h()},h(){e.__value=r=s[38].name,ge(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,u){j(n,e,u),a(e,l)},p(n,u){u[0]&256&&t!==(t=n[38].name+"")&&W(l,t),u[0]&256&&r!==(r=n[38].name)&&(e.__value=r,ge(e,e.__value))},d(n){n&&i(e)}}}function wi(s){let e,t,l,r,n=s[12].t("STT Settings")+"",u,c,p,_,h=s[12].t("Speech-to-Text Engine")+"",m,g,w,b,E,I=s[12].t("Default (Web API)")+"",y,k,D=s[12].t("Whisper (Local)")+"",L,T,V,M,P=s[12].t("Conversation Mode")+"",R,z,O,q,B,C,G=s[12].t("Auto-send input after 3 sec.")+"",K,F,x,Z,N,Y,J=s[12].t("TTS Settings")+"",X,Q,te,ue,oe=s[12].t("Text-to-Speech Engine")+"",ve,fe,ce,re,se,De=s[12].t("Default (Web API)")+"",ae,ee,de=s[12].t("Open AI")+"",Ce,he,xe,_e,Je,ne=s[12].t("Auto-playback response")+"",ie,le,Le,ke,Ve,Me,Ue,we,Ae,me=s[12].t("Save")+"",Te,Ie,je;function be(pe,Ze){return pe[4]===!0?hi:di}let Re=be(s),Ge=Re(s);function We(pe,Ze){return pe[5]===!0?pi:vi}let et=We(s),Fe=et(s),qe=s[11].role==="admin"&&Ir(s);function Ke(pe,Ze){return pe[6]===!0?gi:_i}let Oe=Ke(s),Ee=Oe(s);function tt(pe,Ze){if(pe[7]==="")return bi;if(pe[7]==="openai")return mi}let Pe=tt(s),ze=Pe&&Pe(s);return{c(){e=f("form"),t=f("div"),l=f("div"),r=f("div"),u=H(n),c=A(),p=f("div"),_=f("div"),m=H(h),g=A(),w=f("div"),b=f("select"),E=f("option"),y=H(I),k=f("option"),L=H(D),T=A(),V=f("div"),M=f("div"),R=H(P),z=A(),O=f("button"),Ge.c(),q=A(),B=f("div"),C=f("div"),K=H(G),F=A(),x=f("button"),Fe.c(),Z=A(),N=f("div"),Y=f("div"),X=H(J),Q=A(),te=f("div"),ue=f("div"),ve=H(oe),fe=A(),ce=f("div"),re=f("select"),se=f("option"),ae=H(De),ee=f("option"),Ce=H(de),he=A(),qe&&qe.c(),xe=A(),_e=f("div"),Je=f("div"),ie=H(ne),le=A(),Le=f("button"),Ee.c(),ke=A(),Ve=f("hr"),Me=A(),ze&&ze.c(),Ue=A(),we=f("div"),Ae=f("button"),Te=H(me),this.h()},l(pe){e=d(pe,"FORM",{class:!0});var Ze=v(e);t=d(Ze,"DIV",{class:!0});var ft=v(t);l=d(ft,"DIV",{});var ct=v(l);r=d(ct,"DIV",{class:!0});var xt=v(r);u=U(xt,n),xt.forEach(i),c=S(ct),p=d(ct,"DIV",{class:!0});var Ot=v(p);_=d(Ot,"DIV",{class:!0});var kt=v(_);m=U(kt,h),kt.forEach(i),g=S(Ot),w=d(Ot,"DIV",{class:!0});var _t=v(w);b=d(_t,"SELECT",{class:!0,placeholder:!0});var Bt=v(b);E=d(Bt,"OPTION",{});var wt=v(E);y=U(wt,I),wt.forEach(i),k=d(Bt,"OPTION",{});var vt=v(k);L=U(vt,D),vt.forEach(i),Bt.forEach(i),_t.forEach(i),Ot.forEach(i),T=S(ct),V=d(ct,"DIV",{class:!0});var Dt=v(V);M=d(Dt,"DIV",{class:!0});var Nt=v(M);R=U(Nt,P),Nt.forEach(i),z=S(Dt),O=d(Dt,"BUTTON",{class:!0,type:!0});var yt=v(O);Ge.l(yt),yt.forEach(i),Dt.forEach(i),q=S(ct),B=d(ct,"DIV",{class:!0});var Pt=v(B);C=d(Pt,"DIV",{class:!0});var qt=v(C);K=U(qt,G),qt.forEach(i),F=S(Pt),x=d(Pt,"BUTTON",{class:!0,type:!0});var Tt=v(x);Fe.l(Tt),Tt.forEach(i),Pt.forEach(i),ct.forEach(i),Z=S(ft),N=d(ft,"DIV",{});var Vt=v(N);Y=d(Vt,"DIV",{class:!0});var Ht=v(Y);X=U(Ht,J),Ht.forEach(i),Q=S(Vt),te=d(Vt,"DIV",{class:!0});var pt=v(te);ue=d(pt,"DIV",{class:!0});var Ut=v(ue);ve=U(Ut,oe),Ut.forEach(i),fe=S(pt),ce=d(pt,"DIV",{class:!0});var dt=v(ce);re=d(dt,"SELECT",{class:!0,placeholder:!0});var Mt=v(re);se=d(Mt,"OPTION",{});var gt=v(se);ae=U(gt,De),gt.forEach(i),ee=d(Mt,"OPTION",{});var mt=v(ee);Ce=U(mt,de),mt.forEach(i),Mt.forEach(i),dt.forEach(i),pt.forEach(i),he=S(Vt),qe&&qe.l(Vt),xe=S(Vt),_e=d(Vt,"DIV",{class:!0});var Se=v(_e);Je=d(Se,"DIV",{class:!0});var Ye=v(Je);ie=U(Ye,ne),Ye.forEach(i),le=S(Se),Le=d(Se,"BUTTON",{class:!0,type:!0});var He=v(Le);Ee.l(He),He.forEach(i),Se.forEach(i),Vt.forEach(i),ke=S(ft),Ve=d(ft,"HR",{class:!0}),Me=S(ft),ze&&ze.l(ft),ft.forEach(i),Ue=S(Ze),we=d(Ze,"DIV",{class:!0});var bt=v(we);Ae=d(bt,"BUTTON",{class:!0,type:!0});var hl=v(Ae);Te=U(hl,me),hl.forEach(i),bt.forEach(i),Ze.forEach(i),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(_,"class","self-center text-xs font-medium"),E.__value="",ge(E,E.__value),k.__value="whisper-local",ge(k,k.__value),o(b,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(b,"placeholder","Select a mode"),s[3]===void 0&&Gt(()=>s[22].call(b)),o(w,"class","flex items-center relative"),o(p,"class","py-0.5 flex w-full justify-between"),o(M,"class","self-center text-xs font-medium"),o(O,"class","p-1 px-3 text-xs flex rounded transition"),o(O,"type","button"),o(V,"class","py-0.5 flex w-full justify-between"),o(C,"class","self-center text-xs font-medium"),o(x,"class","p-1 px-3 text-xs flex rounded transition"),o(x,"type","button"),o(B,"class","py-0.5 flex w-full justify-between"),o(Y,"class","mb-1 text-sm font-medium"),o(ue,"class","self-center text-xs font-medium"),se.__value="",ge(se,se.__value),ee.__value="openai",ge(ee,ee.__value),o(re,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(re,"placeholder","Select a mode"),s[7]===void 0&&Gt(()=>s[26].call(re)),o(ce,"class","flex items-center relative"),o(te,"class","py-0.5 flex w-full justify-between"),o(Je,"class","self-center text-xs font-medium"),o(Le,"class","p-1 px-3 text-xs flex rounded transition"),o(Le,"type","button"),o(_e,"class","py-0.5 flex w-full justify-between"),o(Ve,"class","dark:border-gray-700"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[22rem]"),o(Ae,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Ae,"type","submit"),o(we,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(pe,Ze){j(pe,e,Ze),a(e,t),a(t,l),a(l,r),a(r,u),a(l,c),a(l,p),a(p,_),a(_,m),a(p,g),a(p,w),a(w,b),a(b,E),a(E,y),a(b,k),a(k,L),Et(b,s[3],!0),a(l,T),a(l,V),a(V,M),a(M,R),a(V,z),a(V,O),Ge.m(O,null),a(l,q),a(l,B),a(B,C),a(C,K),a(B,F),a(B,x),Fe.m(x,null),a(t,Z),a(t,N),a(N,Y),a(Y,X),a(N,Q),a(N,te),a(te,ue),a(ue,ve),a(te,fe),a(te,ce),a(ce,re),a(re,se),a(se,ae),a(re,ee),a(ee,Ce),Et(re,s[7],!0),a(N,he),qe&&qe.m(N,null),a(N,xe),a(N,_e),a(_e,Je),a(Je,ie),a(_e,le),a(_e,Le),Ee.m(Le,null),a(t,ke),a(t,Ve),a(t,Me),ze&&ze.m(t,null),a(e,Ue),a(e,we),a(we,Ae),a(Ae,Te),Ie||(je=[$(b,"change",s[22]),$(b,"change",s[23]),$(O,"click",s[24]),$(x,"click",s[25]),$(re,"change",s[26]),$(re,"change",s[27]),$(Le,"click",s[30]),$(e,"submit",Nl(s[34]))],Ie=!0)},p(pe,Ze){Ze[0]&4096&&n!==(n=pe[12].t("STT Settings")+"")&&W(u,n),Ze[0]&4096&&h!==(h=pe[12].t("Speech-to-Text Engine")+"")&&W(m,h),Ze[0]&4096&&I!==(I=pe[12].t("Default (Web API)")+"")&&W(y,I),Ze[0]&4096&&D!==(D=pe[12].t("Whisper (Local)")+"")&&W(L,D),Ze[0]&8&&Et(b,pe[3]),Ze[0]&4096&&P!==(P=pe[12].t("Conversation Mode")+"")&&W(R,P),Re===(Re=be(pe))&&Ge?Ge.p(pe,Ze):(Ge.d(1),Ge=Re(pe),Ge&&(Ge.c(),Ge.m(O,null))),Ze[0]&4096&&G!==(G=pe[12].t("Auto-send input after 3 sec.")+"")&&W(K,G),et===(et=We(pe))&&Fe?Fe.p(pe,Ze):(Fe.d(1),Fe=et(pe),Fe&&(Fe.c(),Fe.m(x,null))),Ze[0]&4096&&J!==(J=pe[12].t("TTS Settings")+"")&&W(X,J),Ze[0]&4096&&oe!==(oe=pe[12].t("Text-to-Speech Engine")+"")&&W(ve,oe),Ze[0]&4096&&De!==(De=pe[12].t("Default (Web API)")+"")&&W(ae,De),Ze[0]&4096&&de!==(de=pe[12].t("Open AI")+"")&&W(Ce,de),Ze[0]&128&&Et(re,pe[7]),pe[11].role==="admin"?qe?qe.p(pe,Ze):(qe=Ir(pe),qe.c(),qe.m(N,xe)):qe&&(qe.d(1),qe=null),Ze[0]&4096&&ne!==(ne=pe[12].t("Auto-playback response")+"")&&W(ie,ne),Oe===(Oe=Ke(pe))&&Ee?Ee.p(pe,Ze):(Ee.d(1),Ee=Oe(pe),Ee&&(Ee.c(),Ee.m(Le,null))),Pe===(Pe=tt(pe))&&ze?ze.p(pe,Ze):(ze&&ze.d(1),ze=Pe&&Pe(pe),ze&&(ze.c(),ze.m(t,null))),Ze[0]&4096&&me!==(me=pe[12].t("Save")+"")&&W(Te,me)},i:it,o:it,d(pe){pe&&i(e),Ge.d(),Fe.d(),qe&&qe.d(),Ee.d(),ze&&ze.d(),Ie=!1,ut(je)}}}const Ar=s=>s.localService===!0;function ki(s,e,t){let l,r;nt(s,sl,X=>t(11,l=X));const n=Pl(),u=jt("i18n");nt(s,u,X=>t(12,r=X));let{saveSettings:c}=e,p="",_="",h="",m=!1,g=!1,w=!1,b="",E=[],I="",y=[],k="";const D=()=>{t(8,E=[{name:"alloy"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"shimmer"}])},L=()=>{t(10,y=[{name:"tts-1"},{name:"tts-1-hd"}])},T=()=>{const X=setInterval(async()=>{t(8,E=await speechSynthesis.getVoices()),E.length>0&&clearInterval(X)},100)},V=async()=>{t(4,m=!m),m&&(t(6,w=!0),t(5,g=!0)),c({conversationMode:m,responseAutoPlayback:w,speechAutoSend:g})},M=async()=>{t(6,w=!w),c({responseAutoPlayback:w})},P=async()=>{t(5,g=!g),c({speechAutoSend:g})},R=async()=>{if(b==="openai"){const X=await Tn(localStorage.token,{url:p,key:_,model:k,speaker:I});X&&(t(1,p=X.OPENAI_API_BASE_URL),t(2,_=X.OPENAI_API_KEY),t(13,k=X.OPENAI_API_MODEL),t(9,I=X.OPENAI_API_VOICE))}};Ft(async()=>{var Q,te,ue,oe;let X=JSON.parse(localStorage.getItem("settings")??"{}");if(t(4,m=X.conversationMode??!1),t(5,g=X.speechAutoSend??!1),t(6,w=X.responseAutoPlayback??!1),t(3,h=((Q=X==null?void 0:X.audio)==null?void 0:Q.STTEngine)??""),t(7,b=((te=X==null?void 0:X.audio)==null?void 0:te.TTSEngine)??""),t(9,I=((ue=X==null?void 0:X.audio)==null?void 0:ue.speaker)??""),t(13,k=((oe=X==null?void 0:X.audio)==null?void 0:oe.model)??""),b==="openai"?(D(),L()):T(),l.role==="admin"){const ve=await Dn(localStorage.token);ve&&(t(1,p=ve.OPENAI_API_BASE_URL),t(2,_=ve.OPENAI_API_KEY),t(13,k=ve.OPENAI_API_MODEL),t(9,I=ve.OPENAI_API_VOICE))}});function z(){h=Yt(this),t(3,h)}const O=X=>{X.target.value!==""&&navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(Q){Xe.error(r.t("Permission denied when accessing microphone: {{error}}",{error:Q})),t(3,h="")})},q=()=>{V()},B=()=>{P()};function C(){b=Yt(this),t(7,b)}const G=X=>{X.target.value==="openai"?(D(),t(9,I="alloy"),t(13,k="tts-1")):(T(),t(9,I=""))};function K(){p=this.value,t(1,p)}function F(){_=this.value,t(2,_)}const x=()=>{M()};function Z(){I=Yt(this),t(9,I),t(8,E)}function N(){I=this.value,t(9,I),t(8,E)}function Y(){k=this.value,t(13,k)}const J=async()=>{l.role==="admin"&&await R(),c({audio:{STTEngine:h!==""?h:void 0,TTSEngine:b!==""?b:void 0,speaker:I!==""?I:void 0,model:k!==""?k:void 0}}),n("save")};return s.$$set=X=>{"saveSettings"in X&&t(0,c=X.saveSettings)},[c,p,_,h,m,g,w,b,E,I,y,l,r,k,n,u,D,T,V,M,P,R,z,O,q,B,C,G,K,F,x,Z,N,Y,J]}class yi extends St{constructor(e){super(),Lt(this,e,ki,wi,At,{saveSettings:0},null,[-1,-1])}}function Ei(s){let e,t,l,r,n,u=s[4].t("Off")+"",c;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),r=A(),n=f("span"),c=H(u),this.h()},l(p){e=$e(p,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var _=v(e);t=$e(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),l=$e(_,"path",{d:!0}),v(l).forEach(i),_.forEach(i),r=S(p),n=d(p,"SPAN",{class:!0});var h=v(n);c=U(h,u),h.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(n,"class","ml-2 self-center")},m(p,_){j(p,e,_),a(e,t),a(e,l),j(p,r,_),j(p,n,_),a(n,c)},p(p,_){_&16&&u!==(u=p[4].t("Off")+"")&&W(c,u)},d(p){p&&(i(e),i(r),i(n))}}}function Ii(s){let e,t,l,r,n,u=s[4].t("On")+"",c;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),r=A(),n=f("span"),c=H(u),this.h()},l(p){e=$e(p,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var _=v(e);t=$e(_,"path",{d:!0}),v(t).forEach(i),l=$e(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(i),_.forEach(i),r=S(p),n=d(p,"SPAN",{class:!0});var h=v(n);c=U(h,u),h.forEach(i),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(n,"class","ml-2 self-center")},m(p,_){j(p,e,_),a(e,t),a(e,l),j(p,r,_),j(p,n,_),a(n,c)},p(p,_){_&16&&u!==(u=p[4].t("On")+"")&&W(c,u)},d(p){p&&(i(e),i(r),i(n))}}}function Di(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',r,n,u=s[4].t("Delete Chats")+"",c,p,_;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,r=A(),n=f("div"),c=H(u),this.h()},l(h){e=d(h,"BUTTON",{class:!0});var m=v(e);t=d(m,"DIV",{class:!0,"data-svelte-h":!0}),Be(t)!=="svelte-1x5epei"&&(t.innerHTML=l),r=S(m),n=d(m,"DIV",{class:!0});var g=v(n);c=U(g,u),g.forEach(i),m.forEach(i),this.h()},h(){o(t,"class","self-center mr-3"),o(n,"class","self-center text-sm font-medium"),o(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(h,m){j(h,e,m),a(e,t),a(e,r),a(e,n),a(n,c),p||(_=$(e,"click",s[20]),p=!0)},p(h,m){m&16&&u!==(u=h[4].t("Delete Chats")+"")&&W(c,u)},d(h){h&&i(e),p=!1,_()}}}function Ti(s){let e,t,l,r,n,u,c,p=s[4].t("Are you sure?")+"",_,h,m,g,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',b,E,I='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',y,k;return{c(){e=f("div"),t=f("div"),l=Qe("svg"),r=Qe("path"),n=Qe("path"),u=A(),c=f("span"),_=H(p),h=A(),m=f("div"),g=f("button"),g.innerHTML=w,b=A(),E=f("button"),E.innerHTML=I,this.h()},l(D){e=d(D,"DIV",{class:!0});var L=v(e);t=d(L,"DIV",{class:!0});var T=v(t);l=$e(T,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var V=v(l);r=$e(V,"path",{d:!0}),v(r).forEach(i),n=$e(V,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(n).forEach(i),V.forEach(i),u=S(T),c=d(T,"SPAN",{});var M=v(c);_=U(M,p),M.forEach(i),T.forEach(i),h=S(L),m=d(L,"DIV",{class:!0});var P=v(m);g=d(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(g)!=="svelte-1yl80nf"&&(g.innerHTML=w),b=S(P),E=d(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(E)!=="svelte-7i2l1r"&&(E.innerHTML=I),P.forEach(i),L.forEach(i),this.h()},h(){o(r,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),o(n,"fill-rule","evenodd"),o(n,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),o(n,"clip-rule","evenodd"),o(l,"xmlns","http://www.w3.org/2000/svg"),o(l,"viewBox","0 0 16 16"),o(l,"fill","currentColor"),o(l,"class","w-4 h-4"),o(t,"class","flex items-center space-x-3"),o(g,"class","hover:text-white transition"),o(E,"class","hover:text-white transition"),o(m,"class","flex space-x-1.5 items-center"),o(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(D,L){j(D,e,L),a(e,t),a(t,l),a(l,r),a(l,n),a(t,u),a(t,c),a(c,_),a(e,h),a(e,m),a(m,g),a(m,b),a(m,E),y||(k=[$(g,"click",s[18]),$(E,"click",s[19])],y=!0)},p(D,L){L&16&&p!==(p=D[4].t("Are you sure?")+"")&&W(_,p)},d(D){D&&i(e),y=!1,ut(k)}}}function Sr(s){let e,t,l,r,n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',u,c,p=s[4].t("Export All Chats (All Users)")+"",_,h,m;return{c(){e=f("hr"),t=A(),l=f("button"),r=f("div"),r.innerHTML=n,u=A(),c=f("div"),_=H(p),this.h()},l(g){e=d(g,"HR",{class:!0}),t=S(g),l=d(g,"BUTTON",{class:!0});var w=v(l);r=d(w,"DIV",{class:!0,"data-svelte-h":!0}),Be(r)!=="svelte-uk5zsu"&&(r.innerHTML=n),u=S(w),c=d(w,"DIV",{class:!0});var b=v(c);_=U(b,p),b.forEach(i),w.forEach(i),this.h()},h(){o(e,"class","dark:border-gray-700"),o(r,"class","self-center mr-3"),o(c,"class","self-center text-sm font-medium"),o(l,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(g,w){j(g,e,w),j(g,t,w),j(g,l,w),a(l,r),a(l,u),a(l,c),a(c,_),h||(m=$(l,"click",s[21]),h=!0)},p(g,w){w&16&&p!==(p=g[4].t("Export All Chats (All Users)")+"")&&W(_,p)},d(g){g&&(i(e),i(t),i(l)),h=!1,m()}}}function Vi(s){var se,De;let e,t,l,r,n,u=s[4].t("Chat History")+"",c,p,_,h,m,g=s[4].t("This setting does not sync across browsers or devices.")+"",w,b,E,I,y,k,D,L,T,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',M,P,R=s[4].t("Import Chats")+"",z,O,q,B,C='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',G,K,F=s[4].t("Export Chats")+"",x,Z,N,Y,J,X,Q;function te(ae,ee){return ae[1]===!0?Ii:Ei}let ue=te(s),oe=ue(s);function ve(ae,ee){return ae[2]?Ti:Di}let fe=ve(s),ce=fe(s),re=((se=s[5])==null?void 0:se.role)==="admin"&&(((De=s[6])==null?void 0:De.admin_export_enabled)??!0)&&Sr(s);return{c(){e=f("div"),t=f("div"),l=f("div"),r=f("div"),n=f("div"),c=H(u),p=A(),_=f("button"),oe.c(),h=A(),m=f("div"),w=H(g),b=A(),E=f("hr"),I=A(),y=f("div"),k=f("input"),D=A(),L=f("button"),T=f("div"),T.innerHTML=V,M=A(),P=f("div"),z=H(R),O=A(),q=f("button"),B=f("div"),B.innerHTML=C,G=A(),K=f("div"),x=H(F),Z=A(),N=f("hr"),Y=A(),ce.c(),J=A(),re&&re.c(),this.h()},l(ae){e=d(ae,"DIV",{class:!0});var ee=v(e);t=d(ee,"DIV",{class:!0});var de=v(t);l=d(de,"DIV",{class:!0});var Ce=v(l);r=d(Ce,"DIV",{class:!0});var he=v(r);n=d(he,"DIV",{class:!0});var xe=v(n);c=U(xe,u),xe.forEach(i),p=S(he),_=d(he,"BUTTON",{class:!0,type:!0});var _e=v(_);oe.l(_e),_e.forEach(i),he.forEach(i),h=S(Ce),m=d(Ce,"DIV",{class:!0});var Je=v(m);w=U(Je,g),Je.forEach(i),Ce.forEach(i),b=S(de),E=d(de,"HR",{class:!0}),I=S(de),y=d(de,"DIV",{class:!0});var ne=v(y);k=d(ne,"INPUT",{id:!0,type:!0,accept:!0}),D=S(ne),L=d(ne,"BUTTON",{class:!0});var ie=v(L);T=d(ie,"DIV",{class:!0,"data-svelte-h":!0}),Be(T)!=="svelte-135keqh"&&(T.innerHTML=V),M=S(ie),P=d(ie,"DIV",{class:!0});var le=v(P);z=U(le,R),le.forEach(i),ie.forEach(i),O=S(ne),q=d(ne,"BUTTON",{class:!0});var Le=v(q);B=d(Le,"DIV",{class:!0,"data-svelte-h":!0}),Be(B)!=="svelte-7e4f4y"&&(B.innerHTML=C),G=S(Le),K=d(Le,"DIV",{class:!0});var ke=v(K);x=U(ke,F),ke.forEach(i),Le.forEach(i),ne.forEach(i),Z=S(de),N=d(de,"HR",{class:!0}),Y=S(de),ce.l(de),J=S(de),re&&re.l(de),de.forEach(i),ee.forEach(i),this.h()},h(){o(n,"class","self-center text-sm font-medium"),o(_,"class","p-1 px-3 text-xs flex rounded transition"),o(_,"type","button"),o(r,"class","flex w-full justify-between"),o(m,"class","text-xs text-left w-full font-medium mt-0.5"),o(l,"class","flex flex-col justify-between rounded-md items-center py-2 px-3.5 w-full transition"),o(E,"class","dark:border-gray-700"),o(k,"id","chat-import-input"),o(k,"type","file"),o(k,"accept",".json"),k.hidden=!0,o(T,"class","self-center mr-3"),o(P,"class","self-center text-sm font-medium"),o(L,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(B,"class","self-center mr-3"),o(K,"class","self-center text-sm font-medium"),o(q,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(y,"class","flex flex-col"),o(N,"class","dark:border-gray-700"),o(t,"class","space-y-2"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm max-h-[22rem]")},m(ae,ee){j(ae,e,ee),a(e,t),a(t,l),a(l,r),a(r,n),a(n,c),a(r,p),a(r,_),oe.m(_,null),a(l,h),a(l,m),a(m,w),a(t,b),a(t,E),a(t,I),a(t,y),a(y,k),s[14](k),a(y,D),a(y,L),a(L,T),a(L,M),a(L,P),a(P,z),a(y,O),a(y,q),a(q,B),a(q,G),a(q,K),a(K,x),a(t,Z),a(t,N),a(t,Y),ce.m(t,null),a(t,J),re&&re.m(t,null),X||(Q=[$(_,"click",s[13]),$(k,"change",s[15]),$(L,"click",s[16]),$(q,"click",s[17])],X=!0)},p(ae,[ee]){var de,Ce;ee&16&&u!==(u=ae[4].t("Chat History")+"")&&W(c,u),ue===(ue=te(ae))&&oe?oe.p(ae,ee):(oe.d(1),oe=ue(ae),oe&&(oe.c(),oe.m(_,null))),ee&16&&g!==(g=ae[4].t("This setting does not sync across browsers or devices.")+"")&&W(w,g),ee&16&&R!==(R=ae[4].t("Import Chats")+"")&&W(z,R),ee&16&&F!==(F=ae[4].t("Export Chats")+"")&&W(x,F),fe===(fe=ve(ae))&&ce?ce.p(ae,ee):(ce.d(1),ce=fe(ae),ce&&(ce.c(),ce.m(t,J))),((de=ae[5])==null?void 0:de.role)==="admin"&&(((Ce=ae[6])==null?void 0:Ce.admin_export_enabled)??!0)?re?re.p(ae,ee):(re=Sr(ae),re.c(),re.m(t,null)):re&&(re.d(1),re=null)},i:it,o:it,d(ae){ae&&i(e),oe.d(),s[14](null),ce.d(),re&&re.d(),X=!1,ut(Q)}}}function Mi(s,e,t){let l,r,n;nt(s,sl,O=>t(5,r=O)),nt(s,Cl,O=>t(6,n=O));const{saveAs:u}=Ea,c=jt("i18n");nt(s,c,O=>t(4,l=O));let{saveSettings:p}=e,_=!0,h,m=!1,g;const w=async O=>{for(const q of O)console.log(q),q.chat?await Es(localStorage.token,q.chat):await Es(localStorage.token,q);await Qt.set(await cl(localStorage.token))},b=async()=>{let O=new Blob([JSON.stringify(await Ja(localStorage.token))],{type:"application/json"});u(O,`chat-export-${Date.now()}.json`)},E=async()=>{let O=new Blob([JSON.stringify(await Xa(localStorage.token))],{type:"application/json"});u(O,`all-chats-export-${Date.now()}.json`)},I=async()=>{await Al("/"),await Qa(localStorage.token).catch(O=>{Xe.error(O)}),await Qt.set(await cl(localStorage.token))},y=async()=>{t(1,_=!_),console.log(_),_===!1&&await Al("/"),p({saveChatHistory:_})};Ft(async()=>{let O=JSON.parse(localStorage.getItem("settings")??"{}");t(1,_=O.saveChatHistory??!0)});const k=()=>{y()};function D(O){Rt[O?"unshift":"push"](()=>{g=O,t(3,g)})}function L(){h=this.files,t(0,h)}const T=()=>{g.click()},V=()=>{b()},M=()=>{I(),t(2,m=!1)},P=()=>{t(2,m=!1)},R=()=>{t(2,m=!0)},z=()=>{E()};return s.$$set=O=>{"saveSettings"in O&&t(12,p=O.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&h){console.log(h);let O=new FileReader;O.onload=q=>{let B=JSON.parse(q.target.result);if(console.log(B),ja(B)=="openai")try{B=Ra(B)}catch(C){console.log("Unable to import chats:",C)}w(B)},h.length>0&&O.readAsText(h[0])}},[h,_,m,g,l,r,n,c,b,E,I,y,p,k,D,L,T,V,M,P,R,z]}class Ai extends St{constructor(e){super(),Lt(this,e,Mi,Vi,At,{saveSettings:12})}}function Lr(s,e,t){const l=s.slice();return l[21]=e[t],l[22]=e,l[23]=t,l}function Cr(s,e,t){const l=s.slice();return l[21]=e[t],l[24]=e,l[23]=t,l}function xr(s){let e,t=ot(s[2]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Or(Cr(s,t,r));return{c(){e=f("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var n=v(e);for(let u=0;u<l.length;u+=1)l[u].l(n);n.forEach(i),this.h()},h(){o(e,"class","flex flex-col gap-1")},m(r,n){j(r,e,n);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null)},p(r,n){if(n&22){t=ot(r[2]);let u;for(u=0;u<t.length;u+=1){const c=Cr(r,t,u);l[u]?l[u].p(c,n):(l[u]=Or(c),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=t.length}},d(r){r&&i(e),Ct(l,r)}}}function Si(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function n(){return s[14](s[23])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Be(e)!=="svelte-q4z88n"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(u,c){j(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function Li(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=f("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Be(e)!=="svelte-1k98qnf"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,u){j(n,e,u),l||(r=$(e,"click",s[13]),l=!0)},p:it,d(n){n&&i(e),l=!1,r()}}}function Or(s){let e,t,l,r,n,u,c,p,_,h,m,g,w=s[4].t("WebUI will make requests to")+"",b,E,I,y,k=s[21]+"",D,L,T,V,M;function P(){s[11].call(l,s[24],s[23])}function R(){s[12].call(c,s[23])}function z(B,C){return B[23]===0?Li:Si}let q=z(s)(s);return{c(){e=f("div"),t=f("div"),l=f("input"),n=A(),u=f("div"),c=f("input"),_=A(),h=f("div"),q.c(),m=A(),g=f("div"),b=H(w),E=A(),I=f("span"),y=H("'"),D=H(k),L=H("/models'"),T=A(),this.h()},l(B){e=d(B,"DIV",{class:!0});var C=v(e);t=d(C,"DIV",{class:!0});var G=v(t);l=d(G,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),G.forEach(i),n=S(C),u=d(C,"DIV",{class:!0});var K=v(u);c=d(K,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),K.forEach(i),_=S(C),h=d(C,"DIV",{class:!0});var F=v(h);q.l(F),F.forEach(i),C.forEach(i),m=S(B),g=d(B,"DIV",{class:!0});var x=v(g);b=U(x,w),E=S(x),I=d(x,"SPAN",{class:!0});var Z=v(I);y=U(Z,"'"),D=U(Z,k),L=U(Z,"/models'"),Z.forEach(i),T=S(x),x.forEach(i),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",r=s[4].t("API Base URL")),o(l,"autocomplete","off"),o(t,"class","flex-1"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"placeholder",p=s[4].t("API Key")),o(c,"autocomplete","off"),o(u,"class","flex-1"),o(h,"class","self-center flex items-center"),o(e,"class","flex w-full gap-2"),o(I,"class","text-gray-200"),o(g,"class","mb-1 text-xs text-gray-400 dark:text-gray-500")},m(B,C){j(B,e,C),a(e,t),a(t,l),ge(l,s[21]),a(e,n),a(e,u),a(u,c),ge(c,s[1][s[23]]),a(e,_),a(e,h),q.m(h,null),j(B,m,C),j(B,g,C),a(g,b),a(g,E),a(g,I),a(I,y),a(I,D),a(I,L),a(g,T),V||(M=[$(l,"input",P),$(c,"input",R)],V=!0)},p(B,C){s=B,C&16&&r!==(r=s[4].t("API Base URL"))&&o(l,"placeholder",r),C&4&&l.value!==s[21]&&ge(l,s[21]),C&16&&p!==(p=s[4].t("API Key"))&&o(c,"placeholder",p),C&2&&c.value!==s[1][s[23]]&&ge(c,s[1][s[23]]),q.p(s,C),C&16&&w!==(w=s[4].t("WebUI will make requests to")+"")&&W(b,w),C&4&&k!==(k=s[21]+"")&&W(D,k)},d(B){B&&(i(e),i(m),i(g)),q.d(),V=!1,ut(M)}}}function Ci(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function n(){return s[17](s[23])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Be(e)!=="svelte-tjuou5"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(u,c){j(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function xi(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=f("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Be(e)!=="svelte-1bpufq2"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,u){j(n,e,u),l||(r=$(e,"click",s[16]),l=!0)},p:it,d(n){n&&i(e),l=!1,r()}}}function Nr(s){let e,t,l,r,n,u,c,p;function _(){s[15].call(t,s[22],s[23])}function h(w,b){return w[23]===0?xi:Ci}let g=h(s)(s);return{c(){e=f("div"),t=f("input"),r=A(),n=f("div"),g.c(),u=A(),this.h()},l(w){e=d(w,"DIV",{class:!0});var b=v(e);t=d(b,"INPUT",{class:!0,placeholder:!0}),r=S(b),n=d(b,"DIV",{class:!0});var E=v(n);g.l(E),E.forEach(i),u=S(b),b.forEach(i),this.h()},h(){o(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"placeholder",l=s[4].t("Enter URL (e.g. http://localhost:11434)")),o(n,"class","self-center flex items-center"),o(e,"class","flex gap-1.5")},m(w,b){j(w,e,b),a(e,t),ge(t,s[21]),a(e,r),a(e,n),g.m(n,null),a(e,u),c||(p=$(t,"input",_),c=!0)},p(w,b){s=w,b&16&&l!==(l=s[4].t("Enter URL (e.g. http://localhost:11434)"))&&o(t,"placeholder",l),b&1&&t.value!==s[21]&&ge(t,s[21]),g.p(s,b)},d(w){w&&i(e),g.d(),c=!1,p()}}}function Oi(s){let e,t,l,r,n,u,c=s[4].t("OpenAI API")+"",p,_,h,m=(s[3]?s[4].t("Hide"):s[4].t("Show"))+"",g,w,b,E,I,y,k,D=s[4].t("Ollama Base URL")+"",L,T,V,M,P,R,z,O='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',q,B,C=s[4].t("Trouble accessing Ollama?")+"",G,K,F,x=s[4].t("Click here for help.")+"",Z,N,Y,J,X=s[4].t("Save")+"",Q,te,ue,oe=s[3]&&xr(s),ve=ot(s[0]),fe=[];for(let ce=0;ce<ve.length;ce+=1)fe[ce]=Nr(Lr(s,ve,ce));return{c(){e=f("form"),t=f("div"),l=f("div"),r=f("div"),n=f("div"),u=f("div"),p=H(c),_=A(),h=f("button"),g=H(m),w=A(),oe&&oe.c(),b=A(),E=f("hr"),I=A(),y=f("div"),k=f("div"),L=H(D),T=A(),V=f("div"),M=f("div");for(let ce=0;ce<fe.length;ce+=1)fe[ce].c();P=A(),R=f("div"),z=f("button"),z.innerHTML=O,q=A(),B=f("div"),G=H(C),K=A(),F=f("a"),Z=H(x),N=A(),Y=f("div"),J=f("button"),Q=H(X),this.h()},l(ce){e=d(ce,"FORM",{class:!0});var re=v(e);t=d(re,"DIV",{class:!0});var se=v(t);l=d(se,"DIV",{class:!0});var De=v(l);r=d(De,"DIV",{class:!0});var ae=v(r);n=d(ae,"DIV",{class:!0});var ee=v(n);u=d(ee,"DIV",{class:!0});var de=v(u);p=U(de,c),de.forEach(i),_=S(ee),h=d(ee,"BUTTON",{class:!0,type:!0});var Ce=v(h);g=U(Ce,m),Ce.forEach(i),ee.forEach(i),w=S(ae),oe&&oe.l(ae),ae.forEach(i),De.forEach(i),b=S(se),E=d(se,"HR",{class:!0}),I=S(se),y=d(se,"DIV",{});var he=v(y);k=d(he,"DIV",{class:!0});var xe=v(k);L=U(xe,D),xe.forEach(i),T=S(he),V=d(he,"DIV",{class:!0});var _e=v(V);M=d(_e,"DIV",{class:!0});var Je=v(M);for(let Ve=0;Ve<fe.length;Ve+=1)fe[Ve].l(Je);Je.forEach(i),P=S(_e),R=d(_e,"DIV",{class:!0});var ne=v(R);z=d(ne,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Be(z)!=="svelte-1rngu5f"&&(z.innerHTML=O),ne.forEach(i),_e.forEach(i),q=S(he),B=d(he,"DIV",{class:!0});var ie=v(B);G=U(ie,C),K=S(ie),F=d(ie,"A",{class:!0,href:!0,target:!0});var le=v(F);Z=U(le,x),le.forEach(i),ie.forEach(i),he.forEach(i),se.forEach(i),N=S(re),Y=d(re,"DIV",{class:!0});var Le=v(Y);J=d(Le,"BUTTON",{class:!0,type:!0});var ke=v(J);Q=U(ke,X),ke.forEach(i),Le.forEach(i),re.forEach(i),this.h()},h(){o(u,"class","font-medium"),o(h,"class","text-xs font-medium text-gray-500"),o(h,"type","button"),o(n,"class","flex justify-between items-center text-sm"),o(r,"class","mt-2 space-y-2 pr-1.5"),o(l,"class","space-y-3"),o(E,"class","dark:border-gray-700"),o(k,"class","mb-2.5 text-sm font-medium"),o(M,"class","flex-1 flex flex-col gap-2"),o(z,"class","p-2.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-850 dark:hover:bg-gray-800 rounded-lg transition"),o(z,"type","button"),o(R,"class",""),o(V,"class","flex w-full gap-1.5"),o(F,"class","text-gray-300 font-medium underline"),o(F,"href","https://github.com/open-webui/open-webui#troubleshooting"),o(F,"target","_blank"),o(B,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[22rem] space-y-3"),o(J,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(J,"type","submit"),o(Y,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(ce,re){j(ce,e,re),a(e,t),a(t,l),a(l,r),a(r,n),a(n,u),a(u,p),a(n,_),a(n,h),a(h,g),a(r,w),oe&&oe.m(r,null),a(t,b),a(t,E),a(t,I),a(t,y),a(y,k),a(k,L),a(y,T),a(y,V),a(V,M);for(let se=0;se<fe.length;se+=1)fe[se]&&fe[se].m(M,null);a(V,P),a(V,R),a(R,z),a(y,q),a(y,B),a(B,G),a(B,K),a(B,F),a(F,Z),a(e,N),a(e,Y),a(Y,J),a(J,Q),te||(ue=[$(h,"click",s[10]),$(z,"click",s[18]),$(e,"submit",Nl(s[19]))],te=!0)},p(ce,[re]){if(re&16&&c!==(c=ce[4].t("OpenAI API")+"")&&W(p,c),re&24&&m!==(m=(ce[3]?ce[4].t("Hide"):ce[4].t("Show"))+"")&&W(g,m),ce[3]?oe?oe.p(ce,re):(oe=xr(ce),oe.c(),oe.m(r,null)):oe&&(oe.d(1),oe=null),re&16&&D!==(D=ce[4].t("Ollama Base URL")+"")&&W(L,D),re&17){ve=ot(ce[0]);let se;for(se=0;se<ve.length;se+=1){const De=Lr(ce,ve,se);fe[se]?fe[se].p(De,re):(fe[se]=Nr(De),fe[se].c(),fe[se].m(M,null))}for(;se<fe.length;se+=1)fe[se].d(1);fe.length=ve.length}re&16&&C!==(C=ce[4].t("Trouble accessing Ollama?")+"")&&W(G,C),re&16&&x!==(x=ce[4].t("Click here for help.")+"")&&W(Z,x),re&16&&X!==(X=ce[4].t("Save")+"")&&W(Q,X)},i:it,o:it,d(ce){ce&&i(e),oe&&oe.d(),Ct(fe,ce),te=!1,ut(ue)}}}function Ni(s,e,t){let l,r;nt(s,sl,P=>t(20,l=P));const n=Pl(),u=jt("i18n");nt(s,u,P=>t(4,r=P));let{getModels:c}=e,p=[""],_=[""],h=[""],m=!1;const g=async()=>{t(2,h=await Wa(localStorage.token,h)),t(1,_=await qa(localStorage.token,_)),await Kt.set(await c())},w=async()=>{t(0,p=await _n(localStorage.token,p)),await _s(localStorage.token).catch(R=>(Xe.error(R),null))&&(Xe.success(r.t("Server connection verified")),await Kt.set(await c()))};Ft(async()=>{l.role==="admin"&&(t(0,p=await Aa(localStorage.token)),t(2,h=await za(localStorage.token)),t(1,_=await Za(localStorage.token)))});const b=()=>{t(3,m=!m)};function E(P,R){P[R]=this.value,t(2,h)}function I(P){_[P]=this.value,t(1,_)}const y=()=>{t(2,h=[...h,""]),t(1,_=[..._,""])},k=P=>{t(2,h=h.filter((R,z)=>P!==z)),t(1,_=_.filter((R,z)=>P!==z))};function D(P,R){P[R]=this.value,t(0,p)}const L=()=>{t(0,p=[...p,""])},T=P=>{t(0,p=p.filter((R,z)=>P!==z))},V=()=>{w()},M=()=>{g(),n("save")};return s.$$set=P=>{"getModels"in P&&t(9,c=P.getModels)},[p,_,h,m,r,n,u,g,w,c,b,E,I,y,k,D,L,T,V,M]}class Pi extends St{constructor(e){super(),Lt(this,e,Ni,Oi,At,{getModels:9})}}function Pr(s,e,t){const l=s.slice();return l[33]=e[t],l}function Br(s,e,t){const l=s.slice();return l[33]=e[t],l}function Bi(s){let e,t=s[11].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&2048&&t!==(t=r[11].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function Hi(s){let e,t=s[11].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&2048&&t!==(t=r[11].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function Ui(s){let e,t,l=s[11].t("OpenAI API Config")+"",r,n,u,c,p,_,h,m,g,w;return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("input"),_=A(),h=f("input"),this.h()},l(b){e=d(b,"DIV",{});var E=v(e);t=d(E,"DIV",{class:!0});var I=v(t);r=U(I,l),I.forEach(i),n=S(E),u=d(E,"DIV",{class:!0});var y=v(u);c=d(y,"INPUT",{class:!0,placeholder:!0}),_=S(y),h=d(y,"INPUT",{class:!0,placeholder:!0}),y.forEach(i),E.forEach(i),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"placeholder",p=s[11].t("API Base URL")),c.required=!0,o(h,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(h,"placeholder",m=s[11].t("API Key")),h.required=!0,o(u,"class","flex gap-2 mb-1")},m(b,E){j(b,e,E),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),ge(c,s[5]),a(u,_),a(u,h),ge(h,s[6]),g||(w=[$(c,"input",s[24]),$(h,"input",s[25])],g=!0)},p(b,E){E[0]&2048&&l!==(l=b[11].t("OpenAI API Config")+"")&&W(r,l),E[0]&2048&&p!==(p=b[11].t("API Base URL"))&&o(c,"placeholder",p),E[0]&32&&c.value!==b[5]&&ge(c,b[5]),E[0]&2048&&m!==(m=b[11].t("API Key"))&&o(h,"placeholder",m),E[0]&64&&h.value!==b[6]&&ge(h,b[6])},d(b){b&&i(e),g=!1,ut(w)}}}function ji(s){let e,t=s[11].t("ComfyUI Base URL")+"",l,r,n,u,c,p,_,h,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,w;return{c(){e=f("div"),l=H(t),r=A(),n=f("div"),u=f("div"),c=f("input"),_=A(),h=f("button"),h.innerHTML=m,this.h()},l(b){e=d(b,"DIV",{class:!0});var E=v(e);l=U(E,t),E.forEach(i),r=S(b),n=d(b,"DIV",{class:!0});var I=v(n);u=d(I,"DIV",{class:!0});var y=v(u);c=d(y,"INPUT",{class:!0,placeholder:!0}),y.forEach(i),_=S(I),h=d(I,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Be(h)!=="svelte-md8ixs"&&(h.innerHTML=m),I.forEach(i),this.h()},h(){o(e,"class","mb-2.5 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"placeholder",p=s[11].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(u,"class","flex-1 mr-2"),o(h,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(h,"type","button"),o(n,"class","flex w-full")},m(b,E){j(b,e,E),a(e,l),j(b,r,E),j(b,n,E),a(n,u),a(u,c),ge(c,s[4]),a(n,_),a(n,h),g||(w=[$(c,"input",s[22]),$(h,"click",s[23])],g=!0)},p(b,E){E[0]&2048&&t!==(t=b[11].t("ComfyUI Base URL")+"")&&W(l,t),E[0]&2048&&p!==(p=b[11].t("Enter URL (e.g. http://127.0.0.1:7860/)"))&&o(c,"placeholder",p),E[0]&16&&c.value!==b[4]&&ge(c,b[4])},d(b){b&&(i(e),i(r),i(n)),g=!1,ut(w)}}}function Ri(s){let e,t=s[11].t("AUTOMATIC1111 Base URL")+"",l,r,n,u,c,p,_,h,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,w,b=s[11].t("Include `--api` flag when running stable-diffusion-webui")+"",E,I,y,k=s[11].t("(e.g. `sh webui.sh --api`)")+"",D,L,T;return{c(){e=f("div"),l=H(t),r=A(),n=f("div"),u=f("div"),c=f("input"),_=A(),h=f("button"),h.innerHTML=m,g=A(),w=f("div"),E=H(b),I=A(),y=f("a"),D=H(k),this.h()},l(V){e=d(V,"DIV",{class:!0});var M=v(e);l=U(M,t),M.forEach(i),r=S(V),n=d(V,"DIV",{class:!0});var P=v(n);u=d(P,"DIV",{class:!0});var R=v(u);c=d(R,"INPUT",{class:!0,placeholder:!0}),R.forEach(i),_=S(P),h=d(P,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Be(h)!=="svelte-md8ixs"&&(h.innerHTML=m),P.forEach(i),g=S(V),w=d(V,"DIV",{class:!0});var z=v(w);E=U(z,b),I=S(z),y=d(z,"A",{class:!0,href:!0,target:!0});var O=v(y);D=U(O,k),O.forEach(i),z.forEach(i),this.h()},h(){o(e,"class","mb-2.5 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"placeholder",p=s[11].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(u,"class","flex-1 mr-2"),o(h,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(h,"type","button"),o(n,"class","flex w-full"),o(y,"class","text-gray-300 font-medium"),o(y,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),o(y,"target","_blank"),o(w,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(V,M){j(V,e,M),a(e,l),j(V,r,M),j(V,n,M),a(n,u),a(u,c),ge(c,s[3]),a(n,_),a(n,h),j(V,g,M),j(V,w,M),a(w,E),a(w,I),a(w,y),a(y,D),L||(T=[$(c,"input",s[20]),$(h,"click",s[21])],L=!0)},p(V,M){M[0]&2048&&t!==(t=V[11].t("AUTOMATIC1111 Base URL")+"")&&W(l,t),M[0]&2048&&p!==(p=V[11].t("Enter URL (e.g. http://127.0.0.1:7860/)"))&&o(c,"placeholder",p),M[0]&8&&c.value!==V[3]&&ge(c,V[3]),M[0]&2048&&b!==(b=V[11].t("Include `--api` flag when running stable-diffusion-webui")+"")&&W(E,b),M[0]&2048&&k!==(k=V[11].t("(e.g. `sh webui.sh --api`)")+"")&&W(D,k)},d(V){V&&(i(e),i(r),i(n),i(g),i(w)),L=!1,ut(T)}}}function Hr(s){let e,t,l,r,n=s[11].t("Set Default Model")+"",u,c,p,_,h,m,g,w,b=s[11].t("Set Image Size")+"",E,I,y,k,D,L,T,V,M,P=s[11].t("Set Steps")+"",R,z,O,q,B,C,G,K;function F(N,Y){return Y[0]&34&&(h=null),h==null&&(h=N[1]==="openai"&&!N[5].includes("https://api.openai.com")),h?Zi:zi}let x=F(s,[-1,-1]),Z=x(s);return{c(){e=f("hr"),t=A(),l=f("div"),r=f("div"),u=H(n),c=A(),p=f("div"),_=f("div"),Z.c(),m=A(),g=f("div"),w=f("div"),E=H(b),I=A(),y=f("div"),k=f("div"),D=f("input"),T=A(),V=f("div"),M=f("div"),R=H(P),z=A(),O=f("div"),q=f("div"),B=f("input"),this.h()},l(N){e=d(N,"HR",{class:!0}),t=S(N),l=d(N,"DIV",{});var Y=v(l);r=d(Y,"DIV",{class:!0});var J=v(r);u=U(J,n),J.forEach(i),c=S(Y),p=d(Y,"DIV",{class:!0});var X=v(p);_=d(X,"DIV",{class:!0});var Q=v(_);Z.l(Q),Q.forEach(i),X.forEach(i),Y.forEach(i),m=S(N),g=d(N,"DIV",{});var te=v(g);w=d(te,"DIV",{class:!0});var ue=v(w);E=U(ue,b),ue.forEach(i),I=S(te),y=d(te,"DIV",{class:!0});var oe=v(y);k=d(oe,"DIV",{class:!0});var ve=v(k);D=d(ve,"INPUT",{class:!0,placeholder:!0}),ve.forEach(i),oe.forEach(i),te.forEach(i),T=S(N),V=d(N,"DIV",{});var fe=v(V);M=d(fe,"DIV",{class:!0});var ce=v(M);R=U(ce,P),ce.forEach(i),z=S(fe),O=d(fe,"DIV",{class:!0});var re=v(O);q=d(re,"DIV",{class:!0});var se=v(q);B=d(se,"INPUT",{class:!0,placeholder:!0}),se.forEach(i),re.forEach(i),fe.forEach(i),this.h()},h(){o(e,"class","dark:border-gray-700"),o(r,"class","mb-2.5 text-sm font-medium"),o(_,"class","flex-1 mr-2"),o(p,"class","flex w-full"),o(w,"class","mb-2.5 text-sm font-medium"),o(D,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(D,"placeholder",L=s[11].t("Enter Image Size (e.g. 512x512)")),o(k,"class","flex-1 mr-2"),o(y,"class","flex w-full"),o(M,"class","mb-2.5 text-sm font-medium"),o(B,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(B,"placeholder",C=s[11].t("Enter Number of Steps (e.g. 50)")),o(q,"class","flex-1 mr-2"),o(O,"class","flex w-full")},m(N,Y){j(N,e,Y),j(N,t,Y),j(N,l,Y),a(l,r),a(r,u),a(l,c),a(l,p),a(p,_),Z.m(_,null),j(N,m,Y),j(N,g,Y),a(g,w),a(w,E),a(g,I),a(g,y),a(y,k),a(k,D),ge(D,s[9]),j(N,T,Y),j(N,V,Y),a(V,M),a(M,R),a(V,z),a(V,O),a(O,q),a(q,B),ge(B,s[10]),G||(K=[$(D,"input",s[28]),$(B,"input",s[29])],G=!0)},p(N,Y){Y[0]&2048&&n!==(n=N[11].t("Set Default Model")+"")&&W(u,n),x===(x=F(N,Y))&&Z?Z.p(N,Y):(Z.d(1),Z=x(N),Z&&(Z.c(),Z.m(_,null))),Y[0]&2048&&b!==(b=N[11].t("Set Image Size")+"")&&W(E,b),Y[0]&2048&&L!==(L=N[11].t("Enter Image Size (e.g. 512x512)"))&&o(D,"placeholder",L),Y[0]&512&&D.value!==N[9]&&ge(D,N[9]),Y[0]&2048&&P!==(P=N[11].t("Set Steps")+"")&&W(R,P),Y[0]&2048&&C!==(C=N[11].t("Enter Number of Steps (e.g. 50)"))&&o(B,"placeholder",C),Y[0]&1024&&B.value!==N[10]&&ge(B,N[10])},d(N){N&&(i(e),i(t),i(l),i(m),i(g),i(T),i(V)),Z.d(),G=!1,ut(K)}}}function zi(s){let e,t,l,r,n,u=!s[7]&&Ur(s),c=ot(s[8]??[]),p=[];for(let _=0;_<c.length;_+=1)p[_]=jr(Pr(s,c,_));return{c(){e=f("select"),u&&u.c(),t=It();for(let _=0;_<p.length;_+=1)p[_].c();this.h()},l(_){e=d(_,"SELECT",{class:!0,placeholder:!0});var h=v(e);u&&u.l(h),t=It();for(let m=0;m<p.length;m+=1)p[m].l(h);h.forEach(i),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",l=s[11].t("Select a model")),e.required=!0,s[7]===void 0&&Gt(()=>s[27].call(e))},m(_,h){j(_,e,h),u&&u.m(e,null),a(e,t);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(e,null);Et(e,s[7],!0),r||(n=$(e,"change",s[27]),r=!0)},p(_,h){if(_[7]?u&&(u.d(1),u=null):u?u.p(_,h):(u=Ur(_),u.c(),u.m(e,t)),h[0]&256){c=ot(_[8]??[]);let m;for(m=0;m<c.length;m+=1){const g=Pr(_,c,m);p[m]?p[m].p(g,h):(p[m]=jr(g),p[m].c(),p[m].m(e,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=c.length}h[0]&2048&&l!==(l=_[11].t("Select a model"))&&o(e,"placeholder",l),h[0]&384&&Et(e,_[7])},d(_){_&&i(e),u&&u.d(),Ct(p,_),r=!1,n()}}}function Zi(s){let e,t,l,r,n,u,c,p=ot(s[8]??[]),_=[];for(let h=0;h<p.length;h+=1)_[h]=Rr(Br(s,p,h));return{c(){e=f("div"),t=f("div"),l=f("input"),r=A(),n=f("datalist");for(let h=0;h<_.length;h+=1)_[h].c();this.h()},l(h){e=d(h,"DIV",{class:!0});var m=v(e);t=d(m,"DIV",{class:!0});var g=v(t);l=d(g,"INPUT",{list:!0,class:!0,placeholder:!0}),r=S(g),n=d(g,"DATALIST",{id:!0});var w=v(n);for(let b=0;b<_.length;b+=1)_[b].l(w);w.forEach(i),g.forEach(i),m.forEach(i),this.h()},h(){o(l,"list","model-list"),o(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder","Select a model"),o(n,"id","model-list"),o(t,"class","flex-1"),o(e,"class","flex w-full")},m(h,m){j(h,e,m),a(e,t),a(t,l),ge(l,s[7]),a(t,r),a(t,n);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(n,null);u||(c=$(l,"input",s[26]),u=!0)},p(h,m){if(m[0]&384&&l.value!==h[7]&&ge(l,h[7]),m[0]&256){p=ot(h[8]??[]);let g;for(g=0;g<p.length;g+=1){const w=Br(h,p,g);_[g]?_[g].p(w,m):(_[g]=Rr(w),_[g].c(),_[g].m(n,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=p.length}},d(h){h&&i(e),Ct(_,h),u=!1,c()}}}function Ur(s){let e,t=s[11].t("Select a model")+"",l;return{c(){e=f("option"),l=H(t),this.h()},l(r){e=d(r,"OPTION",{});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){e.__value="",ge(e,e.__value),e.disabled=!0,e.selected=!0},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&2048&&t!==(t=r[11].t("Select a model")+"")&&W(l,t)},d(r){r&&i(e)}}}function jr(s){let e,t=s[33].name+"",l,r;return{c(){e=f("option"),l=H(t),this.h()},l(n){e=d(n,"OPTION",{class:!0});var u=v(e);l=U(u,t),u.forEach(i),this.h()},h(){e.__value=r=s[33].id,ge(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,u){j(n,e,u),a(e,l)},p(n,u){u[0]&256&&t!==(t=n[33].name+"")&&W(l,t),u[0]&256&&r!==(r=n[33].id)&&(e.__value=r,ge(e,e.__value))},d(n){n&&i(e)}}}function Rr(s){let e,t=s[33].name+"",l,r;return{c(){e=f("option"),l=H(t),this.h()},l(n){e=d(n,"OPTION",{});var u=v(e);l=U(u,t),u.forEach(i),this.h()},h(){e.__value=r=s[33].id,ge(e,e.__value)},m(n,u){j(n,e,u),a(e,l)},p(n,u){u[0]&256&&t!==(t=n[33].name+"")&&W(l,t),u[0]&256&&r!==(r=n[33].id)&&(e.__value=r,ge(e,e.__value))},d(n){n&&i(e)}}}function zr(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){j(l,e,r)},d(l){l&&i(e)}}}function Wi(s){let e,t,l,r,n=s[11].t("Image Settings")+"",u,c,p,_,h=s[11].t("Image Generation Engine")+"",m,g,w,b,E,I=s[11].t("Default (Automatic1111)")+"",y,k,D=s[11].t("ComfyUI")+"",L,T,V=s[11].t("Open AI (Dall-E)")+"",M,P,R,z,O,q,B=s[11].t("Image Generation (Experimental)")+"",C,G,K,F,x,Z,N,Y,J,X,Q=s[11].t("Save")+"",te,ue,oe,ve,fe;function ce(he,xe){return he[2]===!0?Hi:Bi}let re=ce(s),se=re(s);function De(he,xe){if(he[1]==="")return Ri;if(he[1]==="comfyui")return ji;if(he[1]==="openai")return Ui}let ae=De(s),ee=ae&&ae(s),de=s[2]&&Hr(s),Ce=s[0]&&zr();return{c(){e=f("form"),t=f("div"),l=f("div"),r=f("div"),u=H(n),c=A(),p=f("div"),_=f("div"),m=H(h),g=A(),w=f("div"),b=f("select"),E=f("option"),y=H(I),k=f("option"),L=H(D),T=f("option"),M=H(V),R=A(),z=f("div"),O=f("div"),q=f("div"),C=H(B),G=A(),K=f("button"),se.c(),F=A(),x=f("hr"),Z=A(),ee&&ee.c(),N=A(),de&&de.c(),Y=A(),J=f("div"),X=f("button"),te=H(Q),ue=A(),Ce&&Ce.c(),this.h()},l(he){e=d(he,"FORM",{class:!0});var xe=v(e);t=d(xe,"DIV",{class:!0});var _e=v(t);l=d(_e,"DIV",{});var Je=v(l);r=d(Je,"DIV",{class:!0});var ne=v(r);u=U(ne,n),ne.forEach(i),c=S(Je),p=d(Je,"DIV",{class:!0});var ie=v(p);_=d(ie,"DIV",{class:!0});var le=v(_);m=U(le,h),le.forEach(i),g=S(ie),w=d(ie,"DIV",{class:!0});var Le=v(w);b=d(Le,"SELECT",{class:!0,placeholder:!0});var ke=v(b);E=d(ke,"OPTION",{});var Ve=v(E);y=U(Ve,I),Ve.forEach(i),k=d(ke,"OPTION",{});var Me=v(k);L=U(Me,D),Me.forEach(i),T=d(ke,"OPTION",{});var Ue=v(T);M=U(Ue,V),Ue.forEach(i),ke.forEach(i),Le.forEach(i),ie.forEach(i),R=S(Je),z=d(Je,"DIV",{});var we=v(z);O=d(we,"DIV",{class:!0});var Ae=v(O);q=d(Ae,"DIV",{class:!0});var me=v(q);C=U(me,B),me.forEach(i),G=S(Ae),K=d(Ae,"BUTTON",{class:!0,type:!0});var Te=v(K);se.l(Te),Te.forEach(i),Ae.forEach(i),we.forEach(i),Je.forEach(i),F=S(_e),x=d(_e,"HR",{class:!0}),Z=S(_e),ee&&ee.l(_e),N=S(_e),de&&de.l(_e),_e.forEach(i),Y=S(xe),J=d(xe,"DIV",{class:!0});var Ie=v(J);X=d(Ie,"BUTTON",{class:!0,type:!0});var je=v(X);te=U(je,Q),ue=S(je),Ce&&Ce.l(je),je.forEach(i),Ie.forEach(i),xe.forEach(i),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(_,"class","self-center text-xs font-medium"),E.__value="",ge(E,E.__value),k.__value="comfyui",ge(k,k.__value),T.__value="openai",ge(T,T.__value),o(b,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(b,"placeholder",P=s[11].t("Select a mode")),s[1]===void 0&&Gt(()=>s[17].call(b)),o(w,"class","flex items-center relative"),o(p,"class","py-0.5 flex w-full justify-between"),o(q,"class","self-center text-xs font-medium"),o(K,"class","p-1 px-3 text-xs flex rounded transition"),o(K,"type","button"),o(O,"class","py-0.5 flex w-full justify-between"),o(x,"class","dark:border-gray-700"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[24rem]"),o(X,"class",oe="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),o(X,"type","submit"),X.disabled=s[0],o(J,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(he,xe){j(he,e,xe),a(e,t),a(t,l),a(l,r),a(r,u),a(l,c),a(l,p),a(p,_),a(_,m),a(p,g),a(p,w),a(w,b),a(b,E),a(E,y),a(b,k),a(k,L),a(b,T),a(T,M),Et(b,s[1],!0),a(l,R),a(l,z),a(z,O),a(O,q),a(q,C),a(O,G),a(O,K),se.m(K,null),a(t,F),a(t,x),a(t,Z),ee&&ee.m(t,null),a(t,N),de&&de.m(t,null),a(e,Y),a(e,J),a(J,X),a(X,te),a(X,ue),Ce&&Ce.m(X,null),ve||(fe=[$(b,"change",s[17]),$(b,"change",s[18]),$(K,"click",s[19]),$(e,"submit",Nl(s[30]))],ve=!0)},p(he,xe){xe[0]&2048&&n!==(n=he[11].t("Image Settings")+"")&&W(u,n),xe[0]&2048&&h!==(h=he[11].t("Image Generation Engine")+"")&&W(m,h),xe[0]&2048&&I!==(I=he[11].t("Default (Automatic1111)")+"")&&W(y,I),xe[0]&2048&&D!==(D=he[11].t("ComfyUI")+"")&&W(L,D),xe[0]&2048&&V!==(V=he[11].t("Open AI (Dall-E)")+"")&&W(M,V),xe[0]&2048&&P!==(P=he[11].t("Select a mode"))&&o(b,"placeholder",P),xe[0]&2&&Et(b,he[1]),xe[0]&2048&&B!==(B=he[11].t("Image Generation (Experimental)")+"")&&W(C,B),re===(re=ce(he))&&se?se.p(he,xe):(se.d(1),se=re(he),se&&(se.c(),se.m(K,null))),ae===(ae=De(he))&&ee?ee.p(he,xe):(ee&&ee.d(1),ee=ae&&ae(he),ee&&(ee.c(),ee.m(t,N))),he[2]?de?de.p(he,xe):(de=Hr(he),de.c(),de.m(t,null)):de&&(de.d(1),de=null),xe[0]&2048&&Q!==(Q=he[11].t("Save")+"")&&W(te,Q),he[0]?Ce||(Ce=zr(),Ce.c(),Ce.m(X,null)):Ce&&(Ce.d(1),Ce=null),xe[0]&1&&oe!==(oe="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(he[0]?" cursor-not-allowed":""))&&o(X,"class",oe),xe[0]&1&&(X.disabled=he[0])},i:it,o:it,d(he){he&&i(e),se.d(),ee&&ee.d(),de&&de.d(),Ce&&Ce.d(),ve=!1,ut(fe)}}}function qi(s,e,t){let l,r;nt(s,sl,N=>t(31,l=N));const n=Pl(),u=jt("i18n");nt(s,u,N=>t(11,r=N));let{saveSettings:c}=e,p=!1,_="",h=!1,m="",g="",w="",b="",E="",I=null,y="",k=50;const D=async()=>{t(8,I=await Ln(localStorage.token).catch(N=>(Xe.error(N),null))),t(7,E=await Cn(localStorage.token).catch(N=>""))},L=async()=>{if(_==="comfyui"){const N=await As(localStorage.token,{COMFYUI_BASE_URL:g}).catch(Y=>(Xe.error(Y),console.log(Y),null));N?(t(4,g=N.COMFYUI_BASE_URL),await D(),I&&Xe.success(r.t("Server connection verified"))):t(4,{COMFYUI_BASE_URL:g}=await as(localStorage.token),g)}else{const N=await As(localStorage.token,{AUTOMATIC1111_BASE_URL:m}).catch(Y=>(Xe.error(Y),null));N?(t(3,m=N.AUTOMATIC1111_BASE_URL),await D(),I&&Xe.success(r.t("Server connection verified"))):t(3,{AUTOMATIC1111_BASE_URL:m}=await as(localStorage.token),m)}},T=async()=>{const N=await xn(localStorage.token,_,h).catch(Y=>(Xe.error(Y),null));N&&(t(1,_=N.engine),t(2,h=N.enabled)),h&&(Cl.set(await Sa()),D())};Ft(async()=>{if(l.role==="admin"){const N=await Vn(localStorage.token).catch(X=>(Xe.error(X),null));N&&(t(1,_=N.engine),t(2,h=N.enabled));const Y=await as(localStorage.token);t(3,m=Y.AUTOMATIC1111_BASE_URL),t(4,g=Y.COMFYUI_BASE_URL);const J=await Mn(localStorage.token);t(6,b=J.OPENAI_API_KEY),t(5,w=J.OPENAI_API_BASE_URL),t(9,y=await An(localStorage.token)),t(10,k=await Sn(localStorage.token)),h&&D()}});function V(){_=Yt(this),t(1,_)}const M=async()=>{await T()},P=()=>{_===""&&m===""?(Xe.error(r.t("AUTOMATIC1111 Base URL is required.")),t(2,h=!1)):_==="comfyui"&&g===""?(Xe.error(r.t("ComfyUI Base URL is required.")),t(2,h=!1)):_==="openai"&&b===""?(Xe.error(r.t("OpenAI API Key is required.")),t(2,h=!1)):t(2,h=!h),T()};function R(){m=this.value,t(3,m)}const z=()=>{L()};function O(){g=this.value,t(4,g)}const q=()=>{L()};function B(){w=this.value,t(5,w)}function C(){b=this.value,t(6,b)}function G(){E=this.value,t(7,E),t(8,I)}function K(){E=Yt(this),t(7,E),t(8,I)}function F(){y=this.value,t(9,y)}function x(){k=this.value,t(10,k)}const Z=async()=>{t(0,p=!0),_==="openai"&&await On(localStorage.token,w,b),await Nn(localStorage.token,E),await Pn(localStorage.token,y).catch(N=>(Xe.error(N),null)),await Bn(localStorage.token,k).catch(N=>(Xe.error(N),null)),n("save"),t(0,p=!1)};return s.$$set=N=>{"saveSettings"in N&&t(16,c=N.saveSettings)},[p,_,h,m,g,w,b,E,I,y,k,r,n,u,L,T,c,V,M,P,R,z,O,q,B,C,G,K,F,x,Z]}class Gi extends St{constructor(e){super(),Lt(this,e,qi,Wi,At,{saveSettings:16},null,[-1,-1])}}function Fi(s){let e,t;return{c(){e=H("v"),t=H(Ol)},l(l){e=U(l,"v"),t=U(l,Ol)},m(l,r){j(l,e,r),j(l,t,r)},p:it,d(l){l&&(i(e),i(t))}}}function Ki(s){let e,t,l,r,n,u,c,p=s[3].t("Version")+"",_,h,m,g,w,b,E,I,y=(s[0]===null?s[3].t("Checking for updates..."):s[0]?`(v${s[1].latest} ${s[3].t("available!")})`:s[3].t("(latest)"))+"",k,D,L,T,V,M=s[3].t("See what's new")+"",P,R,z,O,q,B='<a href="https://edu.toolai.io" target="_blank" style="width:240px;height:60px"><img alt="AI" src="https://www.toolai.io/image/logo.png"/></a>',C,G,K=`
			<a class="text-gray-500 dark:text-gray-300 font-medium" href="https://edu.toolai.io" target="_blank">AI</a>`,F,x,Z;return b=new rl({props:{content:"",$$slots:{default:[Fi]},$$scope:{ctx:s}}}),{c(){e=f("div"),t=f("div"),l=f("div"),r=f("div"),n=f("div"),u=H(s[2]),c=A(),_=H(p),h=A(),m=f("div"),g=f("div"),w=f("div"),lt(b.$$.fragment),E=A(),I=f("a"),k=H(y),L=A(),T=f("button"),V=f("div"),P=H(M),R=A(),z=f("hr"),O=A(),q=f("div"),q.innerHTML=B,C=A(),G=f("div"),G.innerHTML=K,this.h()},l(N){e=d(N,"DIV",{class:!0});var Y=v(e);t=d(Y,"DIV",{class:!0});var J=v(t);l=d(J,"DIV",{});var X=v(l);r=d(X,"DIV",{class:!0});var Q=v(r);n=d(Q,"DIV",{});var te=v(n);u=U(te,s[2]),c=S(te),_=U(te,p),te.forEach(i),Q.forEach(i),h=S(X),m=d(X,"DIV",{class:!0});var ue=v(m);g=d(ue,"DIV",{class:!0});var oe=v(g);w=d(oe,"DIV",{class:!0});var ve=v(w);st(b.$$.fragment,ve),E=S(ve),I=d(ve,"A",{href:!0,target:!0});var fe=v(I);k=U(fe,y),fe.forEach(i),ve.forEach(i),L=S(oe),T=d(oe,"BUTTON",{class:!0});var ce=v(T);V=d(ce,"DIV",{});var re=v(V);P=U(re,M),re.forEach(i),ce.forEach(i),oe.forEach(i),ue.forEach(i),X.forEach(i),R=S(J),z=d(J,"HR",{class:!0}),O=S(J),q=d(J,"DIV",{class:!0,"data-svelte-h":!0}),Be(q)!=="svelte-193f2jr"&&(q.innerHTML=B),C=S(J),G=d(J,"DIV",{class:!0,"data-svelte-h":!0}),Be(G)!=="svelte-1m475gf"&&(G.innerHTML=K),J.forEach(i),Y.forEach(i),this.h()},h(){o(r,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),o(I,"href",D="https://github.com/open-webui/open-webui/releases/tag/v"+s[1].latest),o(I,"target","_blank"),o(w,"class","flex gap-1"),o(T,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),o(g,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),o(m,"class","flex w-full justify-between items-center"),o(z,"class","dark:border-gray-700"),o(q,"class","flex space-x-1"),o(G,"class","mt-2 text-sm font-medium dark:text-gray-500"),o(t,"class","space-y-3"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(N,Y){j(N,e,Y),a(e,t),a(t,l),a(l,r),a(r,n),a(n,u),a(n,c),a(n,_),a(l,h),a(l,m),a(m,g),a(g,w),rt(b,w,null),a(w,E),a(w,I),a(I,k),a(g,L),a(g,T),a(T,V),a(V,P),a(t,R),a(t,z),a(t,O),a(t,q),a(t,C),a(t,G),F=!0,x||(Z=$(T,"click",s[5]),x=!0)},p(N,[Y]){(!F||Y&4)&&W(u,N[2]),(!F||Y&8)&&p!==(p=N[3].t("Version")+"")&&W(_,p);const J={};Y&256&&(J.$$scope={dirty:Y,ctx:N}),b.$set(J),(!F||Y&11)&&y!==(y=(N[0]===null?N[3].t("Checking for updates..."):N[0]?`(v${N[1].latest} ${N[3].t("available!")})`:N[3].t("(latest)"))+"")&&W(k,y),(!F||Y&2&&D!==(D="https://github.com/open-webui/open-webui/releases/tag/v"+N[1].latest))&&o(I,"href",D),(!F||Y&8)&&M!==(M=N[3].t("See what's new")+"")&&W(P,M)},i(N){F||(ye(b.$$.fragment,N),F=!0)},o(N){Ne(b.$$.fragment,N),F=!1},d(N){N&&i(e),at(b),x=!1,Z()}}}function Yi(s,e,t){let l,r;nt(s,Ma,h=>t(2,l=h));const n=jt("i18n");nt(s,n,h=>t(3,r=h));let u=null,c={current:"",latest:""};const p=async()=>{t(0,u=null),t(1,c=await bn().catch(h=>({current:Ol,latest:Ol}))),console.log(c),t(0,u=Ga(c.latest,c.current)),console.log(u)};return Ft(async()=>{await _s(localStorage.token).catch(h=>""),p()}),[u,c,l,r,n,()=>{Ql.set(!0)}]}class Ji extends St{constructor(e){super(),Lt(this,e,Yi,Ki,At,{})}}function Zr(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',r,n,u=s[2].t("Connections")+"",c,p,_,h,m,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',w,b,E=s[2].t("Models")+"",I,y,k,D;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,r=A(),n=f("div"),c=H(u),_=A(),h=f("button"),m=f("div"),m.innerHTML=g,w=A(),b=f("div"),I=H(E),this.h()},l(L){e=d(L,"BUTTON",{class:!0});var T=v(e);t=d(T,"DIV",{class:!0,"data-svelte-h":!0}),Be(t)!=="svelte-1uuylbv"&&(t.innerHTML=l),r=S(T),n=d(T,"DIV",{class:!0});var V=v(n);c=U(V,u),V.forEach(i),T.forEach(i),_=S(L),h=d(L,"BUTTON",{class:!0});var M=v(h);m=d(M,"DIV",{class:!0,"data-svelte-h":!0}),Be(m)!=="svelte-1s8wpdu"&&(m.innerHTML=g),w=S(M),b=d(M,"DIV",{class:!0});var P=v(b);I=U(P,E),P.forEach(i),M.forEach(i),this.h()},h(){o(t,"class","self-center mr-2"),o(n,"class","self-center"),o(e,"class",p="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="connections"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(m,"class","self-center mr-2"),o(b,"class","self-center"),o(h,"class",y="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(L,T){j(L,e,T),a(e,t),a(e,r),a(e,n),a(n,c),j(L,_,T),j(L,h,T),a(h,m),a(h,w),a(h,b),a(b,I),k||(D=[$(e,"click",s[9]),$(h,"click",s[10])],k=!0)},p(L,T){T&4&&u!==(u=L[2].t("Connections")+"")&&W(c,u),T&2&&p!==(p="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(L[1]==="connections"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",p),T&4&&E!==(E=L[2].t("Models")+"")&&W(I,E),T&2&&y!==(y="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(L[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(h,"class",y)},d(L){L&&(i(e),i(_),i(h)),k=!1,ut(D)}}}function Wr(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',r,n,u=s[2].t("Images")+"",c,p,_,h;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,r=A(),n=f("div"),c=H(u),this.h()},l(m){e=d(m,"BUTTON",{class:!0});var g=v(e);t=d(g,"DIV",{class:!0,"data-svelte-h":!0}),Be(t)!=="svelte-11xeywu"&&(t.innerHTML=l),r=S(g),n=d(g,"DIV",{class:!0});var w=v(n);c=U(w,u),w.forEach(i),g.forEach(i),this.h()},h(){o(t,"class","self-center mr-2"),o(n,"class","self-center"),o(e,"class",p="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="images"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(m,g){j(m,e,g),a(e,t),a(e,r),a(e,n),a(n,c),_||(h=$(e,"click",s[13]),_=!0)},p(m,g){g&4&&u!==(u=m[2].t("Images")+"")&&W(c,u),g&2&&p!==(p="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(m[1]==="images"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",p)},d(m){m&&i(e),_=!1,h()}}}function Xi(s){let e,t;return e=new Ji({}),{c(){lt(e.$$.fragment)},l(l){st(e.$$.fragment,l)},m(l,r){rt(e,l,r),t=!0},p:it,i(l){t||(ye(e.$$.fragment,l),t=!0)},o(l){Ne(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function Qi(s){let e,t;return e=new go({props:{saveHandler:s[22]}}),{c(){lt(e.$$.fragment)},l(l){st(e.$$.fragment,l)},m(l,r){rt(e,l,r),t=!0},p(l,r){const n={};r&4&&(n.saveHandler=l[22]),e.$set(n)},i(l){t||(ye(e.$$.fragment,l),t=!0)},o(l){Ne(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function $i(s){let e,t;return e=new Ai({props:{saveSettings:s[5]}}),{c(){lt(e.$$.fragment)},l(l){st(e.$$.fragment,l)},m(l,r){rt(e,l,r),t=!0},p:it,i(l){t||(ye(e.$$.fragment,l),t=!0)},o(l){Ne(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function eu(s){let e,t;return e=new Gi({props:{saveSettings:s[5]}}),e.$on("save",s[21]),{c(){lt(e.$$.fragment)},l(l){st(e.$$.fragment,l)},m(l,r){rt(e,l,r),t=!0},p:it,i(l){t||(ye(e.$$.fragment,l),t=!0)},o(l){Ne(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function tu(s){let e,t;return e=new yi({props:{saveSettings:s[5]}}),e.$on("save",s[20]),{c(){lt(e.$$.fragment)},l(l){st(e.$$.fragment,l)},m(l,r){rt(e,l,r),t=!0},p:it,i(l){t||(ye(e.$$.fragment,l),t=!0)},o(l){Ne(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function lu(s){let e,t;return e=new fi({props:{saveSettings:s[5]}}),e.$on("save",s[19]),{c(){lt(e.$$.fragment)},l(l){st(e.$$.fragment,l)},m(l,r){rt(e,l,r),t=!0},p:it,i(l){t||(ye(e.$$.fragment,l),t=!0)},o(l){Ne(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function su(s){let e,t;return e=new Pi({props:{getModels:s[6]}}),e.$on("save",s[18]),{c(){lt(e.$$.fragment)},l(l){st(e.$$.fragment,l)},m(l,r){rt(e,l,r),t=!0},p:it,i(l){t||(ye(e.$$.fragment,l),t=!0)},o(l){Ne(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function ru(s){let e,t;return e=new Zo({props:{getModels:s[6]}}),{c(){lt(e.$$.fragment)},l(l){st(e.$$.fragment,l)},m(l,r){rt(e,l,r),t=!0},p:it,i(l){t||(ye(e.$$.fragment,l),t=!0)},o(l){Ne(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function au(s){let e,t;return e=new Qo({props:{getModels:s[6],saveSettings:s[5]}}),e.$on("save",s[17]),{c(){lt(e.$$.fragment)},l(l){st(e.$$.fragment,l)},m(l,r){rt(e,l,r),t=!0},p:it,i(l){t||(ye(e.$$.fragment,l),t=!0)},o(l){Ne(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function nu(s){var Ke;let e,t,l,r=s[2].t("Settings")+"",n,u,c,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,h,m,g,w,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',E,I,y=s[2].t("General")+"",k,D,L,T,V,M,P='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',R,z,O=s[2].t("Interface")+"",q,B,C,G,K,F='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',x,Z,N=s[2].t("Audio")+"",Y,J,X,Q,te,ue,oe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',ve,fe,ce=s[2].t("Chats")+"",re,se,De,ae,ee,de='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',Ce,he,xe=s[2].t("Account")+"",_e,Je,ne,ie,le,Le='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',ke,Ve,Me=s[2].t("About")+"",Ue,we,Ae,me,Te,Ie,je,be,Re,Ge=((Ke=s[3])==null?void 0:Ke.role)==="admin"&&Zr(s),We=s[3].role==="admin"&&Wr(s);const et=[au,ru,su,lu,tu,eu,$i,Qi,Xi],Fe=[];function qe(Oe,Ee){return Oe[1]==="general"?0:Oe[1]==="models"?1:Oe[1]==="connections"?2:Oe[1]==="interface"?3:Oe[1]==="audio"?4:Oe[1]==="images"?5:Oe[1]==="chats"?6:Oe[1]==="account"?7:Oe[1]==="aboutUs"?8:-1}return~(Te=qe(s))&&(Ie=Fe[Te]=et[Te](s)),{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("button"),c.innerHTML=p,_=A(),h=f("div"),m=f("div"),g=f("button"),w=f("div"),w.innerHTML=b,E=A(),I=f("div"),k=H(y),L=A(),Ge&&Ge.c(),T=A(),V=f("button"),M=f("div"),M.innerHTML=P,R=A(),z=f("div"),q=H(O),C=A(),G=f("button"),K=f("div"),K.innerHTML=F,x=A(),Z=f("div"),Y=H(N),X=A(),We&&We.c(),Q=A(),te=f("button"),ue=f("div"),ue.innerHTML=oe,ve=A(),fe=f("div"),re=H(ce),De=A(),ae=f("button"),ee=f("div"),ee.innerHTML=de,Ce=A(),he=f("div"),_e=H(xe),ne=A(),ie=f("button"),le=f("div"),le.innerHTML=Le,ke=A(),Ve=f("div"),Ue=H(Me),Ae=A(),me=f("div"),Ie&&Ie.c(),this.h()},l(Oe){e=d(Oe,"DIV",{class:!0});var Ee=v(e);t=d(Ee,"DIV",{class:!0});var tt=v(t);l=d(tt,"DIV",{class:!0});var Pe=v(l);n=U(Pe,r),Pe.forEach(i),u=S(tt),c=d(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(c)!=="svelte-745w2y"&&(c.innerHTML=p),tt.forEach(i),_=S(Ee),h=d(Ee,"DIV",{class:!0});var ze=v(h);m=d(ze,"DIV",{class:!0});var pe=v(m);g=d(pe,"BUTTON",{class:!0});var Ze=v(g);w=d(Ze,"DIV",{class:!0,"data-svelte-h":!0}),Be(w)!=="svelte-qy1dha"&&(w.innerHTML=b),E=S(Ze),I=d(Ze,"DIV",{class:!0});var ft=v(I);k=U(ft,y),ft.forEach(i),Ze.forEach(i),L=S(pe),Ge&&Ge.l(pe),T=S(pe),V=d(pe,"BUTTON",{class:!0});var ct=v(V);M=d(ct,"DIV",{class:!0,"data-svelte-h":!0}),Be(M)!=="svelte-16cea28"&&(M.innerHTML=P),R=S(ct),z=d(ct,"DIV",{class:!0});var xt=v(z);q=U(xt,O),xt.forEach(i),ct.forEach(i),C=S(pe),G=d(pe,"BUTTON",{class:!0});var Ot=v(G);K=d(Ot,"DIV",{class:!0,"data-svelte-h":!0}),Be(K)!=="svelte-36jwmy"&&(K.innerHTML=F),x=S(Ot),Z=d(Ot,"DIV",{class:!0});var kt=v(Z);Y=U(kt,N),kt.forEach(i),Ot.forEach(i),X=S(pe),We&&We.l(pe),Q=S(pe),te=d(pe,"BUTTON",{class:!0});var _t=v(te);ue=d(_t,"DIV",{class:!0,"data-svelte-h":!0}),Be(ue)!=="svelte-1gtbwe5"&&(ue.innerHTML=oe),ve=S(_t),fe=d(_t,"DIV",{class:!0});var Bt=v(fe);re=U(Bt,ce),Bt.forEach(i),_t.forEach(i),De=S(pe),ae=d(pe,"BUTTON",{class:!0});var wt=v(ae);ee=d(wt,"DIV",{class:!0,"data-svelte-h":!0}),Be(ee)!=="svelte-amityv"&&(ee.innerHTML=de),Ce=S(wt),he=d(wt,"DIV",{class:!0});var vt=v(he);_e=U(vt,xe),vt.forEach(i),wt.forEach(i),ne=S(pe),ie=d(pe,"BUTTON",{class:!0});var Dt=v(ie);le=d(Dt,"DIV",{class:!0,"data-svelte-h":!0}),Be(le)!=="svelte-15t8s7e"&&(le.innerHTML=Le),ke=S(Dt),Ve=d(Dt,"DIV",{class:!0});var Nt=v(Ve);Ue=U(Nt,Me),Nt.forEach(i),Dt.forEach(i),pe.forEach(i),Ae=S(ze),me=d(ze,"DIV",{class:!0});var yt=v(me);Ie&&Ie.l(yt),yt.forEach(i),ze.forEach(i),Ee.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(w,"class","self-center mr-2"),o(I,"class","self-center"),o(g,"class",D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(M,"class","self-center mr-2"),o(z,"class","self-center"),o(V,"class",B="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(K,"class","self-center mr-2"),o(Z,"class","self-center"),o(G,"class",J="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ue,"class","self-center mr-2"),o(fe,"class","self-center"),o(te,"class",se="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ee,"class","self-center mr-2"),o(he,"class","self-center"),o(ae,"class",Je="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(le,"class","self-center mr-2"),o(Ve,"class","self-center"),o(ie,"class",we="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="aboutUs"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(m,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),o(me,"class","flex-1 md:min-h-[25rem]"),o(h,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4"),o(e,"class","text-gray-700 dark:text-gray-100")},m(Oe,Ee){j(Oe,e,Ee),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(e,_),a(e,h),a(h,m),a(m,g),a(g,w),a(g,E),a(g,I),a(I,k),a(m,L),Ge&&Ge.m(m,null),a(m,T),a(m,V),a(V,M),a(V,R),a(V,z),a(z,q),a(m,C),a(m,G),a(G,K),a(G,x),a(G,Z),a(Z,Y),a(m,X),We&&We.m(m,null),a(m,Q),a(m,te),a(te,ue),a(te,ve),a(te,fe),a(fe,re),a(m,De),a(m,ae),a(ae,ee),a(ae,Ce),a(ae,he),a(he,_e),a(m,ne),a(m,ie),a(ie,le),a(ie,ke),a(ie,Ve),a(Ve,Ue),a(h,Ae),a(h,me),~Te&&Fe[Te].m(me,null),je=!0,be||(Re=[$(c,"click",s[7]),$(g,"click",s[8]),$(V,"click",s[11]),$(G,"click",s[12]),$(te,"click",s[14]),$(ae,"click",s[15]),$(ie,"click",s[16])],be=!0)},p(Oe,Ee){var Pe;(!je||Ee&4)&&r!==(r=Oe[2].t("Settings")+"")&&W(n,r),(!je||Ee&4)&&y!==(y=Oe[2].t("General")+"")&&W(k,y),(!je||Ee&2&&D!==(D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Oe[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(g,"class",D),((Pe=Oe[3])==null?void 0:Pe.role)==="admin"?Ge?Ge.p(Oe,Ee):(Ge=Zr(Oe),Ge.c(),Ge.m(m,T)):Ge&&(Ge.d(1),Ge=null),(!je||Ee&4)&&O!==(O=Oe[2].t("Interface")+"")&&W(q,O),(!je||Ee&2&&B!==(B="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Oe[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(V,"class",B),(!je||Ee&4)&&N!==(N=Oe[2].t("Audio")+"")&&W(Y,N),(!je||Ee&2&&J!==(J="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Oe[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(G,"class",J),Oe[3].role==="admin"?We?We.p(Oe,Ee):(We=Wr(Oe),We.c(),We.m(m,Q)):We&&(We.d(1),We=null),(!je||Ee&4)&&ce!==(ce=Oe[2].t("Chats")+"")&&W(re,ce),(!je||Ee&2&&se!==(se="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Oe[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(te,"class",se),(!je||Ee&4)&&xe!==(xe=Oe[2].t("Account")+"")&&W(_e,xe),(!je||Ee&2&&Je!==(Je="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Oe[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(ae,"class",Je),(!je||Ee&4)&&Me!==(Me=Oe[2].t("About")+"")&&W(Ue,Me),(!je||Ee&2&&we!==(we="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Oe[1]==="aboutUs"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(ie,"class",we);let tt=Te;Te=qe(Oe),Te===tt?~Te&&Fe[Te].p(Oe,Ee):(Ie&&(zt(),Ne(Fe[tt],1,1,()=>{Fe[tt]=null}),Zt()),~Te?(Ie=Fe[Te],Ie?Ie.p(Oe,Ee):(Ie=Fe[Te]=et[Te](Oe),Ie.c()),ye(Ie,1),Ie.m(me,null)):Ie=null)},i(Oe){je||(ye(Ie),je=!0)},o(Oe){Ne(Ie),je=!1},d(Oe){Oe&&i(e),Ge&&Ge.d(),We&&We.d(),~Te&&Fe[Te].d(),be=!1,ut(Re)}}}function ou(s){let e,t,l;function r(u){s[23](u)}let n={$$slots:{default:[nu]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new ts({props:n}),Rt.push(()=>el(e,"show",r)),{c(){lt(e.$$.fragment)},l(u){st(e.$$.fragment,u)},m(u,c){rt(e,u,c),l=!0},p(u,[c]){const p={};c&33554447&&(p.$$scope={dirty:c,ctx:u}),!t&&c&1&&(t=!0,p.show=u[0],$t(()=>t=!1)),e.$set(p)},i(u){l||(ye(e.$$.fragment,u),l=!0)},o(u){Ne(e.$$.fragment,u),l=!1},d(u){at(e,u)}}}function iu(s,e,t){let l,r,n;nt(s,xl,q=>t(24,l=q)),nt(s,sl,q=>t(3,n=q));const u=jt("i18n");nt(s,u,q=>t(2,r=q));let{show:c=!1}=e;const p=async q=>{console.log(q),await xl.set({...l,...q}),await Kt.set(await _()),localStorage.setItem("settings",JSON.stringify(l))},_=async()=>await Ia(localStorage.token);let h="general";const m=()=>{t(0,c=!1)},g=()=>{t(1,h="general")},w=()=>{t(1,h="connections")},b=()=>{t(1,h="models")},E=()=>{t(1,h="interface")},I=()=>{t(1,h="audio")},y=()=>{t(1,h="images")},k=()=>{t(1,h="chats")},D=()=>{t(1,h="account")},L=()=>{t(1,h="aboutUs")},T=()=>{Xe.success(r.t("Settings saved successfully!"))},V=()=>{Xe.success(r.t("Settings saved successfully!"))},M=()=>{Xe.success(r.t("Settings saved successfully!"))},P=()=>{Xe.success(r.t("Settings saved successfully!"))},R=()=>{Xe.success(r.t("Settings saved successfully!"))},z=()=>{Xe.success(r.t("Settings saved successfully!"))};function O(q){c=q,t(0,c)}return s.$$set=q=>{"show"in q&&t(0,c=q.show)},[c,h,r,n,u,p,_,m,g,w,b,E,I,y,k,D,L,T,V,M,P,R,z,O]}class uu extends St{constructor(e){super(),Lt(this,e,iu,ou,At,{show:0})}}function cu(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=v(e);t=$e(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,r){j(l,e,r),a(e,t)},p(l,[r]){r&2&&o(e,"stroke-width",l[1]),r&1&&o(e,"class",l[0])},i:it,o:it,d(l){l&&i(e)}}}function fu(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class du extends St{constructor(e){super(),Lt(this,e,fu,cu,At,{className:0,strokeWidth:1})}}function hu(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=v(e);t=$e(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,r){j(l,e,r),a(e,t)},p(l,[r]){r&2&&o(e,"stroke-width",l[1]),r&1&&o(e,"class",l[0])},i:it,o:it,d(l){l&&i(e)}}}function vu(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class pu extends St{constructor(e){super(),Lt(this,e,vu,hu,At,{className:0,strokeWidth:1})}}function _u(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=$e(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M15.75 4.5a3 3 0 1 1 .825 2.066l-8.421 4.679a3.002 3.002 0 0 1 0 1.51l8.421 4.679a3 3 0 1 1-.729 1.31l-8.421-4.678a3 3 0 1 1 0-4.132l8.421-4.679a3 3 0 0 1-.096-.755Z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",s[0])},m(l,r){j(l,e,r),a(e,t)},p(l,[r]){r&1&&o(e,"class",l[0])},i:it,o:it,d(l){l&&i(e)}}}function gu(s,e,t){let{className:l="w-4 h-4"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className)},[l]}class mu extends St{constructor(e){super(),Lt(this,e,gu,_u,At,{className:0})}}function bu(s){let e;const t=s[8].default,l=ba(t,s,s[15],null);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,n){l&&l.m(r,n),e=!0},p(r,n){l&&l.p&&(!e||n&32768)&&wa(l,t,r,r[15],e?ya(t,r[15],n,null):ka(r[15]),null)},i(r){e||(ye(l,r),e=!0)},o(r){Ne(l,r),e=!1},d(r){l&&l.d(r)}}}function wu(s){let e,t;return e=new rl({props:{content:s[6].t("More"),$$slots:{default:[bu]},$$scope:{ctx:s}}}),{c(){lt(e.$$.fragment)},l(l){st(e.$$.fragment,l)},m(l,r){rt(e,l,r),t=!0},p(l,r){const n={};r&64&&(n.content=l[6].t("More")),r&32768&&(n.$$scope={dirty:r,ctx:l}),e.$set(n)},i(l){t||(ye(e.$$.fragment,l),t=!0)},o(l){Ne(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function ku(s){let e,t,l,r=s[6].t("Share")+"",n,u;return e=new mu({}),{c(){lt(e.$$.fragment),t=A(),l=f("div"),n=H(r),this.h()},l(c){st(e.$$.fragment,c),t=S(c),l=d(c,"DIV",{class:!0});var p=v(l);n=U(p,r),p.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(c,p){rt(e,c,p),j(c,t,p),j(c,l,p),a(l,n),u=!0},p(c,p){(!u||p&64)&&r!==(r=c[6].t("Share")+"")&&W(n,r)},i(c){u||(ye(e.$$.fragment,c),u=!0)},o(c){Ne(e.$$.fragment,c),u=!1},d(c){c&&(i(t),i(l)),at(e,c)}}}function yu(s){let e,t,l,r=s[6].t("Rename")+"",n,u;return e=new pu({props:{strokeWidth:"2"}}),{c(){lt(e.$$.fragment),t=A(),l=f("div"),n=H(r),this.h()},l(c){st(e.$$.fragment,c),t=S(c),l=d(c,"DIV",{class:!0});var p=v(l);n=U(p,r),p.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(c,p){rt(e,c,p),j(c,t,p),j(c,l,p),a(l,n),u=!0},p(c,p){(!u||p&64)&&r!==(r=c[6].t("Rename")+"")&&W(n,r)},i(c){u||(ye(e.$$.fragment,c),u=!0)},o(c){Ne(e.$$.fragment,c),u=!1},d(c){c&&(i(t),i(l)),at(e,c)}}}function Eu(s){let e,t,l,r=s[6].t("Delete")+"",n,u;return e=new du({props:{strokeWidth:"2"}}),{c(){lt(e.$$.fragment),t=A(),l=f("div"),n=H(r),this.h()},l(c){st(e.$$.fragment,c),t=S(c),l=d(c,"DIV",{class:!0});var p=v(l);n=U(p,r),p.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(c,p){rt(e,c,p),j(c,t,p),j(c,l,p),a(l,n),u=!0},p(c,p){(!u||p&64)&&r!==(r=c[6].t("Delete")+"")&&W(n,r)},i(c){u||(ye(e.$$.fragment,c),u=!0)},o(c){Ne(e.$$.fragment,c),u=!1},d(c){c&&(i(t),i(l)),at(e,c)}}}function Iu(s){let e,t,l,r,n,u,c,p,_,h,m;return e=new rs({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer dark:hover:bg-gray-850 rounded-md",$$slots:{default:[ku]},$$scope:{ctx:s}}}),e.$on("click",s[9]),l=new rs({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer dark:hover:bg-gray-850 rounded-md",$$slots:{default:[yu]},$$scope:{ctx:s}}}),l.$on("click",s[10]),n=new rs({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer dark:hover:bg-gray-850 rounded-md",$$slots:{default:[Eu]},$$scope:{ctx:s}}}),n.$on("click",s[11]),h=new En({props:{chatId:s[4]}}),h.$on("close",s[12]),{c(){lt(e.$$.fragment),t=A(),lt(l.$$.fragment),r=A(),lt(n.$$.fragment),u=A(),c=f("hr"),p=A(),_=f("div"),lt(h.$$.fragment),this.h()},l(g){st(e.$$.fragment,g),t=S(g),st(l.$$.fragment,g),r=S(g),st(n.$$.fragment,g),u=S(g),c=d(g,"HR",{class:!0}),p=S(g),_=d(g,"DIV",{class:!0});var w=v(_);st(h.$$.fragment,w),w.forEach(i),this.h()},h(){o(c,"class","border-gray-100 dark:border-gray-800 mt-2.5 mb-1.5"),o(_,"class","flex p-1")},m(g,w){rt(e,g,w),j(g,t,w),rt(l,g,w),j(g,r,w),rt(n,g,w),j(g,u,w),j(g,c,w),j(g,p,w),j(g,_,w),rt(h,_,null),m=!0},p(g,w){const b={};w&32832&&(b.$$scope={dirty:w,ctx:g}),e.$set(b);const E={};w&32832&&(E.$$scope={dirty:w,ctx:g}),l.$set(E);const I={};w&32832&&(I.$$scope={dirty:w,ctx:g}),n.$set(I);const y={};w&16&&(y.chatId=g[4]),h.$set(y)},i(g){m||(ye(e.$$.fragment,g),ye(l.$$.fragment,g),ye(n.$$.fragment,g),ye(h.$$.fragment,g),m=!0)},o(g){Ne(e.$$.fragment,g),Ne(l.$$.fragment,g),Ne(n.$$.fragment,g),Ne(h.$$.fragment,g),m=!1},d(g){g&&(i(t),i(r),i(u),i(c),i(p),i(_)),at(e,g),at(l,g),at(n,g),at(h)}}}function Du(s){let e,t,l;return t=new Hn({props:{class:"w-full max-w-[180px] rounded-lg px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-900 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:Un,$$slots:{default:[Iu]},$$scope:{ctx:s}}}),{c(){e=f("div"),lt(t.$$.fragment),this.h()},l(r){e=d(r,"DIV",{slot:!0});var n=v(e);st(t.$$.fragment,n),n.forEach(i),this.h()},h(){o(e,"slot","content")},m(r,n){j(r,e,n),rt(t,e,null),l=!0},p(r,n){const u={};n&32895&&(u.$$scope={dirty:n,ctx:r}),t.$set(u)},i(r){l||(ye(t.$$.fragment,r),l=!0)},o(r){Ne(t.$$.fragment,r),l=!1},d(r){r&&i(e),at(t)}}}function Tu(s){let e,t,l;function r(u){s[13](u)}let n={$$slots:{content:[Du],default:[wu]},$$scope:{ctx:s}};return s[5]!==void 0&&(n.show=s[5]),e=new yn({props:n}),Rt.push(()=>el(e,"show",r)),e.$on("change",s[14]),{c(){lt(e.$$.fragment)},l(u){st(e.$$.fragment,u)},m(u,c){rt(e,u,c),l=!0},p(u,[c]){const p={};c&32895&&(p.$$scope={dirty:c,ctx:u}),!t&&c&32&&(t=!0,p.show=u[5],$t(()=>t=!1)),e.$set(p)},i(u){l||(ye(e.$$.fragment,u),l=!0)},o(u){Ne(e.$$.fragment,u),l=!1},d(u){at(e,u)}}}function Vu(s,e,t){let l,{$$slots:r={},$$scope:n}=e;const u=jt("i18n");nt(s,u,D=>t(6,l=D));let{shareHandler:c}=e,{renameHandler:p}=e,{deleteHandler:_}=e,{onClose:h}=e,{chatId:m=""}=e,g=!1;const w=()=>{c()},b=()=>{p()},E=()=>{_()},I=()=>{t(5,g=!1),h()};function y(D){g=D,t(5,g)}const k=D=>{D.detail===!1&&h()};return s.$$set=D=>{"shareHandler"in D&&t(0,c=D.shareHandler),"renameHandler"in D&&t(1,p=D.renameHandler),"deleteHandler"in D&&t(2,_=D.deleteHandler),"onClose"in D&&t(3,h=D.onClose),"chatId"in D&&t(4,m=D.chatId),"$$scope"in D&&t(15,n=D.$$scope)},[c,p,_,h,m,g,l,u,r,w,b,E,I,y,k,n]}class Mu extends St{constructor(e){super(),Lt(this,e,Vu,Tu,At,{shareHandler:0,renameHandler:1,deleteHandler:2,onClose:3,chatId:4})}}function Au(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=v(e);t=$e(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,r){j(l,e,r),a(e,t)},p(l,[r]){r&2&&o(e,"stroke-width",l[1]),r&1&&o(e,"class",l[0])},i:it,o:it,d(l){l&&i(e)}}}function Su(s,e,t){let{className:l="size-3.5"}=e,{strokeWidth:r="2.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class Na extends St{constructor(e){super(),Lt(this,e,Su,Au,At,{className:0,strokeWidth:1})}}function qr(s,e,t){const l=s.slice();return l[11]=e[t],l[13]=t,l}function Lu(s){let e,t=s[2].t("You have no archived conversations.")+"",l;return{c(){e=f("div"),l=H(t),this.h()},l(r){e=d(r,"DIV",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","text-left text-sm w-full mb-8")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n&4&&t!==(t=r[2].t("You have no archived conversations.")+"")&&W(l,t)},i:it,o:it,d(r){r&&i(e)}}}function Cu(s){let e,t,l,r,n,u,c=s[2].t("Name")+"",p,_,h,m=s[2].t("Created At")+"",g,w,b,E,I,y,k=ot(s[1]),D=[];for(let T=0;T<k.length;T+=1)D[T]=Gr(qr(s,k,T));const L=T=>Ne(D[T],1,1,()=>{D[T]=null});return{c(){e=f("div"),t=f("div"),l=f("table"),r=f("thead"),n=f("tr"),u=f("th"),p=H(c),_=A(),h=f("th"),g=H(m),w=A(),b=f("th"),E=A(),I=f("tbody");for(let T=0;T<D.length;T+=1)D[T].c();this.h()},l(T){e=d(T,"DIV",{class:!0});var V=v(e);t=d(V,"DIV",{class:!0});var M=v(t);l=d(M,"TABLE",{class:!0});var P=v(l);r=d(P,"THEAD",{class:!0});var R=v(r);n=d(R,"TR",{});var z=v(n);u=d(z,"TH",{scope:!0,class:!0});var O=v(u);p=U(O,c),O.forEach(i),_=S(z),h=d(z,"TH",{scope:!0,class:!0});var q=v(h);g=U(q,m),q.forEach(i),w=S(z),b=d(z,"TH",{scope:!0,class:!0}),v(b).forEach(i),z.forEach(i),R.forEach(i),E=S(P),I=d(P,"TBODY",{});var B=v(I);for(let C=0;C<D.length;C+=1)D[C].l(B);B.forEach(i),P.forEach(i),M.forEach(i),V.forEach(i),this.h()},h(){o(u,"scope","col"),o(u,"class","px-3 py-2"),o(h,"scope","col"),o(h,"class","px-3 py-2 hidden md:flex"),o(b,"scope","col"),o(b,"class","px-3 py-2 text-right"),o(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),o(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),o(t,"class","relative overflow-x-auto"),o(e,"class","text-left text-sm w-full mb-4 max-h-[22rem] overflow-y-scroll")},m(T,V){j(T,e,V),a(e,t),a(t,l),a(l,r),a(r,n),a(n,u),a(u,p),a(n,_),a(n,h),a(h,g),a(n,w),a(n,b),a(l,E),a(l,I);for(let M=0;M<D.length;M+=1)D[M]&&D[M].m(I,null);y=!0},p(T,V){if((!y||V&4)&&c!==(c=T[2].t("Name")+"")&&W(p,c),(!y||V&4)&&m!==(m=T[2].t("Created At")+"")&&W(g,m),V&54){k=ot(T[1]);let M;for(M=0;M<k.length;M+=1){const P=qr(T,k,M);D[M]?(D[M].p(P,V),ye(D[M],1)):(D[M]=Gr(P),D[M].c(),ye(D[M],1),D[M].m(I,null))}for(zt(),M=k.length;M<D.length;M+=1)L(M);Zt()}},i(T){if(!y){for(let V=0;V<k.length;V+=1)ye(D[V]);y=!0}},o(T){D=D.filter(Boolean);for(let V=0;V<D.length;V+=1)Ne(D[V]);y=!1},d(T){T&&i(e),Ct(D,T)}}}function xu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',l,r;function n(){return s[7](s[11])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-1raw90f"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(u,c){j(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function Ou(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function n(){return s[8](s[11])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-oqx8cx"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(u,c){j(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function Gr(s){let e,t,l,r,n=s[11].title+"",u,c,p,_,h,m=Ds(s[11].created_at*1e3).format(s[2].t("MMMM DD, YYYY HH:mm"))+"",g,w,b,E,I,y,k,D,L,T;return I=new rl({props:{content:"Unarchive Chat",$$slots:{default:[xu]},$$scope:{ctx:s}}}),k=new rl({props:{content:"Delete Chat",$$slots:{default:[Ou]},$$scope:{ctx:s}}}),{c(){e=f("tr"),t=f("td"),l=f("a"),r=f("div"),u=H(n),p=A(),_=f("td"),h=f("div"),g=H(m),w=A(),b=f("td"),E=f("div"),lt(I.$$.fragment),y=A(),lt(k.$$.fragment),D=A(),this.h()},l(V){e=d(V,"TR",{class:!0});var M=v(e);t=d(M,"TD",{class:!0});var P=v(t);l=d(P,"A",{href:!0,target:!0});var R=v(l);r=d(R,"DIV",{class:!0});var z=v(r);u=U(z,n),z.forEach(i),R.forEach(i),P.forEach(i),p=S(M),_=d(M,"TD",{class:!0});var O=v(_);h=d(O,"DIV",{class:!0});var q=v(h);g=U(q,m),q.forEach(i),O.forEach(i),w=S(M),b=d(M,"TD",{class:!0});var B=v(b);E=d(B,"DIV",{class:!0});var C=v(E);st(I.$$.fragment,C),y=S(C),st(k.$$.fragment,C),C.forEach(i),B.forEach(i),D=S(M),M.forEach(i),this.h()},h(){o(r,"class","underline line-clamp-1"),o(l,"href",c="/c/"+s[11].id),o(l,"target","_blank"),o(t,"class","px-3 py-1 w-2/3"),o(h,"class","my-auto"),o(_,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),o(E,"class","flex justify-end w-full"),o(b,"class","px-3 py-1 text-right"),o(e,"class",L="bg-transparent "+(s[13]!==s[1].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(V,M){j(V,e,M),a(e,t),a(t,l),a(l,r),a(r,u),a(e,p),a(e,_),a(_,h),a(h,g),a(e,w),a(e,b),a(b,E),rt(I,E,null),a(E,y),rt(k,E,null),a(e,D),T=!0},p(V,M){(!T||M&2)&&n!==(n=V[11].title+"")&&W(u,n),(!T||M&2&&c!==(c="/c/"+V[11].id))&&o(l,"href",c),(!T||M&6)&&m!==(m=Ds(V[11].created_at*1e3).format(V[2].t("MMMM DD, YYYY HH:mm"))+"")&&W(g,m);const P={};M&16386&&(P.$$scope={dirty:M,ctx:V}),I.$set(P);const R={};M&16386&&(R.$$scope={dirty:M,ctx:V}),k.$set(R),(!T||M&2&&L!==(L="bg-transparent "+(V[13]!==V[1].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&o(e,"class",L)},i(V){T||(ye(I.$$.fragment,V),ye(k.$$.fragment,V),T=!0)},o(V){Ne(I.$$.fragment,V),Ne(k.$$.fragment,V),T=!1},d(V){V&&i(e),at(I),at(k)}}}function Nu(s){let e,t,l,r=s[2].t("Archived Chats")+"",n,u,c,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,h,m,g,w,b,E,I;const y=[Cu,Lu],k=[];function D(L,T){return L[1].length>0?0:1}return g=D(s),w=k[g]=y[g](s),{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("button"),c.innerHTML=p,_=A(),h=f("div"),m=f("div"),w.c(),this.h()},l(L){e=d(L,"DIV",{});var T=v(e);t=d(T,"DIV",{class:!0});var V=v(t);l=d(V,"DIV",{class:!0});var M=v(l);n=U(M,r),M.forEach(i),u=S(V),c=d(V,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(c)!=="svelte-745w2y"&&(c.innerHTML=p),V.forEach(i),_=S(T),h=d(T,"DIV",{class:!0});var P=v(h);m=d(P,"DIV",{class:!0});var R=v(m);w.l(R),R.forEach(i),P.forEach(i),T.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(m,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(h,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(L,T){j(L,e,T),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(e,_),a(e,h),a(h,m),k[g].m(m,null),b=!0,E||(I=$(c,"click",s[6]),E=!0)},p(L,T){(!b||T&4)&&r!==(r=L[2].t("Archived Chats")+"")&&W(n,r);let V=g;g=D(L),g===V?k[g].p(L,T):(zt(),Ne(k[V],1,1,()=>{k[V]=null}),Zt(),w=k[g],w?w.p(L,T):(w=k[g]=y[g](L),w.c()),ye(w,1),w.m(m,null))},i(L){b||(ye(w),b=!0)},o(L){Ne(w),b=!1},d(L){L&&i(e),k[g].d(),E=!1,I()}}}function Pu(s){let e,t,l;function r(u){s[9](u)}let n={size:"lg",$$slots:{default:[Nu]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new ts({props:n}),Rt.push(()=>el(e,"show",r)),{c(){lt(e.$$.fragment)},l(u){st(e.$$.fragment,u)},m(u,c){rt(e,u,c),l=!0},p(u,[c]){const p={};c&16391&&(p.$$scope={dirty:c,ctx:u}),!t&&c&1&&(t=!0,p.show=u[0],$t(()=>t=!1)),e.$set(p)},i(u){l||(ye(e.$$.fragment,u),l=!0)},o(u){Ne(e.$$.fragment,u),l=!1},d(u){at(e,u)}}}function Bu(s,e,t){let l;const r=Pl(),n=jt("i18n");nt(s,n,b=>t(2,l=b));let{show:u=!1}=e,c=[];const p=async b=>{await Da(localStorage.token,b).catch(E=>{Xe.error(E)}),t(1,c=await ss(localStorage.token)),r("change")},_=async b=>{await Ta(localStorage.token,b).catch(E=>{Xe.error(E)}),t(1,c=await ss(localStorage.token))},h=()=>{t(0,u=!1)},m=async b=>{p(b.id)},g=async b=>{_(b.id)};function w(b){u=b,t(0,u)}return s.$$set=b=>{"show"in b&&t(0,u=b.show)},s.$$.update=()=>{s.$$.dirty&1&&u&&(async()=>t(1,c=await ss(localStorage.token)))()},[u,c,l,n,p,_,h,m,g,w]}class Hu extends St{constructor(e){super(),Lt(this,e,Bu,Pu,At,{show:0})}}function Fr(s,e,t){const l=s.slice();return l[59]=e[t],l[61]=t,l}function Kr(s,e,t){const l=s.slice();return l[62]=e[t],l}function Yr(s){let e,t,l,r='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',n,u,c,p=s[14].t("Modelfiles")+"",_,h,m,g,w,b='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',E,I,y,k=s[14].t("Prompts")+"",D,L,T,V,M,P='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg>',R,z,O,q=s[14].t("Documents")+"",B,C,G;return{c(){e=f("div"),t=f("a"),l=f("div"),l.innerHTML=r,n=A(),u=f("div"),c=f("div"),_=H(p),h=A(),m=f("div"),g=f("a"),w=f("div"),w.innerHTML=b,E=A(),I=f("div"),y=f("div"),D=H(k),L=A(),T=f("div"),V=f("a"),M=f("div"),M.innerHTML=P,R=A(),z=f("div"),O=f("div"),B=H(q),this.h()},l(K){e=d(K,"DIV",{class:!0});var F=v(e);t=d(F,"A",{class:!0,href:!0});var x=v(t);l=d(x,"DIV",{class:!0,"data-svelte-h":!0}),Be(l)!=="svelte-qe7czu"&&(l.innerHTML=r),n=S(x),u=d(x,"DIV",{class:!0});var Z=v(u);c=d(Z,"DIV",{class:!0});var N=v(c);_=U(N,p),N.forEach(i),Z.forEach(i),x.forEach(i),F.forEach(i),h=S(K),m=d(K,"DIV",{class:!0});var Y=v(m);g=d(Y,"A",{class:!0,href:!0});var J=v(g);w=d(J,"DIV",{class:!0,"data-svelte-h":!0}),Be(w)!=="svelte-10bhs2p"&&(w.innerHTML=b),E=S(J),I=d(J,"DIV",{class:!0});var X=v(I);y=d(X,"DIV",{class:!0});var Q=v(y);D=U(Q,k),Q.forEach(i),X.forEach(i),J.forEach(i),Y.forEach(i),L=S(K),T=d(K,"DIV",{class:!0});var te=v(T);V=d(te,"A",{class:!0,href:!0});var ue=v(V);M=d(ue,"DIV",{class:!0,"data-svelte-h":!0}),Be(M)!=="svelte-1gjxppm"&&(M.innerHTML=P),R=S(ue),z=d(ue,"DIV",{class:!0});var oe=v(z);O=d(oe,"DIV",{class:!0});var ve=v(O);B=U(ve,q),ve.forEach(i),oe.forEach(i),ue.forEach(i),te.forEach(i),this.h()},h(){o(l,"class","self-center"),o(c,"class","self-center font-medium text-sm"),o(u,"class","flex self-center"),o(t,"class","flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),o(t,"href","/modelfiles"),o(e,"class","px-2 flex justify-center mt-0.5"),o(w,"class","self-center"),o(y,"class","self-center font-medium text-sm"),o(I,"class","flex self-center"),o(g,"class","flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),o(g,"href","/prompts"),o(m,"class","px-2 flex justify-center"),o(M,"class","self-center"),o(O,"class","self-center font-medium text-sm"),o(z,"class","flex self-center"),o(V,"class","flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),o(V,"href","/documents"),o(T,"class","px-2 flex justify-center mb-1")},m(K,F){j(K,e,F),a(e,t),a(t,l),a(t,n),a(t,u),a(u,c),a(c,_),j(K,h,F),j(K,m,F),a(m,g),a(g,w),a(g,E),a(g,I),a(I,y),a(y,D),j(K,L,F),j(K,T,F),a(T,V),a(V,M),a(V,R),a(V,z),a(z,O),a(O,B),C||(G=[$(t,"click",s[28]),$(g,"click",s[29]),$(V,"click",s[30])],C=!0)},p(K,F){F[0]&16384&&p!==(p=K[14].t("Modelfiles")+"")&&W(_,p),F[0]&16384&&k!==(k=K[14].t("Prompts")+"")&&W(D,k),F[0]&16384&&q!==(q=K[14].t("Documents")+"")&&W(B,q)},d(K){K&&(i(e),i(h),i(m),i(L),i(T)),C=!1,ut(G)}}}function Jr(s){let e,t,l,r=s[14].t("Chat History is off for this browser.")+"",n,u,c,p=s[14].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"",_,h,m,g=s[14].t("This setting does not sync across browsers or devices.")+"",w,b,E,I,y,k,D,L,T=s[14].t("Enable Chat History")+"",V,M,P;return{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("div"),_=H(p),h=A(),m=f("span"),w=H(g),b=A(),E=f("div"),I=f("button"),y=Qe("svg"),k=Qe("path"),D=A(),L=f("div"),V=H(T),this.h()},l(R){e=d(R,"DIV",{class:!0});var z=v(e);t=d(z,"DIV",{class:!0});var O=v(t);l=d(O,"DIV",{class:!0});var q=v(l);n=U(q,r),q.forEach(i),u=S(O),c=d(O,"DIV",{class:!0});var B=v(c);_=U(B,p),h=S(B),m=d(B,"SPAN",{class:!0});var C=v(m);w=U(C,g),C.forEach(i),B.forEach(i),b=S(O),E=d(O,"DIV",{class:!0});var G=v(E);I=d(G,"BUTTON",{class:!0,type:!0});var K=v(I);y=$e(K,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var F=v(y);k=$e(F,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(k).forEach(i),F.forEach(i),D=S(K),L=d(K,"DIV",{});var x=v(L);V=U(x,T),x.forEach(i),K.forEach(i),G.forEach(i),O.forEach(i),z.forEach(i),this.h()},h(){o(l,"class","font-medium"),o(m,"class","font-semibold"),o(c,"class","text-xs mt-2"),o(k,"fill-rule","evenodd"),o(k,"d","M8 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 8 1ZM4.11 3.05a.75.75 0 0 1 0 1.06 5.5 5.5 0 1 0 7.78 0 .75.75 0 0 1 1.06-1.06 7 7 0 1 1-9.9 0 .75.75 0 0 1 1.06 0Z"),o(k,"clip-rule","evenodd"),o(y,"xmlns","http://www.w3.org/2000/svg"),o(y,"viewBox","0 0 16 16"),o(y,"fill","currentColor"),o(y,"class","w-3 h-3"),o(I,"class","flex justify-center items-center space-x-1.5 px-3 py-2.5 rounded-lg text-xs bg-gray-100 hover:bg-gray-200 transition text-gray-800 font-medium w-full"),o(I,"type","button"),o(E,"class","mt-3"),o(t,"class","text-left px-5 py-2"),o(e,"class","absolute z-40 w-full h-full bg-gray-50/90 dark:bg-black/90 flex justify-center")},m(R,z){j(R,e,z),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(c,_),a(c,h),a(c,m),a(m,w),a(t,b),a(t,E),a(E,I),a(I,y),a(y,k),a(I,D),a(I,L),a(L,V),M||(P=$(I,"click",s[31]),M=!0)},p(R,z){z[0]&16384&&r!==(r=R[14].t("Chat History is off for this browser.")+"")&&W(n,r),z[0]&16384&&p!==(p=R[14].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"")&&W(_,p),z[0]&16384&&g!==(g=R[14].t("This setting does not sync across browsers or devices.")+"")&&W(w,g),z[0]&16384&&T!==(T=R[14].t("Enable Chat History")+"")&&W(V,T)},d(R){R&&i(e),M=!1,P()}}}function Xr(s){let e,t,l=s[14].t("all")+"",r,n,u,c,p=ot(s[17]),_=[];for(let h=0;h<p.length;h+=1)_[h]=Qr(Kr(s,p,h));return{c(){e=f("div"),t=f("button"),r=H(l),n=A();for(let h=0;h<_.length;h+=1)_[h].c();this.h()},l(h){e=d(h,"DIV",{class:!0});var m=v(e);t=d(m,"BUTTON",{class:!0});var g=v(t);r=U(g,l),g.forEach(i),n=S(m);for(let w=0;w<_.length;w+=1)_[w].l(m);m.forEach(i),this.h()},h(){o(t,"class","px-2.5 text-xs font-medium bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full"),o(e,"class","px-2.5 mt-0.5 mb-2 flex gap-1 flex-wrap")},m(h,m){j(h,e,m),a(e,t),a(t,r),a(e,n);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(e,null);u||(c=$(t,"click",s[34]),u=!0)},p(h,m){if(m[0]&16384&&l!==(l=h[14].t("all")+"")&&W(r,l),m[0]&131072){p=ot(h[17]);let g;for(g=0;g<p.length;g+=1){const w=Kr(h,p,g);_[g]?_[g].p(w,m):(_[g]=Qr(w),_[g].c(),_[g].m(e,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=p.length}},d(h){h&&i(e),Ct(_,h),u=!1,c()}}}function Qr(s){let e,t=s[62].name+"",l,r,n,u;function c(){return s[35](s[62])}return{c(){e=f("button"),l=H(t),r=A(),this.h()},l(p){e=d(p,"BUTTON",{class:!0});var _=v(e);l=U(_,t),r=S(_),_.forEach(i),this.h()},h(){o(e,"class","px-2.5 text-xs font-medium bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full")},m(p,_){j(p,e,_),a(e,l),a(e,r),n||(u=$(e,"click",c),n=!0)},p(p,_){s=p,_[0]&131072&&t!==(t=s[62].name+"")&&W(l,t)},d(p){p&&i(e),n=!1,u()}}}function $r(s){let e,t=s[14].t(s[59].time_range)+"",l;return{c(){e=f("div"),l=H(t),this.h()},l(r){e=d(r,"DIV",{class:!0});var n=v(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(s[61]===0?"":"pt-5")+" pb-0.5")},m(r,n){j(r,e,n),a(e,l)},p(r,n){n[0]&18432&&t!==(t=r[14].t(r[59].time_range)+"")&&W(l,t)},d(r){r&&i(e)}}}function Uu(s){let e,t,l,r=s[59].title+"",n,u,c,p,_;function h(){return s[37](s[59])}return{c(){e=f("a"),t=f("div"),l=f("div"),n=H(r),this.h()},l(m){e=d(m,"A",{class:!0,href:!0,draggable:!0});var g=v(e);t=d(g,"DIV",{class:!0});var w=v(t);l=d(w,"DIV",{class:!0});var b=v(l);n=U(b,r),b.forEach(i),w.forEach(i),g.forEach(i),this.h()},h(){o(l,"class","text-left self-center overflow-hidden w-full h-[20px]"),o(t,"class","flex self-center flex-1 w-full"),o(e,"class",u="w-full flex justify-between rounded-xl px-3 py-2 "+(s[59].id===s[13]||s[59].id===s[6]||s[59].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[59].id===s[4]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),o(e,"href",c="/c/"+s[59].id),o(e,"draggable","false")},m(m,g){j(m,e,g),a(e,t),a(t,l),a(l,n),p||(_=$(e,"click",h),p=!0)},p(m,g){s=m,g[0]&2048&&r!==(r=s[59].title+"")&&W(n,r),g[0]&10352&&u!==(u="w-full flex justify-between rounded-xl px-3 py-2 "+(s[59].id===s[13]||s[59].id===s[6]||s[59].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[59].id===s[4]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&o(e,"class",u),g[0]&2048&&c!==(c="/c/"+s[59].id)&&o(e,"href",c)},d(m){m&&i(e),p=!1,_()}}}function ju(s){let e,t,l,r,n;return{c(){e=f("div"),t=f("input"),this.h()},l(u){e=d(u,"DIV",{class:!0});var c=v(e);t=d(c,"INPUT",{class:!0}),c.forEach(i),this.h()},h(){o(t,"class","bg-transparent w-full outline-none mr-10"),o(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 "+(s[59].id===s[13]||s[59].id===s[6]||s[59].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[59].id===s[4]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")},m(u,c){j(u,e,c),a(e,t),ge(t,s[7]),r||(n=$(t,"input",s[36]),r=!0)},p(u,c){c[0]&128&&t.value!==u[7]&&ge(t,u[7]),c[0]&10352&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 "+(u[59].id===u[13]||u[59].id===u[6]||u[59].id===u[5]?"bg-gray-200 dark:bg-gray-900":u[59].id===u[4]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&o(e,"class",l)},d(u){u&&i(e),r=!1,n()}}}function Ru(s){let e,t,l,r,n,u;function c(){return s[44](s[59])}function p(){return s[45](s[59])}t=new Mu({props:{chatId:s[59].id,shareHandler:s[43],renameHandler:c,deleteHandler:p,onClose:s[46],$$slots:{default:[Wu]},$$scope:{ctx:s}}}),r=new rl({props:{content:s[14].t("Archive"),$$slots:{default:[qu]},$$scope:{ctx:s}}});let _=s[59].id===s[13]&&ea(s);return{c(){e=f("div"),lt(t.$$.fragment),l=A(),lt(r.$$.fragment),n=A(),_&&_.c(),this.h()},l(h){e=d(h,"DIV",{class:!0});var m=v(e);st(t.$$.fragment,m),l=S(m),st(r.$$.fragment,m),n=S(m),_&&_.l(m),m.forEach(i),this.h()},h(){o(e,"class","flex self-center space-x-1 z-10")},m(h,m){j(h,e,m),rt(t,e,null),a(e,l),rt(r,e,null),a(e,n),_&&_.m(e,null),u=!0},p(h,m){s=h;const g={};m[0]&2048&&(g.chatId=s[59].id),m[0]&536&&(g.shareHandler=s[43]),m[0]&2240&&(g.renameHandler=c),m[0]&2080&&(g.deleteHandler=p),m[0]&16&&(g.onClose=s[46]),m[0]&2064|m[2]&8&&(g.$$scope={dirty:m,ctx:s}),t.$set(g);const w={};m[0]&16384&&(w.content=s[14].t("Archive")),m[0]&2048|m[2]&8&&(w.$$scope={dirty:m,ctx:s}),r.$set(w),s[59].id===s[13]?_?_.p(s,m):(_=ea(s),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i(h){u||(ye(t.$$.fragment,h),ye(r.$$.fragment,h),u=!0)},o(h){Ne(t.$$.fragment,h),Ne(r.$$.fragment,h),u=!1},d(h){h&&i(e),at(t),at(r),_&&_.d()}}}function zu(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,n,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,p;function _(){return s[40](s[59])}return{c(){e=f("div"),t=f("button"),t.innerHTML=l,r=A(),n=f("button"),n.innerHTML=u,this.h()},l(h){e=d(h,"DIV",{class:!0});var m=v(e);t=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(t)!=="svelte-b43ps3"&&(t.innerHTML=l),r=S(m),n=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(n)!=="svelte-1rs1rrb"&&(n.innerHTML=u),m.forEach(i),this.h()},h(){o(t,"class","self-center dark:hover:text-white transition"),o(n,"class","self-center dark:hover:text-white transition"),o(e,"class","flex self-center space-x-1.5 z-10")},m(h,m){j(h,e,m),a(e,t),a(e,r),a(e,n),c||(p=[$(t,"click",_),$(n,"click",s[41])],c=!0)},p(h,m){s=h},i:it,o:it,d(h){h&&i(e),c=!1,ut(p)}}}function Zu(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,n,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,p;function _(){return s[38](s[59])}return{c(){e=f("div"),t=f("button"),t.innerHTML=l,r=A(),n=f("button"),n.innerHTML=u,this.h()},l(h){e=d(h,"DIV",{class:!0});var m=v(e);t=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(t)!=="svelte-s5m6yg"&&(t.innerHTML=l),r=S(m),n=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(n)!=="svelte-tqhykr"&&(n.innerHTML=u),m.forEach(i),this.h()},h(){o(t,"class","self-center dark:hover:text-white transition"),o(n,"class","self-center dark:hover:text-white transition"),o(e,"class","flex self-center space-x-1.5 z-10")},m(h,m){j(h,e,m),a(e,t),a(e,r),a(e,n),c||(p=[$(t,"click",_),$(n,"click",s[39])],c=!0)},p(h,m){s=h},i:it,o:it,d(h){h&&i(e),c=!1,ut(p)}}}function Wu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,r;function n(){return s[42](s[59])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-pdrw69"&&(e.innerHTML=t),this.h()},h(){o(e,"aria-label","Chat Menu"),o(e,"class","self-center dark:hover:text-white transition")},m(u,c){j(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function qu(s){let e,t,l,r,n;t=new Na({});function u(){return s[47](s[59])}return{c(){e=f("button"),lt(t.$$.fragment),this.h()},l(c){e=d(c,"BUTTON",{"aria-label":!0,class:!0});var p=v(e);st(t.$$.fragment,p),p.forEach(i),this.h()},h(){o(e,"aria-label","Archive"),o(e,"class","self-center dark:hover:text-white transition")},m(c,p){j(c,e,p),rt(t,e,null),l=!0,r||(n=$(e,"click",u),r=!0)},p(c,p){s=c},i(c){l||(ye(t.$$.fragment,c),l=!0)},o(c){Ne(t.$$.fragment,c),l=!1},d(c){c&&i(e),at(t),r=!1,n()}}}function ea(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,r;function n(){return s[48](s[59])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-u345si"&&(e.innerHTML=t),this.h()},h(){o(e,"id","delete-chat-button"),o(e,"class","hidden")},m(u,c){j(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function ta(s){let e,t,l,r,n,u,c,p,_,h=(s[61]===0||s[61]>0&&s[59].time_range!==s[11][s[61]-1].time_range)&&$r(s);function m(y,k){return y[6]===y[59].id?ju:Uu}let g=m(s),w=g(s);const b=[Zu,zu,Ru],E=[];function I(y,k){return y[6]===y[59].id?0:y[5]===y[59].id?1:2}return n=I(s),u=E[n]=b[n](s),{c(){h&&h.c(),e=A(),t=f("div"),w.c(),l=A(),r=f("div"),u.c(),p=A(),this.h()},l(y){h&&h.l(y),e=S(y),t=d(y,"DIV",{class:!0});var k=v(t);w.l(k),l=S(k),r=d(k,"DIV",{class:!0});var D=v(r);u.l(D),D.forEach(i),p=S(k),k.forEach(i),this.h()},h(){o(r,"class",c=(s[59].id===s[13]||s[59].id===s[6]||s[59].id===s[5]?"from-gray-200 dark:from-gray-900":s[59].id===s[4]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[10px] pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"),o(t,"class","w-full pr-2 relative group")},m(y,k){h&&h.m(y,k),j(y,e,k),j(y,t,k),w.m(t,null),a(t,l),a(t,r),E[n].m(r,null),a(t,p),_=!0},p(y,k){y[61]===0||y[61]>0&&y[59].time_range!==y[11][y[61]-1].time_range?h?h.p(y,k):(h=$r(y),h.c(),h.m(e.parentNode,e)):h&&(h.d(1),h=null),g===(g=m(y))&&w?w.p(y,k):(w.d(1),w=g(y),w&&(w.c(),w.m(t,l)));let D=n;n=I(y),n===D?E[n].p(y,k):(zt(),Ne(E[D],1,1,()=>{E[D]=null}),Zt(),u=E[n],u?u.p(y,k):(u=E[n]=b[n](y),u.c()),ye(u,1),u.m(r,null)),(!_||k[0]&10352&&c!==(c=(y[59].id===y[13]||y[59].id===y[6]||y[59].id===y[5]?"from-gray-200 dark:from-gray-900":y[59].id===y[4]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[10px] pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"))&&o(r,"class",c)},i(y){_||(ye(u),_=!0)},o(y){Ne(u),_=!1},d(y){y&&(i(e),i(t)),h&&h.d(y),w.d(),E[n].d()}}}function la(s){let e,t,l,r,n,u,c=s[16].name+"",p,_,h,m,g,w,b=s[10]&&sa(s);return{c(){e=f("button"),t=f("div"),l=f("img"),n=A(),u=f("div"),p=H(c),_=A(),b&&b.c(),h=It(),this.h()},l(E){e=d(E,"BUTTON",{class:!0});var I=v(e);t=d(I,"DIV",{class:!0});var y=v(t);l=d(y,"IMG",{src:!0,class:!0,alt:!0}),y.forEach(i),n=S(I),u=d(I,"DIV",{class:!0});var k=v(u);p=U(k,c),k.forEach(i),I.forEach(i),_=S(E),b&&b.l(E),h=It(),this.h()},h(){es(l.src,r=s[16].profile_image_url)||o(l,"src",r),o(l,"class","max-w-[30px] object-cover rounded-full"),o(l,"alt","User profile"),o(t,"class","self-center mr-3"),o(u,"class","self-center font-semibold"),o(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition")},m(E,I){j(E,e,I),a(e,t),a(t,l),a(e,n),a(e,u),a(u,p),j(E,_,I),b&&b.m(E,I),j(E,h,I),m=!0,g||(w=$(e,"click",s[49]),g=!0)},p(E,I){(!m||I[0]&65536&&!es(l.src,r=E[16].profile_image_url))&&o(l,"src",r),(!m||I[0]&65536)&&c!==(c=E[16].name+"")&&W(p,c),E[10]?b?(b.p(E,I),I[0]&1024&&ye(b,1)):(b=sa(E),b.c(),ye(b,1),b.m(h.parentNode,h)):b&&(zt(),Ne(b,1,1,()=>{b=null}),Zt())},i(E){m||(ye(b),m=!0)},o(E){Ne(b),m=!1},d(E){E&&(i(e),i(_),i(h)),b&&b.d(E),g=!1,w()}}}function sa(s){let e,t,l,r,n,u,c,p,_=s[14].t("Archived Chats")+"",h,m,g,w,b='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',E,I,y=s[14].t("Settings")+"",k,D,L,T,V,M,P,R='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z" clip-rule="evenodd"></path></svg>',z,O,q=s[14].t("Sign Out")+"",B,C,G,K,F,x=s[16].role==="admin"&&ra(s);return u=new Na({props:{className:"size-5",strokeWidth:"1.5"}}),{c(){e=f("div"),t=f("div"),x&&x.c(),l=A(),r=f("button"),n=f("div"),lt(u.$$.fragment),c=A(),p=f("div"),h=H(_),m=A(),g=f("button"),w=f("div"),w.innerHTML=b,E=A(),I=f("div"),k=H(y),D=A(),L=f("hr"),T=A(),V=f("div"),M=f("button"),P=f("div"),P.innerHTML=R,z=A(),O=f("div"),B=H(q),this.h()},l(Z){e=d(Z,"DIV",{id:!0,class:!0});var N=v(e);t=d(N,"DIV",{class:!0});var Y=v(t);x&&x.l(Y),l=S(Y),r=d(Y,"BUTTON",{class:!0});var J=v(r);n=d(J,"DIV",{class:!0});var X=v(n);st(u.$$.fragment,X),X.forEach(i),c=S(J),p=d(J,"DIV",{class:!0});var Q=v(p);h=U(Q,_),Q.forEach(i),J.forEach(i),m=S(Y),g=d(Y,"BUTTON",{class:!0});var te=v(g);w=d(te,"DIV",{class:!0,"data-svelte-h":!0}),Be(w)!=="svelte-miy268"&&(w.innerHTML=b),E=S(te),I=d(te,"DIV",{class:!0});var ue=v(I);k=U(ue,y),ue.forEach(i),te.forEach(i),Y.forEach(i),D=S(N),L=d(N,"HR",{class:!0}),T=S(N),V=d(N,"DIV",{class:!0});var oe=v(V);M=d(oe,"BUTTON",{class:!0});var ve=v(M);P=d(ve,"DIV",{class:!0,"data-svelte-h":!0}),Be(P)!=="svelte-4tkvnw"&&(P.innerHTML=R),z=S(ve),O=d(ve,"DIV",{class:!0});var fe=v(O);B=U(fe,q),fe.forEach(i),ve.forEach(i),oe.forEach(i),N.forEach(i),this.h()},h(){o(n,"class","self-center mr-3"),o(p,"class","self-center font-medium"),o(r,"class","flex rounded-md py-2.5 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-800 transition"),o(w,"class","self-center mr-3"),o(I,"class","self-center font-medium"),o(g,"class","flex rounded-md py-2.5 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-800 transition"),o(t,"class","p-1 py-2 w-full"),o(L,"class","dark:border-gray-800 m-0 p-0"),o(P,"class","self-center mr-3"),o(O,"class","self-center font-medium"),o(M,"class","flex rounded-md py-2.5 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-800 transition"),o(V,"class","p-1 py-2 w-full"),o(e,"id","dropdownDots"),o(e,"class","absolute z-40 bottom-[70px] rounded-lg shadow w-[240px] bg-white dark:bg-gray-900")},m(Z,N){j(Z,e,N),a(e,t),x&&x.m(t,null),a(t,l),a(t,r),a(r,n),rt(u,n,null),a(r,c),a(r,p),a(p,h),a(t,m),a(t,g),a(g,w),a(g,E),a(g,I),a(I,k),a(e,D),a(e,L),a(e,T),a(e,V),a(V,M),a(M,P),a(M,z),a(M,O),a(O,B),G=!0,K||(F=[$(r,"click",s[52]),$(g,"click",s[53]),$(M,"click",s[54])],K=!0)},p(Z,N){Z[16].role==="admin"?x?x.p(Z,N):(x=ra(Z),x.c(),x.m(t,l)):x&&(x.d(1),x=null),(!G||N[0]&16384)&&_!==(_=Z[14].t("Archived Chats")+"")&&W(h,_),(!G||N[0]&16384)&&y!==(y=Z[14].t("Settings")+"")&&W(k,y),(!G||N[0]&16384)&&q!==(q=Z[14].t("Sign Out")+"")&&W(B,q)},i(Z){G||(ye(u.$$.fragment,Z),Z&&Gt(()=>{G&&(C||(C=ks(e,Ts,{duration:100},!0)),C.run(1))}),G=!0)},o(Z){Ne(u.$$.fragment,Z),Z&&(C||(C=ks(e,Ts,{duration:100},!1)),C.run(0)),G=!1},d(Z){Z&&i(e),x&&x.d(),at(u),Z&&C&&C.end(),K=!1,ut(F)}}}function ra(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',r,n,u=s[14].t("Admin Panel")+"",c,p,_,h,m='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',g,w,b=s[14].t("Playground")+"",E,I,y;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,r=A(),n=f("div"),c=H(u),p=A(),_=f("button"),h=f("div"),h.innerHTML=m,g=A(),w=f("div"),E=H(b),this.h()},l(k){e=d(k,"BUTTON",{class:!0});var D=v(e);t=d(D,"DIV",{class:!0,"data-svelte-h":!0}),Be(t)!=="svelte-1ilvrqk"&&(t.innerHTML=l),r=S(D),n=d(D,"DIV",{class:!0});var L=v(n);c=U(L,u),L.forEach(i),D.forEach(i),p=S(k),_=d(k,"BUTTON",{class:!0});var T=v(_);h=d(T,"DIV",{class:!0,"data-svelte-h":!0}),Be(h)!=="svelte-uof6bu"&&(h.innerHTML=m),g=S(T),w=d(T,"DIV",{class:!0});var V=v(w);E=U(V,b),V.forEach(i),T.forEach(i),this.h()},h(){o(t,"class","self-center mr-3"),o(n,"class","self-center font-medium"),o(e,"class","flex rounded-md py-2.5 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-800 transition"),o(h,"class","self-center mr-3"),o(w,"class","self-center font-medium"),o(_,"class","flex rounded-md py-2.5 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-800 transition")},m(k,D){j(k,e,D),a(e,t),a(e,r),a(e,n),a(n,c),j(k,p,D),j(k,_,D),a(_,h),a(_,g),a(_,w),a(w,E),I||(y=[$(e,"click",s[50]),$(_,"click",s[51])],I=!0)},p(k,D){D[0]&16384&&u!==(u=k[14].t("Admin Panel")+"")&&W(c,u),D[0]&16384&&b!==(b=k[14].t("Playground")+"")&&W(E,b)},d(k){k&&(i(e),i(p),i(_)),I=!1,ut(y)}}}function Gu(s){let e,t,l,r,n,u,c,p,_,h,m;return{c(){e=f("button"),t=f("span"),l=f("div"),r=f("div"),n=f("div"),c=A(),p=f("div"),this.h()},l(g){e=d(g,"BUTTON",{id:!0,class:!0});var w=v(e);t=d(w,"SPAN",{class:!0,"data-state":!0});var b=v(t);l=d(b,"DIV",{class:!0});var E=v(l);r=d(E,"DIV",{class:!0});var I=v(r);n=d(I,"DIV",{class:!0}),v(n).forEach(i),c=S(I),p=d(I,"DIV",{class:!0}),v(p).forEach(i),I.forEach(i),E.forEach(i),b.forEach(i),w.forEach(i),this.h()},h(){o(n,"class",u="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[0.15rem] "+(s[15]?"group-hover:rotate-[15deg]":"group-hover:rotate-[-15deg]")),o(p,"class",_="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[-0.15rem] "+(s[15]?"group-hover:rotate-[-15deg]":"group-hover:rotate-[15deg]")),o(r,"class","flex h-6 w-6 flex-col items-center"),o(l,"class","flex h-[72px] w-8 items-center justify-center opacity-50 group-hover:opacity-100 transition"),o(t,"class",""),o(t,"data-state","closed"),o(e,"id","sidebar-toggle-button"),o(e,"class","group")},m(g,w){j(g,e,w),a(e,t),a(t,l),a(l,r),a(r,n),a(r,c),a(r,p),h||(m=$(e,"click",s[55]),h=!0)},p(g,w){w[0]&32768&&u!==(u="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[0.15rem] "+(g[15]?"group-hover:rotate-[15deg]":"group-hover:rotate-[-15deg]"))&&o(n,"class",u),w[0]&32768&&_!==(_="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[-0.15rem] "+(g[15]?"group-hover:rotate-[-15deg]":"group-hover:rotate-[15deg]"))&&o(p,"class",_)},d(g){g&&i(e),h=!1,m()}}}function Fu(s){var Je;let e,t,l,r,n,u,c,p,_,h,m,g,w=`<img src="${sn}/static/favicon.png" class="size-6 -translate-x-1.5 rounded-full" alt="logo"/>`,b,E,I=s[14].t("New Chat")+"",y,k,D,L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"></path><path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"></path></svg>',T,V,M,P,R,z,O,q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',B,C,G,K,F,x,Z,N,Y,J,X,Q,te,ue,oe,ve,fe;function ce(ne){s[24](ne)}let re={chatId:s[3]};s[9]!==void 0&&(re.show=s[9]),e=new In({props:re}),Rt.push(()=>el(e,"show",ce));function se(ne){s[25](ne)}let De={};s[8]!==void 0&&(De.show=s[8]),r=new Hu({props:De}),Rt.push(()=>el(r,"show",se)),r.$on("change",s[26]);let ae=((Je=s[16])==null?void 0:Je.role)==="admin"&&Yr(s),ee=!(s[12].saveChatHistory??!0)&&Jr(s),de=s[17].length>0&&Xr(s),Ce=ot(s[11]),he=[];for(let ne=0;ne<Ce.length;ne+=1)he[ne]=ta(Fr(s,Ce,ne));const xe=ne=>Ne(he[ne],1,1,()=>{he[ne]=null});let _e=s[16]!==void 0&&la(s);return te=new rl({props:{placement:"right",content:`${s[15]?s[14].t("Close"):s[14].t("Open")} ${s[14].t("sidebar")}`,touch:!1,$$slots:{default:[Gu]},$$scope:{ctx:s}}}),{c(){lt(e.$$.fragment),l=A(),lt(r.$$.fragment),u=A(),c=f("div"),p=f("div"),_=f("div"),h=f("a"),m=f("div"),g=f("div"),g.innerHTML=w,b=A(),E=f("div"),y=H(I),k=A(),D=f("div"),D.innerHTML=L,T=A(),ae&&ae.c(),V=A(),M=f("div"),ee&&ee.c(),P=A(),R=f("div"),z=f("div"),O=f("div"),O.innerHTML=q,B=A(),C=f("input"),K=A(),de&&de.c(),F=A(),x=f("div");for(let ne=0;ne<he.length;ne+=1)he[ne].c();Z=A(),N=f("div"),Y=f("div"),_e&&_e.c(),X=A(),Q=f("div"),lt(te.$$.fragment),this.h()},l(ne){st(e.$$.fragment,ne),l=S(ne),st(r.$$.fragment,ne),u=S(ne),c=d(ne,"DIV",{id:!0,class:!0,"data-state":!0});var ie=v(c);p=d(ie,"DIV",{class:!0});var le=v(p);_=d(le,"DIV",{class:!0});var Le=v(_);h=d(Le,"A",{id:!0,class:!0,href:!0});var ke=v(h);m=d(ke,"DIV",{class:!0});var Ve=v(m);g=d(Ve,"DIV",{class:!0,"data-svelte-h":!0}),Be(g)!=="svelte-1m2ghgp"&&(g.innerHTML=w),b=S(Ve),E=d(Ve,"DIV",{class:!0});var Me=v(E);y=U(Me,I),Me.forEach(i),Ve.forEach(i),k=S(ke),D=d(ke,"DIV",{class:!0,"data-svelte-h":!0}),Be(D)!=="svelte-1g1il5l"&&(D.innerHTML=L),ke.forEach(i),Le.forEach(i),T=S(le),ae&&ae.l(le),V=S(le),M=d(le,"DIV",{class:!0});var Ue=v(M);ee&&ee.l(Ue),P=S(Ue),R=d(Ue,"DIV",{class:!0});var we=v(R);z=d(we,"DIV",{class:!0,id:!0});var Ae=v(z);O=d(Ae,"DIV",{class:!0,"data-svelte-h":!0}),Be(O)!=="svelte-yochje"&&(O.innerHTML=q),B=S(Ae),C=d(Ae,"INPUT",{class:!0,placeholder:!0}),Ae.forEach(i),we.forEach(i),K=S(Ue),de&&de.l(Ue),F=S(Ue),x=d(Ue,"DIV",{class:!0});var me=v(x);for(let be=0;be<he.length;be+=1)he[be].l(me);me.forEach(i),Ue.forEach(i),Z=S(le),N=d(le,"DIV",{class:!0});var Te=v(N);Y=d(Te,"DIV",{class:!0});var Ie=v(Y);_e&&_e.l(Ie),Ie.forEach(i),Te.forEach(i),le.forEach(i),X=S(ie),Q=d(ie,"DIV",{id:!0,class:!0});var je=v(Q);st(te.$$.fragment,je),je.forEach(i),ie.forEach(i),this.h()},h(){o(g,"class","self-center mr-1.5"),o(E,"class","self-center font-medium text-sm"),o(m,"class","flex self-center"),o(D,"class","self-center"),o(h,"id","sidebar-new-chat-button"),o(h,"class","flex-grow flex justify-between rounded-xl px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),o(h,"href","/"),o(_,"class","px-2 flex justify-center space-x-2"),o(O,"class","self-center pl-3 py-2 rounded-l-xl bg-white dark:bg-gray-950"),o(C,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm dark:text-gray-300 dark:bg-gray-950 outline-none"),o(C,"placeholder",G=s[14].t("Search")),o(z,"class","flex w-full"),o(z,"id","chat-search"),o(R,"class","px-2 mt-1 mb-2 flex justify-center space-x-2"),o(x,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto scrollbar-none svelte-4kxdzh"),o(M,"class","relative flex flex-col flex-1 overflow-y-auto"),o(Y,"class","flex flex-col"),o(N,"class","px-2.5"),o(p,"class",J="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] "+(s[15]?"":"invisible")),o(Q,"id","sidebar-handle"),o(Q,"class","fixed left-0 top-[50dvh] -translate-y-1/2 transition-transform translate-x-[255px] md:translate-x-[260px] rotate-0"),o(c,"id","sidebar"),o(c,"class",ue="h-screen max-h-[100dvh] min-h-screen "+(s[15]?"lg:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"),o(c,"data-state",s[15])},m(ne,ie){rt(e,ne,ie),j(ne,l,ie),rt(r,ne,ie),j(ne,u,ie),j(ne,c,ie),a(c,p),a(p,_),a(_,h),a(h,m),a(m,g),a(m,b),a(m,E),a(E,y),a(h,k),a(h,D),a(p,T),ae&&ae.m(p,null),a(p,V),a(p,M),ee&&ee.m(M,null),a(M,P),a(M,R),a(R,z),a(z,O),a(z,B),a(z,C),ge(C,s[0]),a(M,K),de&&de.m(M,null),a(M,F),a(M,x);for(let le=0;le<he.length;le+=1)he[le]&&he[le].m(x,null);a(p,Z),a(p,N),a(N,Y),_e&&_e.m(Y,null),a(c,X),a(c,Q),rt(te,Q,null),s[56](c),oe=!0,ve||(fe=[$(h,"click",s[27]),$(C,"input",s[32]),$(C,"focus",s[33])],ve=!0)},p(ne,ie){var Ve;const le={};ie[0]&8&&(le.chatId=ne[3]),!t&&ie[0]&512&&(t=!0,le.show=ne[9],$t(()=>t=!1)),e.$set(le);const Le={};if(!n&&ie[0]&256&&(n=!0,Le.show=ne[8],$t(()=>n=!1)),r.$set(Le),(!oe||ie[0]&16384)&&I!==(I=ne[14].t("New Chat")+"")&&W(y,I),((Ve=ne[16])==null?void 0:Ve.role)==="admin"?ae?ae.p(ne,ie):(ae=Yr(ne),ae.c(),ae.m(p,V)):ae&&(ae.d(1),ae=null),ne[12].saveChatHistory??!0?ee&&(ee.d(1),ee=null):ee?ee.p(ne,ie):(ee=Jr(ne),ee.c(),ee.m(M,P)),(!oe||ie[0]&16384&&G!==(G=ne[14].t("Search")))&&o(C,"placeholder",G),ie[0]&1&&C.value!==ne[0]&&ge(C,ne[0]),ne[17].length>0?de?de.p(ne,ie):(de=Xr(ne),de.c(),de.m(M,F)):de&&(de.d(1),de=null),ie[0]&11561720){Ce=ot(ne[11]);let Me;for(Me=0;Me<Ce.length;Me+=1){const Ue=Fr(ne,Ce,Me);he[Me]?(he[Me].p(Ue,ie),ye(he[Me],1)):(he[Me]=ta(Ue),he[Me].c(),ye(he[Me],1),he[Me].m(x,null))}for(zt(),Me=Ce.length;Me<he.length;Me+=1)xe(Me);Zt()}ne[16]!==void 0?_e?(_e.p(ne,ie),ie[0]&65536&&ye(_e,1)):(_e=la(ne),_e.c(),ye(_e,1),_e.m(Y,null)):_e&&(zt(),Ne(_e,1,1,()=>{_e=null}),Zt()),(!oe||ie[0]&32768&&J!==(J="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] "+(ne[15]?"":"invisible")))&&o(p,"class",J);const ke={};ie[0]&49152&&(ke.content=`${ne[15]?ne[14].t("Close"):ne[14].t("Open")} ${ne[14].t("sidebar")}`),ie[0]&32768|ie[2]&8&&(ke.$$scope={dirty:ie,ctx:ne}),te.$set(ke),(!oe||ie[0]&32768&&ue!==(ue="h-screen max-h-[100dvh] min-h-screen "+(ne[15]?"lg:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"))&&o(c,"class",ue),(!oe||ie[0]&32768)&&o(c,"data-state",ne[15])},i(ne){if(!oe){ye(e.$$.fragment,ne),ye(r.$$.fragment,ne);for(let ie=0;ie<Ce.length;ie+=1)ye(he[ie]);ye(_e),ye(te.$$.fragment,ne),oe=!0}},o(ne){Ne(e.$$.fragment,ne),Ne(r.$$.fragment,ne),he=he.filter(Boolean);for(let ie=0;ie<he.length;ie+=1)Ne(he[ie]);Ne(_e),Ne(te.$$.fragment,ne),oe=!1},d(ne){ne&&(i(l),i(u),i(c)),at(e,ne),at(r,ne),ae&&ae.d(),ee&&ee.d(),de&&de.d(),Ct(he,ne),_e&&_e.d(),at(te),s[56](null),ve=!1,ut(fe)}}}const aa=1024;function Ku(s,e,t){let l,r,n,u,c,p,_;nt(s,xl,le=>t(12,l=le)),nt(s,Jl,le=>t(13,r=le)),nt(s,Ml,le=>t(15,u=le)),nt(s,Qt,le=>t(1,c=le)),nt(s,sl,le=>t(16,p=le)),nt(s,us,le=>t(17,_=le));const h=jt("i18n");nt(s,h,le=>t(14,n=le));let m,g="",w=null,b=null,E=null,I=null,y="",k=!1,D=!1,L=!1,T=[];Ft(async()=>{Ml.set(window.innerWidth>aa),await Qt.set(await cl(localStorage.token));let le,Le;function ke(){const we=window.innerWidth,Ae=Math.abs(Le.screenX-le.screenX);le.clientX<40&&Ae>=we/8&&(Le.screenX<le.screenX&&Ml.set(!1),Le.screenX>le.screenX&&Ml.set(!0))}const Ve=we=>{le=we.changedTouches[0],console.log(le.clientX)},Me=we=>{Le=we.changedTouches[0],ke()},Ue=()=>{u&&window.innerWidth<aa&&Ml.set(!1)};return window.addEventListener("touchstart",Ve),window.addEventListener("touchend",Me),window.addEventListener("resize",Ue),()=>{window.removeEventListener("touchstart",Ve),window.removeEventListener("touchend",Me),window.removeEventListener("resize",Ue)}});const V=async le=>{const Le=await Promise.all(le.map(async ke=>{const Ve=await $a(localStorage.token,ke.id).catch(Me=>null);return Ve&&(ke.chat=Ve.chat),ke}));await Qt.set(Le)},M=async(le,Le)=>{Le===""?Xe.error(n.t("Title cannot be an empty string.")):(await en(localStorage.token,le,{title:Le}),await Qt.set(await cl(localStorage.token)))},P=async le=>{await Ta(localStorage.token,le).catch(ke=>(Xe.error(ke),t(5,E=null),null))&&(r===le&&Al("/"),await Qt.set(await cl(localStorage.token)))},R=async le=>{await xl.set({...l,...le}),localStorage.setItem("settings",JSON.stringify(l)),location.href="/"},z=async le=>{await Da(localStorage.token,le),await Qt.set(await cl(localStorage.token))};function O(le){D=le,t(9,D)}function q(le){k=le,t(8,k)}const B=async()=>{await Qt.set(await cl(localStorage.token))},C=async()=>{t(4,b=null),await Al("/");const le=document.getElementById("new-chat-button");setTimeout(()=>{le==null||le.click()},0)},G=()=>{t(4,b=null),Jl.set("")},K=()=>{t(4,b=null),Jl.set("")},F=()=>{t(4,b=null),Jl.set("")},x=()=>{R({saveChatHistory:!0})};function Z(){g=this.value,t(0,g)}const N=()=>{V(c)},Y=async()=>{await Qt.set(await cl(localStorage.token))},J=async le=>{let Le=await tn(localStorage.token,le.name);Le.length===0&&(await us.set(await Va(localStorage.token)),Le=await cl(localStorage.token)),await Qt.set(Le)};function X(){y=this.value,t(7,y)}const Q=le=>{t(4,b=le.id),window.innerWidth<1024&&Ml.set(!1)},te=le=>{M(le.id,y),t(6,I=null),t(7,y="")},ue=()=>{t(6,I=null),t(7,y="")},oe=le=>{P(le.id)},ve=()=>{t(5,E=null)},fe=le=>{t(4,b=le.id)},ce=()=>{t(3,w=b),t(9,D=!0)},re=le=>{t(7,y=le.title),t(6,I=le.id)},se=le=>{t(5,E=le.id)},De=()=>{t(4,b=null)},ae=le=>{z(le.id)},ee=le=>{t(5,E=le.id)},de=()=>{t(10,L=!L)},Ce=()=>{Al("/admin"),t(10,L=!1)},he=()=>{Al("/playground"),t(10,L=!1)},xe=()=>{t(8,k=!0),t(10,L=!1)},_e=async()=>{await $l.set(!0),t(10,L=!1)},Je=()=>{localStorage.removeItem("token"),location.href="/authnow",t(10,L=!1)},ne=()=>{Ml.set(!u)};function ie(le){Rt[le?"unshift":"push"](()=>{m=le,t(2,m)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&t(11,T=c.filter(le=>{if(g==="")return!0;{let Le=le.title.toLowerCase();const ke=g.toLowerCase();let Ve=!1;return le.chat&&le.chat.messages&&Array.isArray(le.chat.messages)&&(Ve=le.chat.messages.some(Me=>Me.content&&Me.content.toLowerCase().includes(ke))),Le.includes(ke)||Ve}}))},[g,c,m,w,b,E,I,y,k,D,L,T,l,r,n,u,p,_,h,V,M,P,R,z,O,q,B,C,G,K,F,x,Z,N,Y,J,X,Q,te,ue,oe,ve,fe,ce,re,se,De,ae,ee,de,Ce,he,xe,_e,Je,ne,ie]}class Yu extends St{constructor(e){super(),Lt(this,e,Ku,Fu,At,{},null,[-1,-1,-1])}}function Ju(s){let e,t,l,r=s[1].t("Keyboard shortcuts")+"",n,u,c,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,h,m,g,w,b,E=s[1].t("Open new chat")+"",I,y,k,D='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">O</div>',L,T,V,M=s[1].t("Focus chat input")+"",P,R,z,O='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Esc</div>',q,B,C,G=s[1].t("Copy last code block")+"",K,F,x,Z='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">;</div>',N,Y,J,X=s[1].t("Copy last response")+"",Q,te,ue,oe='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">C</div>',ve,fe,ce,re,se=s[1].t("Toggle settings")+"",De,ae,ee,de='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">.</div>',Ce,he,xe,_e=s[1].t("Toggle sidebar")+"",Je,ne,ie,le='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">S</div>',Le,ke,Ve,Me=s[1].t("Delete chat")+"",Ue,we,Ae,me='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300"></div>',Te,Ie,je,be=s[1].t("Show shortcuts")+"",Re,Ge,We,et='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">/</div>',Fe,qe,Ke,Oe=s[1].t("Input commands")+"",Ee,tt,Pe,ze,pe,Ze,ft,ct=s[1].t("Attach file")+"",xt,Ot,kt,_t='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">#</div>',Bt,wt,vt,Dt=s[1].t("Add custom prompt")+"",Nt,yt,Pt,qt='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">/</div>',Tt,Vt,Ht,pt=s[1].t("Select model")+"",Ut,dt,Mt,gt='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">@</div>',mt,Se;return{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("button"),c.innerHTML=p,_=A(),h=f("div"),m=f("div"),g=f("div"),w=f("div"),b=f("div"),I=H(E),y=A(),k=f("div"),k.innerHTML=D,L=A(),T=f("div"),V=f("div"),P=H(M),R=A(),z=f("div"),z.innerHTML=O,q=A(),B=f("div"),C=f("div"),K=H(G),F=A(),x=f("div"),x.innerHTML=Z,N=A(),Y=f("div"),J=f("div"),Q=H(X),te=A(),ue=f("div"),ue.innerHTML=oe,ve=A(),fe=f("div"),ce=f("div"),re=f("div"),De=H(se),ae=A(),ee=f("div"),ee.innerHTML=de,Ce=A(),he=f("div"),xe=f("div"),Je=H(_e),ne=A(),ie=f("div"),ie.innerHTML=le,Le=A(),ke=f("div"),Ve=f("div"),Ue=H(Me),we=A(),Ae=f("div"),Ae.innerHTML=me,Te=A(),Ie=f("div"),je=f("div"),Re=H(be),Ge=A(),We=f("div"),We.innerHTML=et,Fe=A(),qe=f("div"),Ke=f("div"),Ee=H(Oe),tt=A(),Pe=f("div"),ze=f("div"),pe=f("div"),Ze=f("div"),ft=f("div"),xt=H(ct),Ot=A(),kt=f("div"),kt.innerHTML=_t,Bt=A(),wt=f("div"),vt=f("div"),Nt=H(Dt),yt=A(),Pt=f("div"),Pt.innerHTML=qt,Tt=A(),Vt=f("div"),Ht=f("div"),Ut=H(pt),dt=A(),Mt=f("div"),Mt.innerHTML=gt,this.h()},l(Ye){e=d(Ye,"DIV",{class:!0});var He=v(e);t=d(He,"DIV",{class:!0});var bt=v(t);l=d(bt,"DIV",{class:!0});var hl=v(l);n=U(hl,r),hl.forEach(i),u=S(bt),c=d(bt,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(c)!=="svelte-745w2y"&&(c.innerHTML=p),bt.forEach(i),_=S(He),h=d(He,"DIV",{class:!0});var Bl=v(h);m=d(Bl,"DIV",{class:!0});var al=v(m);g=d(al,"DIV",{class:!0});var Jt=v(g);w=d(Jt,"DIV",{class:!0});var pl=v(w);b=d(pl,"DIV",{class:!0});var Hl=v(b);I=U(Hl,E),Hl.forEach(i),y=S(pl),k=d(pl,"DIV",{class:!0,"data-svelte-h":!0}),Be(k)!=="svelte-lcmjz9"&&(k.innerHTML=D),pl.forEach(i),L=S(Jt),T=d(Jt,"DIV",{class:!0});var nl=v(T);V=d(nl,"DIV",{class:!0});var Ul=v(V);P=U(Ul,M),Ul.forEach(i),R=S(nl),z=d(nl,"DIV",{class:!0,"data-svelte-h":!0}),Be(z)!=="svelte-1c7wvdz"&&(z.innerHTML=O),nl.forEach(i),q=S(Jt),B=d(Jt,"DIV",{class:!0});var _l=v(B);C=d(_l,"DIV",{class:!0});var jl=v(C);K=U(jl,G),jl.forEach(i),F=S(_l),x=d(_l,"DIV",{class:!0,"data-svelte-h":!0}),Be(x)!=="svelte-1vgtrzt"&&(x.innerHTML=Z),_l.forEach(i),N=S(Jt),Y=d(Jt,"DIV",{class:!0});var ol=v(Y);J=d(ol,"DIV",{class:!0});var Rl=v(J);Q=U(Rl,X),Rl.forEach(i),te=S(ol),ue=d(ol,"DIV",{class:!0,"data-svelte-h":!0}),Be(ue)!=="svelte-m149u9"&&(ue.innerHTML=oe),ol.forEach(i),Jt.forEach(i),ve=S(al),fe=d(al,"DIV",{class:!0});var Xt=v(fe);ce=d(Xt,"DIV",{class:!0});var gl=v(ce);re=d(gl,"DIV",{class:!0});var ml=v(re);De=U(ml,se),ml.forEach(i),ae=S(gl),ee=d(gl,"DIV",{class:!0,"data-svelte-h":!0}),Be(ee)!=="svelte-1lfzi34"&&(ee.innerHTML=de),gl.forEach(i),Ce=S(Xt),he=d(Xt,"DIV",{class:!0});var bl=v(he);xe=d(bl,"DIV",{class:!0});var zl=v(xe);Je=U(zl,_e),zl.forEach(i),ne=S(bl),ie=d(bl,"DIV",{class:!0,"data-svelte-h":!0}),Be(ie)!=="svelte-1egz3pd"&&(ie.innerHTML=le),bl.forEach(i),Le=S(Xt),ke=d(Xt,"DIV",{class:!0});var wl=v(ke);Ve=d(wl,"DIV",{class:!0});var kl=v(Ve);Ue=U(kl,Me),kl.forEach(i),we=S(wl),Ae=d(wl,"DIV",{class:!0,"data-svelte-h":!0}),Be(Ae)!=="svelte-1b065vn"&&(Ae.innerHTML=me),wl.forEach(i),Te=S(Xt),Ie=d(Xt,"DIV",{class:!0});var yl=v(Ie);je=d(yl,"DIV",{class:!0});var Zl=v(je);Re=U(Zl,be),Zl.forEach(i),Ge=S(yl),We=d(yl,"DIV",{class:!0,"data-svelte-h":!0}),Be(We)!=="svelte-714lzr"&&(We.innerHTML=et),yl.forEach(i),Xt.forEach(i),al.forEach(i),Bl.forEach(i),Fe=S(He),qe=d(He,"DIV",{class:!0});var il=v(qe);Ke=d(il,"DIV",{class:!0});var Wl=v(Ke);Ee=U(Wl,Oe),Wl.forEach(i),il.forEach(i),tt=S(He),Pe=d(He,"DIV",{class:!0});var El=v(Pe);ze=d(El,"DIV",{class:!0});var Il=v(ze);pe=d(Il,"DIV",{class:!0});var tl=v(pe);Ze=d(tl,"DIV",{class:!0});var Dl=v(Ze);ft=d(Dl,"DIV",{class:!0});var Tl=v(ft);xt=U(Tl,ct),Tl.forEach(i),Ot=S(Dl),kt=d(Dl,"DIV",{class:!0,"data-svelte-h":!0}),Be(kt)!=="svelte-11t0lmd"&&(kt.innerHTML=_t),Dl.forEach(i),Bt=S(tl),wt=d(tl,"DIV",{class:!0});var vl=v(wt);vt=d(vl,"DIV",{class:!0});var ql=v(vt);Nt=U(ql,Dt),ql.forEach(i),yt=S(vl),Pt=d(vl,"DIV",{class:!0,"data-svelte-h":!0}),Be(Pt)!=="svelte-1s9pky1"&&(Pt.innerHTML=qt),vl.forEach(i),Tt=S(tl),Vt=d(tl,"DIV",{class:!0});var ul=v(Vt);Ht=d(ul,"DIV",{class:!0});var Gl=v(Ht);Ut=U(Gl,pt),Gl.forEach(i),dt=S(ul),Mt=d(ul,"DIV",{class:!0,"data-svelte-h":!0}),Be(Mt)!=="svelte-oivy56"&&(Mt.innerHTML=gt),ul.forEach(i),tl.forEach(i),Il.forEach(i),El.forEach(i),He.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),o(b,"class","text-sm"),o(k,"class","flex space-x-1 text-xs"),o(w,"class","w-full flex justify-between items-center"),o(V,"class","text-sm"),o(z,"class","flex space-x-1 text-xs"),o(T,"class","w-full flex justify-between items-center"),o(C,"class","text-sm"),o(x,"class","flex space-x-1 text-xs"),o(B,"class","w-full flex justify-between items-center"),o(J,"class","text-sm"),o(ue,"class","flex space-x-1 text-xs"),o(Y,"class","w-full flex justify-between items-center"),o(g,"class","flex flex-col space-y-3 w-full self-start"),o(re,"class","text-sm"),o(ee,"class","flex space-x-1 text-xs"),o(ce,"class","w-full flex justify-between items-center"),o(xe,"class","text-sm"),o(ie,"class","flex space-x-1 text-xs"),o(he,"class","w-full flex justify-between items-center"),o(Ve,"class","text-sm"),o(Ae,"class","flex space-x-1 text-xs"),o(ke,"class","w-full flex justify-between items-center"),o(je,"class","text-sm"),o(We,"class","flex space-x-1 text-xs"),o(Ie,"class","w-full flex justify-between items-center"),o(fe,"class","flex flex-col space-y-3 w-full self-start"),o(m,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(h,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200"),o(Ke,"class","text-lg font-medium self-center"),o(qe,"class","flex justify-between dark:text-gray-300 px-5"),o(ft,"class","text-sm"),o(kt,"class","flex space-x-1 text-xs"),o(Ze,"class","w-full flex justify-between items-center"),o(vt,"class","text-sm"),o(Pt,"class","flex space-x-1 text-xs"),o(wt,"class","w-full flex justify-between items-center"),o(Ht,"class","text-sm"),o(Mt,"class","flex space-x-1 text-xs"),o(Vt,"class","w-full flex justify-between items-center"),o(pe,"class","flex flex-col space-y-3 w-full self-start"),o(ze,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(Pe,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200"),o(e,"class","text-gray-700 dark:text-gray-100")},m(Ye,He){j(Ye,e,He),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(e,_),a(e,h),a(h,m),a(m,g),a(g,w),a(w,b),a(b,I),a(w,y),a(w,k),a(g,L),a(g,T),a(T,V),a(V,P),a(T,R),a(T,z),a(g,q),a(g,B),a(B,C),a(C,K),a(B,F),a(B,x),a(g,N),a(g,Y),a(Y,J),a(J,Q),a(Y,te),a(Y,ue),a(m,ve),a(m,fe),a(fe,ce),a(ce,re),a(re,De),a(ce,ae),a(ce,ee),a(fe,Ce),a(fe,he),a(he,xe),a(xe,Je),a(he,ne),a(he,ie),a(fe,Le),a(fe,ke),a(ke,Ve),a(Ve,Ue),a(ke,we),a(ke,Ae),a(fe,Te),a(fe,Ie),a(Ie,je),a(je,Re),a(Ie,Ge),a(Ie,We),a(e,Fe),a(e,qe),a(qe,Ke),a(Ke,Ee),a(e,tt),a(e,Pe),a(Pe,ze),a(ze,pe),a(pe,Ze),a(Ze,ft),a(ft,xt),a(Ze,Ot),a(Ze,kt),a(pe,Bt),a(pe,wt),a(wt,vt),a(vt,Nt),a(wt,yt),a(wt,Pt),a(pe,Tt),a(pe,Vt),a(Vt,Ht),a(Ht,Ut),a(Vt,dt),a(Vt,Mt),mt||(Se=$(c,"click",s[3]),mt=!0)},p(Ye,He){He&2&&r!==(r=Ye[1].t("Keyboard shortcuts")+"")&&W(n,r),He&2&&E!==(E=Ye[1].t("Open new chat")+"")&&W(I,E),He&2&&M!==(M=Ye[1].t("Focus chat input")+"")&&W(P,M),He&2&&G!==(G=Ye[1].t("Copy last code block")+"")&&W(K,G),He&2&&X!==(X=Ye[1].t("Copy last response")+"")&&W(Q,X),He&2&&se!==(se=Ye[1].t("Toggle settings")+"")&&W(De,se),He&2&&_e!==(_e=Ye[1].t("Toggle sidebar")+"")&&W(Je,_e),He&2&&Me!==(Me=Ye[1].t("Delete chat")+"")&&W(Ue,Me),He&2&&be!==(be=Ye[1].t("Show shortcuts")+"")&&W(Re,be),He&2&&Oe!==(Oe=Ye[1].t("Input commands")+"")&&W(Ee,Oe),He&2&&ct!==(ct=Ye[1].t("Attach file")+"")&&W(xt,ct),He&2&&Dt!==(Dt=Ye[1].t("Add custom prompt")+"")&&W(Nt,Dt),He&2&&pt!==(pt=Ye[1].t("Select model")+"")&&W(Ut,pt)},d(Ye){Ye&&i(e),mt=!1,Se()}}}function Xu(s){let e,t,l;function r(u){s[4](u)}let n={$$slots:{default:[Ju]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new ts({props:n}),Rt.push(()=>el(e,"show",r)),{c(){lt(e.$$.fragment)},l(u){st(e.$$.fragment,u)},m(u,c){rt(e,u,c),l=!0},p(u,[c]){const p={};c&35&&(p.$$scope={dirty:c,ctx:u}),!t&&c&1&&(t=!0,p.show=u[0],$t(()=>t=!1)),e.$set(p)},i(u){l||(ye(e.$$.fragment,u),l=!0)},o(u){Ne(e.$$.fragment,u),l=!1},d(u){at(e,u)}}}function Qu(s,e,t){let l;const r=jt("i18n");nt(s,r,p=>t(1,l=p));let{show:n=!1}=e;const u=()=>{t(0,n=!1)};function c(p){n=p,t(0,n)}return s.$$set=p=>{"show"in p&&t(0,n=p.show)},[n,l,r,u,c]}class $u extends St{constructor(e){super(),Lt(this,e,Qu,Xu,At,{show:0})}}function na(s,e,t){const l=s.slice();return l[18]=e[t],l}function oa(s){let e,t=ot({length:s[6]}),l=[];for(let r=0;r<t.length;r+=1)l[r]=ia(na(s,t,r));return{c(){e=f("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var n=v(e);for(let u=0;u<l.length;u+=1)l[u].l(n);n.forEach(i),this.h()},h(){o(e,"class","confetti-holder svelte-io58ff"),Sl(e,"rounded",s[9]),Sl(e,"cone",s[10]),Sl(e,"no-gravity",s[11])},m(r,n){j(r,e,n);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null)},p(r,n){if(n&20991){t=ot({length:r[6]});let u;for(u=0;u<t.length;u+=1){const c=na(r,t,u);l[u]?l[u].p(c,n):(l[u]=ia(c),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=t.length}n&512&&Sl(e,"rounded",r[9]),n&1024&&Sl(e,"cone",r[10]),n&2048&&Sl(e,"no-gravity",r[11])},d(r){r&&i(e),Ct(l,r)}}}function ia(s){let e;return{c(){e=f("div"),this.h()},l(t){e=d(t,"DIV",{class:!0,style:!0}),v(e).forEach(i),this.h()},h(){o(e,"class","confetti svelte-io58ff"),ht(e,"--fall-distance",s[8]),ht(e,"--size",s[0]+"px"),ht(e,"--color",s[14]()),ht(e,"--skew",Wt(-45,45)+"deg,"+Wt(-45,45)+"deg"),ht(e,"--rotation-xyz",Wt(-10,10)+", "+Wt(-10,10)+", "+Wt(-10,10)),ht(e,"--rotation-deg",Wt(0,360)+"deg"),ht(e,"--translate-y-multiplier",Wt(s[2][0],s[2][1])),ht(e,"--translate-x-multiplier",Wt(s[1][0],s[1][1])),ht(e,"--scale",.1*Wt(2,10)),ht(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),ht(e,"--transition-delay",Wt(s[5][0],s[5][1])+"ms"),ht(e,"--transition-iteration-count",s[4]?"infinite":s[7]),ht(e,"--x-spread",1-s[12])},m(t,l){j(t,e,l)},p(t,l){l&256&&ht(e,"--fall-distance",t[8]),l&1&&ht(e,"--size",t[0]+"px"),l&4&&ht(e,"--translate-y-multiplier",Wt(t[2][0],t[2][1])),l&2&&ht(e,"--translate-x-multiplier",Wt(t[1][0],t[1][1])),l&24&&ht(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&ht(e,"--transition-delay",Wt(t[5][0],t[5][1])+"ms"),l&144&&ht(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&ht(e,"--x-spread",1-t[12])},d(t){t&&i(e)}}}function ec(s){let e,t=!s[13]&&oa(s);return{c(){t&&t.c(),e=It()},l(l){t&&t.l(l),e=It()},m(l,r){t&&t.m(l,r),j(l,e,r)},p(l,[r]){l[13]?t&&(t.d(1),t=null):t?t.p(l,r):(t=oa(l),t.c(),t.m(e.parentNode,e))},i:it,o:it,d(l){l&&i(e),t&&t.d(l)}}}function Wt(s,e){return Math.random()*(e-s)+s}function tc(s,e,t){let{size:l=10}=e,{x:r=[-.5,.5]}=e,{y:n=[.25,1]}=e,{duration:u=2e3}=e,{infinite:c=!1}=e,{delay:p=[0,50]}=e,{colorRange:_=[0,360]}=e,{colorArray:h=[]}=e,{amount:m=50}=e,{iterationCount:g=1}=e,{fallDistance:w="100px"}=e,{rounded:b=!1}=e,{cone:E=!1}=e,{noGravity:I=!1}=e,{xSpread:y=.15}=e,{destroyOnComplete:k=!0}=e,D=!1;Ft(()=>{!k||c||g=="infinite"||setTimeout(()=>t(13,D=!0),(u+p[1])*g)});function L(){return h.length?h[Math.round(Math.random()*(h.length-1))]:`hsl(${Math.round(Wt(_[0],_[1]))}, 75%, 50%)`}return s.$$set=T=>{"size"in T&&t(0,l=T.size),"x"in T&&t(1,r=T.x),"y"in T&&t(2,n=T.y),"duration"in T&&t(3,u=T.duration),"infinite"in T&&t(4,c=T.infinite),"delay"in T&&t(5,p=T.delay),"colorRange"in T&&t(15,_=T.colorRange),"colorArray"in T&&t(16,h=T.colorArray),"amount"in T&&t(6,m=T.amount),"iterationCount"in T&&t(7,g=T.iterationCount),"fallDistance"in T&&t(8,w=T.fallDistance),"rounded"in T&&t(9,b=T.rounded),"cone"in T&&t(10,E=T.cone),"noGravity"in T&&t(11,I=T.noGravity),"xSpread"in T&&t(12,y=T.xSpread),"destroyOnComplete"in T&&t(17,k=T.destroyOnComplete)},[l,r,n,u,c,p,m,g,w,b,E,I,y,D,L,_,h,k]}class lc extends St{constructor(e){super(),Lt(this,e,tc,ec,At,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function ua(s,e,t){const l=s.slice();return l[9]=e[t],l}function ca(s,e,t){const l=s.slice();return l[12]=e[t],l}function fa(s,e,t){const l=s.slice();return l[15]=e[t],l}function da(s){let e,t=ot(Object.keys(s[1])),l=[];for(let r=0;r<t.length;r+=1)l[r]=pa(ua(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=It()},l(r){for(let n=0;n<l.length;n+=1)l[n].l(r);e=It()},m(r,n){for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(r,n);j(r,e,n)},p(r,n){if(n&2){t=ot(Object.keys(r[1]));let u;for(u=0;u<t.length;u+=1){const c=ua(r,t,u);l[u]?l[u].p(c,n):(l[u]=pa(c),l[u].c(),l[u].m(e.parentNode,e))}for(;u<l.length;u+=1)l[u].d(1);l.length=t.length}},d(r){r&&i(e),Ct(l,r)}}}function ha(s){let e,t,l=s[1][s[9]][s[12]][s[15]].title+"",r,n,u,c=s[1][s[9]][s[12]][s[15]].content+"",p;return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),p=H(c),this.h()},l(_){e=d(_,"DIV",{class:!0});var h=v(e);t=d(h,"DIV",{class:!0});var m=v(t);r=U(m,l),m.forEach(i),n=S(h),u=d(h,"DIV",{class:!0});var g=v(u);p=U(g,c),g.forEach(i),h.forEach(i),this.h()},h(){o(t,"class","font-semibold uppercase"),o(u,"class","mb-2 mt-1"),o(e,"class","text-sm mb-2")},m(_,h){j(_,e,h),a(e,t),a(t,r),a(e,n),a(e,u),a(u,p)},p(_,h){h&2&&l!==(l=_[1][_[9]][_[12]][_[15]].title+"")&&W(r,l),h&2&&c!==(c=_[1][_[9]][_[12]][_[15]].content+"")&&W(p,c)},d(_){_&&i(e)}}}function va(s){let e,t,l=s[12]+"",r,n,u,c,p=ot(Object.keys(s[1][s[9]][s[12]])),_=[];for(let h=0;h<p.length;h+=1)_[h]=ha(fa(s,p,h));return{c(){e=f("div"),t=f("div"),r=H(l),u=A(),c=f("div");for(let h=0;h<_.length;h+=1)_[h].c();this.h()},l(h){e=d(h,"DIV",{class:!0});var m=v(e);t=d(m,"DIV",{class:!0});var g=v(t);r=U(g,l),g.forEach(i),u=S(m),c=d(m,"DIV",{class:!0});var w=v(c);for(let b=0;b<_.length;b+=1)_[b].l(w);w.forEach(i),m.forEach(i),this.h()},h(){o(t,"class",n="font-bold uppercase text-xs "+(s[12]==="added"?"text-white bg-blue-600":s[12]==="fixed"?"text-white bg-green-600":s[12]==="changed"?"text-white bg-yellow-600":s[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),o(c,"class","my-2.5 px-1.5"),o(e,"class","")},m(h,m){j(h,e,m),a(e,t),a(t,r),a(e,u),a(e,c);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(c,null)},p(h,m){if(m&2&&l!==(l=h[12]+"")&&W(r,l),m&2&&n!==(n="font-bold uppercase text-xs "+(h[12]==="added"?"text-white bg-blue-600":h[12]==="fixed"?"text-white bg-green-600":h[12]==="changed"?"text-white bg-yellow-600":h[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&o(t,"class",n),m&2){p=ot(Object.keys(h[1][h[9]][h[12]]));let g;for(g=0;g<p.length;g+=1){const w=fa(h,p,g);_[g]?_[g].p(w,m):(_[g]=ha(w),_[g].c(),_[g].m(c,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=p.length}},d(h){h&&i(e),Ct(_,h)}}}function pa(s){let e,t,l,r=s[9]+"",n,u,c=s[1][s[9]].date+"",p,_,h,m,g,w=ot(Object.keys(s[1][s[9]]).filter(_a)),b=[];for(let E=0;E<w.length;E+=1)b[E]=va(ca(s,w,E));return{c(){e=f("div"),t=f("div"),l=H("v"),n=H(r),u=H(" - "),p=H(c),_=A(),h=f("hr"),m=A();for(let E=0;E<b.length;E+=1)b[E].c();g=A(),this.h()},l(E){e=d(E,"DIV",{class:!0});var I=v(e);t=d(I,"DIV",{class:!0});var y=v(t);l=U(y,"v"),n=U(y,r),u=U(y," - "),p=U(y,c),y.forEach(i),_=S(I),h=d(I,"HR",{class:!0}),m=S(I);for(let k=0;k<b.length;k+=1)b[k].l(I);g=S(I),I.forEach(i),this.h()},h(){o(t,"class","font-bold text-xl mb-1 dark:text-white"),o(h,"class","dark:border-gray-800 my-2"),o(e,"class","mb-3 pr-2")},m(E,I){j(E,e,I),a(e,t),a(t,l),a(t,n),a(t,u),a(t,p),a(e,_),a(e,h),a(e,m);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(e,null);a(e,g)},p(E,I){if(I&2&&r!==(r=E[9]+"")&&W(n,r),I&2&&c!==(c=E[1][E[9]].date+"")&&W(p,c),I&2){w=ot(Object.keys(E[1][E[9]]).filter(_a));let y;for(y=0;y<w.length;y+=1){const k=ca(E,w,y);b[y]?b[y].p(k,I):(b[y]=va(k),b[y].c(),b[y].m(e,g))}for(;y<b.length;y+=1)b[y].d(1);b.length=w.length}},d(E){E&&i(e),Ct(b,E)}}}function sc(s){let e,t,l,r=s[2].t("Whats New in")+"",n,u,c,p,_,h,m,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',w,b,E,I=s[2].t("Release Notes")+"",y,k,D,L,T,V,M,P,R,z,O,q,B,C,G,K=s[2].t("Okay, Let's Go!")+"",F,x,Z,N;_=new lc({props:{x:[-1,-.25],y:[0,.5]}});let Y=s[1]&&da(s);return{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=H(s[3]),p=A(),lt(_.$$.fragment),h=A(),m=f("button"),m.innerHTML=g,w=A(),b=f("div"),E=f("div"),y=H(I),k=A(),D=f("div"),L=A(),T=f("div"),V=H("v"),M=H(Ol),P=A(),R=f("div"),z=f("div"),O=f("div"),Y&&Y.c(),q=A(),B=f("div"),C=f("button"),G=f("span"),F=H(K),this.h()},l(J){e=d(J,"DIV",{class:!0});var X=v(e);t=d(X,"DIV",{class:!0});var Q=v(t);l=d(Q,"DIV",{class:!0});var te=v(l);n=U(te,r),u=S(te),c=U(te,s[3]),p=S(te),st(_.$$.fragment,te),te.forEach(i),h=S(Q),m=d(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(m)!=="svelte-14wj4tl"&&(m.innerHTML=g),Q.forEach(i),w=S(X),b=d(X,"DIV",{class:!0});var ue=v(b);E=d(ue,"DIV",{class:!0});var oe=v(E);y=U(oe,I),oe.forEach(i),k=S(ue),D=d(ue,"DIV",{class:!0}),v(D).forEach(i),L=S(ue),T=d(ue,"DIV",{class:!0});var ve=v(T);V=U(ve,"v"),M=U(ve,Ol),ve.forEach(i),ue.forEach(i),X.forEach(i),P=S(J),R=d(J,"DIV",{class:!0});var fe=v(R);z=d(fe,"DIV",{class:!0});var ce=v(z);O=d(ce,"DIV",{class:!0});var re=v(O);Y&&Y.l(re),re.forEach(i),ce.forEach(i),q=S(fe),B=d(fe,"DIV",{class:!0});var se=v(B);C=d(se,"BUTTON",{class:!0});var De=v(C);G=d(De,"SPAN",{class:!0});var ae=v(G);F=U(ae,K),ae.forEach(i),De.forEach(i),se.forEach(i),fe.forEach(i),this.h()},h(){o(l,"class","text-xl font-bold"),o(m,"class","self-center"),o(t,"class","flex justify-between items-start"),o(E,"class","text-sm dark:text-gray-200"),o(D,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),o(T,"class","text-sm dark:text-gray-200"),o(b,"class","flex items-center mt-1"),o(e,"class","px-5 pt-4 dark:text-gray-300 text-gray-700"),o(O,"class","mb-3"),o(z,"class","overflow-y-scroll max-h-80 scrollbar-none"),o(G,"class","relative"),o(C,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(B,"class","flex justify-end pt-3 text-sm font-medium"),o(R,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(J,X){j(J,e,X),a(e,t),a(t,l),a(l,n),a(l,u),a(l,c),a(l,p),rt(_,l,null),a(t,h),a(t,m),a(e,w),a(e,b),a(b,E),a(E,y),a(b,k),a(b,D),a(b,L),a(b,T),a(T,V),a(T,M),j(J,P,X),j(J,R,X),a(R,z),a(z,O),Y&&Y.m(O,null),a(R,q),a(R,B),a(B,C),a(C,G),a(G,F),x=!0,Z||(N=[$(m,"click",s[6]),$(C,"click",s[7])],Z=!0)},p(J,X){(!x||X&4)&&r!==(r=J[2].t("Whats New in")+"")&&W(n,r),(!x||X&8)&&W(c,J[3]),(!x||X&4)&&I!==(I=J[2].t("Release Notes")+"")&&W(y,I),J[1]?Y?Y.p(J,X):(Y=da(J),Y.c(),Y.m(O,null)):Y&&(Y.d(1),Y=null),(!x||X&4)&&K!==(K=J[2].t("Okay, Let's Go!")+"")&&W(F,K)},i(J){x||(ye(_.$$.fragment,J),x=!0)},o(J){Ne(_.$$.fragment,J),x=!1},d(J){J&&(i(e),i(P),i(R)),at(_),Y&&Y.d(),Z=!1,ut(N)}}}function rc(s){let e,t,l;function r(u){s[8](u)}let n={$$slots:{default:[sc]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new ts({props:n}),Rt.push(()=>el(e,"show",r)),{c(){lt(e.$$.fragment)},l(u){st(e.$$.fragment,u)},m(u,c){rt(e,u,c),l=!0},p(u,[c]){const p={};c&262175&&(p.$$scope={dirty:c,ctx:u}),!t&&c&1&&(t=!0,p.show=u[0],$t(()=>t=!1)),e.$set(p)},i(u){l||(ye(e.$$.fragment,u),l=!0)},o(u){Ne(e.$$.fragment,u),l=!1},d(u){at(e,u)}}}const _a=s=>s!=="date";function ac(s,e,t){let l,r,n;nt(s,Ma,g=>t(3,r=g)),nt(s,Cl,g=>t(4,n=g));const u=jt("i18n");nt(s,u,g=>t(2,l=g));let{show:c=!1}=e,p=null;Ft(async()=>{const g=await wn();t(1,p=g)});const _=()=>{localStorage.version=n.version,t(0,c=!1)},h=()=>{localStorage.version=n.version,t(0,c=!1)};function m(g){c=g,t(0,c)}return s.$$set=g=>{"show"in g&&t(0,c=g.show)},[c,p,l,r,n,u,_,h,m]}class nc extends St{constructor(e){super(),Lt(this,e,ac,rc,At,{show:0})}}function oc(s){let e,t="?",l,r;return{c(){e=f("button"),e.textContent=t,this.h()},l(n){e=d(n,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-1rkvnfo"&&(e.textContent=t),this.h()},h(){o(e,"id","show-shortcuts-button"),o(e,"class","text-gray-600 dark:text-gray-300 bg-gray-300/20 w-6 h-6 flex items-center justify-center text-xs rounded-full")},m(n,u){j(n,e,u),s[12](e),l||(r=$(e,"click",s[13]),l=!0)},p:it,d(n){n&&i(e),s[12](null),l=!1,r()}}}function ga(s){let e,t,l,r,n;function u(m,g){if(g&32&&(e=null),e==null&&(e=!["user","admin"].includes(m[5].role)),e)return uc;if(m[3].length>0)return ic}let c=u(s,-1),p=c&&c(s);l=new Yu({});const _=s[11].default,h=ba(_,s,s[21],null);return{c(){p&&p.c(),t=A(),lt(l.$$.fragment),r=A(),h&&h.c()},l(m){p&&p.l(m),t=S(m),st(l.$$.fragment,m),r=S(m),h&&h.l(m)},m(m,g){p&&p.m(m,g),j(m,t,g),rt(l,m,g),j(m,r,g),h&&h.m(m,g),n=!0},p(m,g){c===(c=u(m,g))&&p?p.p(m,g):(p&&p.d(1),p=c&&c(m),p&&(p.c(),p.m(t.parentNode,t))),h&&h.p&&(!n||g&2097152)&&wa(h,_,m,m[21],n?ya(_,m[21],g,null):ka(m[21]),null)},i(m){n||(ye(l.$$.fragment,m),ye(h,m),n=!0)},o(m){Ne(l.$$.fragment,m),Ne(h,m),n=!1},d(m){m&&(i(t),i(r)),p&&p.d(m),at(l,m),h&&h.d(m)}}}function ic(s){let e,t,l,r,n,u="Important Update<br/> Action Required for Chat Log Storage",c,p,_=s[7].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",h,m,g,w=s[7].t("Settings")+"",b,E,I=s[7].t("Chats")+"",y,k,D=s[7].t("Import Chats")+"",L,T,V=s[7].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",M,P,R,z,O="Download & Delete",q,B,C=s[7].t("Close")+"",G,K,F;return{c(){e=f("div"),t=f("div"),l=f("div"),r=f("div"),n=f("div"),n.innerHTML=u,c=A(),p=f("div"),h=H(_),m=A(),g=f("span"),b=H(w),E=H(" > "),y=H(I),k=H(" > "),L=H(D),T=H(". "),M=H(V),P=A(),R=f("div"),z=f("button"),z.textContent=O,q=A(),B=f("button"),G=H(C),this.h()},l(x){e=d(x,"DIV",{class:!0});var Z=v(e);t=d(Z,"DIV",{class:!0});var N=v(t);l=d(N,"DIV",{class:!0});var Y=v(l);r=d(Y,"DIV",{class:!0});var J=v(r);n=d(J,"DIV",{class:!0,"data-svelte-h":!0}),Be(n)!=="svelte-mnqwc6"&&(n.innerHTML=u),c=S(J),p=d(J,"DIV",{class:!0});var X=v(p);h=U(X,_),m=S(X),g=d(X,"SPAN",{class:!0});var Q=v(g);b=U(Q,w),E=U(Q," > "),y=U(Q,I),k=U(Q," > "),L=U(Q,D),Q.forEach(i),T=U(X,". "),M=U(X,V),X.forEach(i),P=S(J),R=d(J,"DIV",{class:!0});var te=v(R);z=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(z)!=="svelte-1ia8i9q"&&(z.textContent=O),q=S(te),B=d(te,"BUTTON",{class:!0});var ue=v(B);G=U(ue,C),ue.forEach(i),te.forEach(i),J.forEach(i),Y.forEach(i),N.forEach(i),Z.forEach(i),this.h()},h(){o(n,"class","text-center dark:text-white text-2xl font-medium z-50"),o(g,"class","font-semibold dark:text-white"),o(p,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(z,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),o(B,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(R,"class","mt-6 mx-auto relative group w-fit"),o(r,"class","max-w-md"),o(l,"class","m-auto pb-44 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-50")},m(x,Z){j(x,e,Z),a(e,t),a(t,l),a(l,r),a(r,n),a(r,c),a(r,p),a(p,h),a(p,m),a(p,g),a(g,b),a(g,E),a(g,y),a(g,k),a(g,L),a(p,T),a(p,M),a(r,P),a(r,R),a(R,z),a(R,q),a(R,B),a(B,G),K||(F=[$(z,"click",s[19]),$(B,"click",s[20])],K=!0)},p(x,Z){Z&128&&_!==(_=x[7].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&W(h,_),Z&128&&w!==(w=x[7].t("Settings")+"")&&W(b,w),Z&128&&I!==(I=x[7].t("Chats")+"")&&W(y,I),Z&128&&D!==(D=x[7].t("Import Chats")+"")&&W(L,D),Z&128&&V!==(V=x[7].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&W(M,V),Z&128&&C!==(C=x[7].t("Close")+"")&&W(G,C)},d(x){x&&i(e),K=!1,ut(F)}}}function uc(s){let e,t,l,r,n,u=`
									<br/>
									`,c,p,_="WebUI",h,m,g,w=s[7].t("Check Again")+"",b,E,I,y=s[7].t("Sign Out")+"",k,D,L;return{c(){e=f("div"),t=f("div"),l=f("div"),r=f("div"),n=f("div"),n.innerHTML=u,c=A(),p=f("div"),p.textContent=_,h=A(),m=f("div"),g=f("button"),b=H(w),E=A(),I=f("button"),k=H(y),this.h()},l(T){e=d(T,"DIV",{class:!0});var V=v(e);t=d(V,"DIV",{class:!0});var M=v(t);l=d(M,"DIV",{class:!0});var P=v(l);r=d(P,"DIV",{class:!0});var R=v(r);n=d(R,"DIV",{class:!0,"data-svelte-h":!0}),Be(n)!=="svelte-11dy8nm"&&(n.innerHTML=u),c=S(R),p=d(R,"DIV",{class:!0,"data-svelte-h":!0}),Be(p)!=="svelte-o73rgl"&&(p.textContent=_),h=S(R),m=d(R,"DIV",{class:!0});var z=v(m);g=d(z,"BUTTON",{class:!0});var O=v(g);b=U(O,w),O.forEach(i),E=S(z),I=d(z,"BUTTON",{class:!0});var q=v(I);k=U(q,y),q.forEach(i),z.forEach(i),R.forEach(i),P.forEach(i),M.forEach(i),V.forEach(i),this.h()},h(){o(n,"class","text-center dark:text-white text-2xl font-medium z-50"),o(p,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(g,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),o(I,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(m,"class","mt-6 mx-auto relative group w-fit"),o(r,"class","max-w-md"),o(l,"class","m-auto pb-10 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-[999]")},m(T,V){j(T,e,V),a(e,t),a(t,l),a(l,r),a(r,n),a(r,c),a(r,p),a(r,h),a(r,m),a(m,g),a(g,b),a(m,E),a(m,I),a(I,k),D||(L=[$(g,"click",s[17]),$(I,"click",s[18])],D=!0)},p(T,V){V&128&&w!==(w=T[7].t("Check Again")+"")&&W(b,w),V&128&&y!==(y=T[7].t("Sign Out")+"")&&W(k,y)},d(T){T&&i(e),D=!1,ut(L)}}}function cc(s){let e,t,l,r,n,u,c,p,_,h,m,g,w,b,E;t=new rl({props:{content:s[7].t("Help"),placement:"left",$$slots:{default:[oc]},$$scope:{ctx:s}}});function I(M){s[14](M)}let y={};s[4]!==void 0&&(y.show=s[4]),r=new $u({props:y}),Rt.push(()=>el(r,"show",I));function k(M){s[15](M)}let D={};s[6]!==void 0&&(D.show=s[6]),c=new uu({props:D}),Rt.push(()=>el(c,"show",k));function L(M){s[16](M)}let T={};s[8]!==void 0&&(T.show=s[8]),h=new nc({props:T}),Rt.push(()=>el(h,"show",L));let V=s[0]&&ga(s);return{c(){e=f("div"),lt(t.$$.fragment),l=A(),lt(r.$$.fragment),u=A(),lt(c.$$.fragment),_=A(),lt(h.$$.fragment),g=A(),w=f("div"),b=f("div"),V&&V.c(),this.h()},l(M){e=d(M,"DIV",{class:!0});var P=v(e);st(t.$$.fragment,P),P.forEach(i),l=S(M),st(r.$$.fragment,M),u=S(M),st(c.$$.fragment,M),_=S(M),st(h.$$.fragment,M),g=S(M),w=d(M,"DIV",{class:!0});var R=v(w);b=d(R,"DIV",{class:!0});var z=v(b);V&&V.l(z),z.forEach(i),R.forEach(i),this.h()},h(){o(e,"class","hidden lg:flex fixed bottom-0 right-0 px-3 py-3 z-10"),o(b,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 min-h-screen overflow-auto flex flex-row"),o(w,"class","app relative")},m(M,P){j(M,e,P),rt(t,e,null),j(M,l,P),rt(r,M,P),j(M,u,P),rt(c,M,P),j(M,_,P),rt(h,M,P),j(M,g,P),j(M,w,P),a(w,b),V&&V.m(b,null),E=!0},p(M,[P]){const R={};P&128&&(R.content=M[7].t("Help")),P&2097170&&(R.$$scope={dirty:P,ctx:M}),t.$set(R);const z={};!n&&P&16&&(n=!0,z.show=M[4],$t(()=>n=!1)),r.$set(z);const O={};!p&&P&64&&(p=!0,O.show=M[6],$t(()=>p=!1)),c.$set(O);const q={};!m&&P&256&&(m=!0,q.show=M[8],$t(()=>m=!1)),h.$set(q),M[0]?V?(V.p(M,P),P&1&&ye(V,1)):(V=ga(M),V.c(),ye(V,1),V.m(b,null)):V&&(zt(),Ne(V,1,1,()=>{V=null}),Zt())},i(M){E||(ye(t.$$.fragment,M),ye(r.$$.fragment,M),ye(c.$$.fragment,M),ye(h.$$.fragment,M),ye(V),E=!0)},o(M){Ne(t.$$.fragment,M),Ne(r.$$.fragment,M),Ne(c.$$.fragment,M),Ne(h.$$.fragment,M),Ne(V),E=!1},d(M){M&&(i(e),i(l),i(u),i(_),i(g),i(w)),at(t),at(r,M),at(c,M),at(h,M),V&&V.d()}}}function fc(s,e,t){let l,r,n,u,c;nt(s,Cl,O=>t(23,l=O)),nt(s,sl,O=>t(5,r=O)),nt(s,$l,O=>t(6,n=O)),nt(s,Ql,O=>t(8,c=O));let{$$slots:p={},$$scope:_}=e;const{saveAs:h}=Ea,m=jt("i18n");nt(s,m,O=>t(7,u=O));let g=!1,w,b=null,E=[],I=!1;const y=async()=>Ia(localStorage.token);Ft(async()=>{if(r===void 0)await Al("/authnow");else if(["user","admin"].includes(r.role)){try{if(t(2,b=await Kn("Chats",1)),b){const O=await b.getAllFromIndex("chats","timestamp");t(3,E=O.map((q,B)=>O[O.length-1-B])),E.length===0&&await Cs("Chats")}console.log(b)}catch{}await Kt.set(await y()),await xl.set(JSON.parse(localStorage.getItem("settings")??"{}")),await Is.set(await Fa(localStorage.token)),await rn.set(await Ka(localStorage.token)),await an.set(await Ya(localStorage.token)),await us.set(await Va(localStorage.token)),Is.subscribe(async()=>{await Kt.set(await y())}),document.addEventListener("keydown",function(O){var C,G,K,F;const q=O.ctrlKey||O.metaKey,B=O.shiftKey;if(q&&B&&O.key.toLowerCase()==="o"&&(O.preventDefault(),console.log("newChat"),(C=document.getElementById("sidebar-new-chat-button"))==null||C.click()),B&&O.key==="Escape"&&(O.preventDefault(),console.log("focusInput"),(G=document.getElementById("chat-textarea"))==null||G.focus()),q&&B&&O.key===";"){O.preventDefault(),console.log("copyLastCodeBlock");const x=[...document.getElementsByClassName("copy-code-button")].at(-1);x==null||x.click()}if(q&&B&&O.key.toLowerCase()==="c"){O.preventDefault(),console.log("copyLastResponse");const x=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(x),x==null||x.click()}q&&B&&O.key.toLowerCase()==="s"&&(O.preventDefault(),console.log("toggleSidebar"),(K=document.getElementById("sidebar-toggle-button"))==null||K.click()),q&&B&&O.key==="Backspace"&&(O.preventDefault(),console.log("deleteChat"),(F=document.getElementById("delete-chat-button"))==null||F.click()),q&&O.key==="."&&(O.preventDefault(),console.log("openSettings"),$l.set(!n)),q&&O.key==="/"&&(O.preventDefault(),console.log("showShortcuts"),w.click())}),r.role==="admin"&&Ql.set(localStorage.version!==l.version),await Pa()}t(0,g=!0)});function k(O){Rt[O?"unshift":"push"](()=>{w=O,t(1,w)})}const D=()=>{t(4,I=!I)};function L(O){I=O,t(4,I)}function T(O){n=O,$l.set(n)}function V(O){c=O,Ql.set(c)}const M=async()=>{location.href="/"},P=async()=>{localStorage.removeItem("token"),location.href="/authnow"},R=async()=>{let O=new Blob([JSON.stringify(E)],{type:"application/json"});h(O,`chat-export-${Date.now()}.json`);const q=b.transaction("chats","readwrite");await Promise.all([q.store.clear(),q.done]),await Cs("Chats"),t(3,E=[])},z=async()=>{t(3,E=[])};return s.$$set=O=>{"$$scope"in O&&t(21,_=O.$$scope)},[g,w,b,E,I,r,n,u,c,h,m,p,k,D,L,T,V,M,P,R,z,_]}class Pc extends St{constructor(e){super(),Lt(this,e,fc,cc,At,{})}}export{Pc as component};
