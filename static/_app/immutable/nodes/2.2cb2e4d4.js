import{s as At,f,l as H,a as A,g as d,h as p,m as U,d as i,c as S,j as o,i as B,r as a,u as $,O as Ol,n as W,C as lt,v as ut,P as jt,w as st,Q as me,z as Qe,A as $e,R as Ne,S as Ql,o as Ft,p as Rt,e as It,T as Gt,U as Et,K as Ct,V as ga,W as Yt,k as ht,X as Nl,Y as $t,E as ba,F as wa,G as ka,H as ya,Z as Sl,t as Pa}from"../chunks/scheduler.7238b518.js";import{S as St,i as Lt,b as rt,d as at,m as nt,a as Ee,g as zt,t as Pe,c as Zt,e as ot,f as el,h as ks}from"../chunks/index.5768aeba.js";import{a as Xe}from"../chunks/Toaster.svelte_svelte_type_style_lang.93775e0f.js";import{f as Ea}from"../chunks/FileSaver.min.898eb36f.js";import{g as Al}from"../chunks/navigation.571c398a.js";import{g as Fl,c as Ba,a as ys,b as ts,s as Kl,d as Ha,e as Ua,f as ja,h as Ra,i as za,j as Za,u as Wa,k as qa,l as Ga,m as Ia}from"../chunks/index.fe6b9b61.js";import{g as Fa}from"../chunks/index.e83fe216.js";import{g as Ka}from"../chunks/index.682ed774.js";import{g as Ya}from"../chunks/index.666d2e47.js";import{g as Ja,a as Xa,d as Qa,b as ul,c as Es,e as ls,f as Da,h as Ta,i as $a,u as en,j as tn,k as Va}from"../chunks/index.cdf12964.js";import{u as sl,M as Ll,m as Kt,t as ln,c as Cl,s as xl,b as Qt,W as Ma,d as $l,e as Yl,f as Ml,g as us,a as sn,h as Xl,i as ss,j as Is,p as rn,k as an}from"../chunks/index.e32116ac.js";import{M as es,d as Ds,f as Ts}from"../chunks/dayjs.min.6373c1fd.js";import{u as nn,g as on,a as un,c as cn}from"../chunks/index.a6e13f43.js";import{g as fn}from"../chunks/index.28bf98d3.js";import{T as fl}from"../chunks/create.d7af4d12.js";import{e as it}from"../chunks/each.b7dbf2c4.js";import{g as Aa,a as _s,p as Vs,d as Ms,c as dn,u as hn,b as vn,e as pn,f as _n}from"../chunks/index.d9cb14a2.js";import{g as mn}from"../chunks/index.94a4fc1b.js";import{A as gn}from"../chunks/AdvancedParams.9c68df98.js";import{g as Sa,a as bn,b as wn}from"../chunks/index.95cec202.js";import{s as kn,D as yn,M as rs,T as En,S as In}from"../chunks/ShareChatModal.c93e8528.js";import{g as Dn,u as Tn,a as Vn,b as as,c as Mn,d as An,e as Sn,f as Ln,h as Cn,i as As,j as xn,k as On,l as Nn,m as Pn,n as Bn}from"../chunks/index.99a7719f.js";import{M as Hn}from"../chunks/menu-trigger.410969e8.js";import{f as Un}from"../chunks/index.1df8947f.js";const jn=(s,e)=>e.some(t=>s instanceof t);let Ss,Ls;function Rn(){return Ss||(Ss=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zn(){return Ls||(Ls=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const La=new WeakMap,cs=new WeakMap,Ca=new WeakMap,ns=new WeakMap,ms=new WeakMap;function Zn(s){const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("success",n),s.removeEventListener("error",u)},n=()=>{t(cl(s.result)),r()},u=()=>{l(s.error),r()};s.addEventListener("success",n),s.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&La.set(t,s)}).catch(()=>{}),ms.set(e,s),e}function Wn(s){if(cs.has(s))return;const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("complete",n),s.removeEventListener("error",u),s.removeEventListener("abort",u)},n=()=>{t(),r()},u=()=>{l(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",n),s.addEventListener("error",u),s.addEventListener("abort",u)});cs.set(s,e)}let fs={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return cs.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Ca.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cl(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function qn(s){fs=s(fs)}function Gn(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call(os(this),e,...t);return Ca.set(l,e.sort?e.sort():[e]),cl(l)}:zn().includes(s)?function(...e){return s.apply(os(this),e),cl(La.get(this))}:function(...e){return cl(s.apply(os(this),e))}}function Fn(s){return typeof s=="function"?Gn(s):(s instanceof IDBTransaction&&Wn(s),jn(s,Rn())?new Proxy(s,fs):s)}function cl(s){if(s instanceof IDBRequest)return Zn(s);if(ns.has(s))return ns.get(s);const e=Fn(s);return e!==s&&(ns.set(s,e),ms.set(e,s)),e}const os=s=>ms.get(s);function Kn(s,e,{blocked:t,upgrade:l,blocking:r,terminated:n}={}){const u=indexedDB.open(s,e),c=cl(u);return l&&u.addEventListener("upgradeneeded",v=>{l(cl(u.result),v.oldVersion,v.newVersion,cl(u.transaction),v)}),t&&u.addEventListener("blocked",v=>t(v.oldVersion,v.newVersion,v)),c.then(v=>{n&&v.addEventListener("close",()=>n()),r&&v.addEventListener("versionchange",_=>r(_.oldVersion,_.newVersion,_))}).catch(()=>{}),c}function Cs(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),cl(t).then(()=>{})}const Yn=["get","getKey","getAll","getAllKeys","count"],Jn=["put","add","delete","clear"],is=new Map;function xs(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(is.get(e))return is.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,r=Jn.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(r||Yn.includes(t)))return;const n=async function(u,...c){const v=this.transaction(u,r?"readwrite":"readonly");let _=v.store;return l&&(_=_.index(c.shift())),(await Promise.all([_[t](...c),r&&v.done]))[0]};return is.set(e,n),n}qn(s=>({...s,get:(e,t,l)=>xs(e,t)||s.get(e,t,l),has:(e,t)=>!!xs(e,t)||s.has(e,t)}));function Os(s){let e,t,l,r=s[4].t("Current Password")+"",n,u,c,v,_,h,g,m=s[4].t("New Password")+"",w,b,y,I,E,k,D,L=s[4].t("Confirm Password")+"",T,V,M,N,R,z,O,q=s[4].t("Update password")+"",P,C,F;return{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("div"),v=f("input"),_=A(),h=f("div"),g=f("div"),w=H(m),b=A(),y=f("div"),I=f("input"),E=A(),k=f("div"),D=f("div"),T=H(L),V=A(),M=f("div"),N=f("input"),R=A(),z=f("div"),O=f("button"),P=H(q),this.h()},l(G){e=d(G,"DIV",{class:!0});var K=p(e);t=d(K,"DIV",{class:!0});var x=p(t);l=d(x,"DIV",{class:!0});var Z=p(l);n=U(Z,r),Z.forEach(i),u=S(x),c=d(x,"DIV",{class:!0});var j=p(c);v=d(j,"INPUT",{class:!0,type:!0,autocomplete:!0}),j.forEach(i),x.forEach(i),_=S(K),h=d(K,"DIV",{class:!0});var Y=p(h);g=d(Y,"DIV",{class:!0});var J=p(g);w=U(J,m),J.forEach(i),b=S(Y),y=d(Y,"DIV",{class:!0});var X=p(y);I=d(X,"INPUT",{class:!0,type:!0,autocomplete:!0}),X.forEach(i),Y.forEach(i),E=S(K),k=d(K,"DIV",{class:!0});var Q=p(k);D=d(Q,"DIV",{class:!0});var se=p(D);T=U(se,L),se.forEach(i),V=S(Q),M=d(Q,"DIV",{class:!0});var ue=p(M);N=d(ue,"INPUT",{class:!0,type:!0,autocomplete:!0}),ue.forEach(i),Q.forEach(i),K.forEach(i),R=S(G),z=d(G,"DIV",{class:!0});var ie=p(z);O=d(ie,"BUTTON",{class:!0});var pe=p(O);P=U(pe,q),pe.forEach(i),ie.forEach(i),this.h()},h(){o(l,"class","mb-1 text-xs text-gray-500"),o(v,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(v,"type","password"),o(v,"autocomplete","current-password"),v.required=!0,o(c,"class","flex-1"),o(t,"class","flex flex-col w-full"),o(g,"class","mb-1 text-xs text-gray-500"),o(I,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(I,"type","password"),o(I,"autocomplete","new-password"),I.required=!0,o(y,"class","flex-1"),o(h,"class","flex flex-col w-full"),o(D,"class","mb-1 text-xs text-gray-500"),o(N,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(N,"type","password"),o(N,"autocomplete","off"),N.required=!0,o(M,"class","flex-1"),o(k,"class","flex flex-col w-full"),o(e,"class","py-2.5 space-y-1.5"),o(O,"class","px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium"),o(z,"class","mt-3 flex justify-end")},m(G,K){B(G,e,K),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(c,v),me(v,s[1]),a(e,_),a(e,h),a(h,g),a(g,w),a(h,b),a(h,y),a(y,I),me(I,s[2]),a(e,E),a(e,k),a(k,D),a(D,T),a(k,V),a(k,M),a(M,N),me(N,s[3]),B(G,R,K),B(G,z,K),a(z,O),a(O,P),C||(F=[$(v,"input",s[8]),$(I,"input",s[9]),$(N,"input",s[10])],C=!0)},p(G,K){K&16&&r!==(r=G[4].t("Current Password")+"")&&W(n,r),K&2&&v.value!==G[1]&&me(v,G[1]),K&16&&m!==(m=G[4].t("New Password")+"")&&W(w,m),K&4&&I.value!==G[2]&&me(I,G[2]),K&16&&L!==(L=G[4].t("Confirm Password")+"")&&W(T,L),K&8&&N.value!==G[3]&&me(N,G[3]),K&16&&q!==(q=G[4].t("Update password")+"")&&W(P,q)},d(G){G&&(i(e),i(R),i(z)),C=!1,ut(F)}}}function Xn(s){let e,t,l,r=s[4].t("Change Password")+"",n,u,c,v=(s[0]?s[4].t("Hide"):s[4].t("Show"))+"",_,h,g,m,w=s[0]&&Os(s);return{c(){e=f("form"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("button"),_=H(v),h=A(),w&&w.c(),this.h()},l(b){e=d(b,"FORM",{class:!0});var y=p(e);t=d(y,"DIV",{class:!0});var I=p(t);l=d(I,"DIV",{class:!0});var E=p(l);n=U(E,r),E.forEach(i),u=S(I),c=d(I,"BUTTON",{class:!0,type:!0});var k=p(c);_=U(k,v),k.forEach(i),I.forEach(i),h=S(y),w&&w.l(y),y.forEach(i),this.h()},h(){o(l,"class","font-medium"),o(c,"class","text-xs font-medium text-gray-500"),o(c,"type","button"),o(t,"class","flex justify-between items-center text-sm"),o(e,"class","flex flex-col text-sm")},m(b,y){B(b,e,y),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(c,_),a(e,h),w&&w.m(e,null),g||(m=[$(c,"click",s[7]),$(e,"submit",Ol(s[11]))],g=!0)},p(b,[y]){y&16&&r!==(r=b[4].t("Change Password")+"")&&W(n,r),y&17&&v!==(v=(b[0]?b[4].t("Hide"):b[4].t("Show"))+"")&&W(_,v),b[0]?w?w.p(b,y):(w=Os(b),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},i:lt,o:lt,d(b){b&&i(e),w&&w.d(),g=!1,ut(m)}}}function Qn(s,e,t){let l;const r=jt("i18n");st(s,r,y=>t(4,l=y));let n=!1,u="",c="",v="";const _=async()=>{c===v?(await nn(localStorage.token,u,c).catch(I=>(Xe.error(I),null))&&Xe.success(l.t("Successfully updated.")),t(1,u=""),t(2,c=""),t(3,v="")):(Xe.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,c=""),t(3,v=""))},h=()=>{t(0,n=!n)};function g(){u=this.value,t(1,u)}function m(){c=this.value,t(2,c)}function w(){v=this.value,t(3,v)}return[n,u,c,v,l,r,_,h,g,m,w,()=>{_()}]}class $n extends St{constructor(e){super(),Lt(this,e,Qn,Xn,At,{})}}function eo(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=p(e);t=$e(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M12 4.5v15m7.5-7.5h-15"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,r){B(l,e,r),a(e,t)},p(l,[r]){r&2&&o(e,"stroke-width",l[1]),r&1&&o(e,"class",l[0])},i:lt,o:lt,d(l){l&&i(e)}}}function to(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class lo extends St{constructor(e){super(),Lt(this,e,to,eo,At,{className:0,strokeWidth:1})}}function Ns(s){let e,t,l,r,n=s[11].t("JWT Token")+"",u,c,v,_,h,g,m,w,b,y,I,E,k,D,L=s[11].t("API Key")+"",T,V,M,N,R,z,O,q;function P(J,X){return J[4]?ro:so}let C=P(s),F=C(s);function G(J,X){return J[5]?no:ao}let K=G(s),x=K(s);const Z=[io,oo],j=[];function Y(J,X){return J[6]?0:1}return N=Y(s),R=j[N]=Z[N](s),{c(){e=f("div"),t=f("div"),l=f("div"),r=f("div"),u=H(n),c=A(),v=f("div"),_=f("div"),h=f("input"),m=A(),w=f("button"),F.c(),b=A(),y=f("button"),x.c(),I=A(),E=f("div"),k=f("div"),D=f("div"),T=H(L),V=A(),M=f("div"),R.c(),this.h()},l(J){e=d(J,"DIV",{class:!0});var X=p(e);t=d(X,"DIV",{class:!0});var Q=p(t);l=d(Q,"DIV",{class:!0});var se=p(l);r=d(se,"DIV",{class:!0});var ue=p(r);u=U(ue,n),ue.forEach(i),se.forEach(i),c=S(Q),v=d(Q,"DIV",{class:!0});var ie=p(v);_=d(ie,"DIV",{class:!0});var pe=p(_);h=d(pe,"INPUT",{class:!0,type:!0}),m=S(pe),w=d(pe,"BUTTON",{class:!0});var he=p(w);F.l(he),he.forEach(i),pe.forEach(i),b=S(ie),y=d(ie,"BUTTON",{class:!0});var ce=p(y);x.l(ce),ce.forEach(i),ie.forEach(i),Q.forEach(i),I=S(X),E=d(X,"DIV",{class:!0});var re=p(E);k=d(re,"DIV",{class:!0});var le=p(k);D=d(le,"DIV",{class:!0});var De=p(D);T=U(De,L),De.forEach(i),le.forEach(i),V=S(re),M=d(re,"DIV",{class:!0});var ae=p(M);R.l(ae),ae.forEach(i),re.forEach(i),X.forEach(i),this.h()},h(){o(r,"class","self-center text-xs font-medium"),o(l,"class","flex justify-between w-full"),o(h,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm bg-white dark:text-gray-300 dark:bg-gray-850 outline-none"),o(h,"type",g=s[4]?"text":"password"),h.value=localStorage.token,h.disabled=!0,o(w,"class","px-2 transition rounded-r-lg bg-white dark:bg-gray-850"),o(_,"class","flex w-full"),o(y,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg"),o(v,"class","flex mt-2"),o(t,"class","justify-between w-full"),o(D,"class","self-center text-xs font-medium"),o(k,"class","flex justify-between w-full"),o(M,"class","flex mt-2"),o(E,"class","justify-between w-full"),o(e,"class","flex flex-col gap-4")},m(J,X){B(J,e,X),a(e,t),a(t,l),a(l,r),a(r,u),a(t,c),a(t,v),a(v,_),a(_,h),a(_,m),a(_,w),F.m(w,null),a(v,b),a(v,y),x.m(y,null),a(e,I),a(e,E),a(E,k),a(k,D),a(D,T),a(E,V),a(E,M),j[N].m(M,null),z=!0,O||(q=[$(w,"click",s[23]),$(y,"click",s[24])],O=!0)},p(J,X){(!z||X&2048)&&n!==(n=J[11].t("JWT Token")+"")&&W(u,n),(!z||X&16&&g!==(g=J[4]?"text":"password"))&&o(h,"type",g),C!==(C=P(J))&&(F.d(1),F=C(J),F&&(F.c(),F.m(w,null))),K!==(K=G(J))&&(x.d(1),x=K(J),x&&(x.c(),x.m(y,null))),(!z||X&2048)&&L!==(L=J[11].t("API Key")+"")&&W(T,L);let Q=N;N=Y(J),N===Q?j[N].p(J,X):(zt(),Pe(j[Q],1,1,()=>{j[Q]=null}),Zt(),R=j[N],R?R.p(J,X):(R=j[N]=Z[N](J),R.c()),Ee(R,1),R.m(M,null))},i(J){z||(Ee(R),z=!0)},o(J){Pe(R),z=!1},d(J){J&&i(e),F.d(),x.d(),j[N].d(),O=!1,ut(q)}}}function so(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=p(e);t=$e(n,"path",{d:!0}),p(t).forEach(i),l=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){B(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function ro(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=p(e);t=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(i),l=$e(n,"path",{d:!0}),p(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){B(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function ao(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=p(e);t=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(i),l=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){B(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function no(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=p(e);t=$e(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,r){B(l,e,r),a(e,t)},d(l){l&&i(e)}}}function oo(s){let e,t,l,r=s[11].t("Create new secret key")+"",n,u,c,v;return t=new lo({props:{strokeWidth:"2",className:" size-3.5"}}),{c(){e=f("button"),rt(t.$$.fragment),l=A(),n=H(r),this.h()},l(_){e=d(_,"BUTTON",{class:!0});var h=p(e);at(t.$$.fragment,h),l=S(h),n=U(h,r),h.forEach(i),this.h()},h(){o(e,"class","flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition")},m(_,h){B(_,e,h),nt(t,e,null),a(e,l),a(e,n),u=!0,c||(v=$(e,"click",s[28]),c=!0)},p(_,h){(!u||h&2048)&&r!==(r=_[11].t("Create new secret key")+"")&&W(n,r)},i(_){u||(Ee(t.$$.fragment,_),u=!0)},o(_){Pe(t.$$.fragment,_),u=!1},d(_){_&&i(e),ot(t),c=!1,v()}}}function io(s){let e,t,l,r,n,u,c,v,_,h,g,m;function w(D,L){return D[7]?co:uo}let b=w(s),y=b(s);function I(D,L){return D[8]?ho:fo}let E=I(s),k=E(s);return _=new fl({props:{content:s[11].t("Create new key"),$$slots:{default:[vo]},$$scope:{ctx:s}}}),{c(){e=f("div"),t=f("input"),r=A(),n=f("button"),y.c(),u=A(),c=f("button"),k.c(),v=A(),rt(_.$$.fragment),this.h()},l(D){e=d(D,"DIV",{class:!0});var L=p(e);t=d(L,"INPUT",{class:!0,type:!0}),r=S(L),n=d(L,"BUTTON",{class:!0});var T=p(n);y.l(T),T.forEach(i),L.forEach(i),u=S(D),c=d(D,"BUTTON",{class:!0});var V=p(c);k.l(V),V.forEach(i),v=S(D),at(_.$$.fragment,D),this.h()},h(){o(t,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm bg-white dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"type",l=s[7]?"text":"password"),t.value=s[6],t.disabled=!0,o(n,"class","px-2 transition rounded-r-lg bg-white dark:bg-gray-850"),o(e,"class","flex w-full"),o(c,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg")},m(D,L){B(D,e,L),a(e,t),a(e,r),a(e,n),y.m(n,null),B(D,u,L),B(D,c,L),k.m(c,null),B(D,v,L),nt(_,D,L),h=!0,g||(m=[$(n,"click",s[25]),$(c,"click",s[26])],g=!0)},p(D,L){(!h||L&128&&l!==(l=D[7]?"text":"password"))&&o(t,"type",l),(!h||L&64&&t.value!==D[6])&&(t.value=D[6]),b!==(b=w(D))&&(y.d(1),y=b(D),y&&(y.c(),y.m(n,null))),E!==(E=I(D))&&(k.d(1),k=E(D),k&&(k.c(),k.m(c,null)));const T={};L&2048&&(T.content=D[11].t("Create new key")),L&1073741824&&(T.$$scope={dirty:L,ctx:D}),_.$set(T)},i(D){h||(Ee(_.$$.fragment,D),h=!0)},o(D){Pe(_.$$.fragment,D),h=!1},d(D){D&&(i(e),i(u),i(c),i(v)),y.d(),k.d(),ot(_,D),g=!1,ut(m)}}}function uo(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=p(e);t=$e(n,"path",{d:!0}),p(t).forEach(i),l=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){B(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function co(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=p(e);t=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(i),l=$e(n,"path",{d:!0}),p(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){B(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function fo(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=p(e);t=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(i),l=$e(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){B(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function ho(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=p(e);t=$e(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,r){B(l,e,r),a(e,t)},d(l){l&&i(e)}}}function vo(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>',l,r;return{c(){e=f("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-olpspw"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg")},m(n,u){B(n,e,u),l||(r=$(e,"click",s[27]),l=!0)},p:lt,d(n){n&&i(e),l=!1,r()}}}function po(s){let e,t,l,r,n,u,c,v,_,h,g,m,w,b='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',y,I,E,k=s[11].t("Profile Image")+"",D,L,T,V,M=s[11].t("Use Initials")+"",N,R,z,O=s[11].t("Use Gravatar")+"",q,P,C,F=s[11].t("Remove")+"",G,K,x,Z,j,Y=s[11].t("Name")+"",J,X,Q,se,ue,ie,pe,he,ce,re,le,De,ae=s[11].t("API keys")+"",ee,fe,Ce,de=(s[3]?s[11].t("Hide"):s[11].t("Show"))+"",xe,_e,Je,ne,oe,te=s[11].t("Save")+"",Le,ke,Ve,Me;pe=new $n({});let Ue=s[3]&&Ns(s);return{c(){e=f("div"),t=f("div"),l=f("input"),r=A(),n=f("div"),u=f("div"),c=f("div"),v=f("div"),_=f("button"),h=f("img"),m=A(),w=f("div"),w.innerHTML=b,y=A(),I=f("div"),E=f("div"),D=H(k),L=A(),T=f("div"),V=f("button"),N=H(M),R=A(),z=f("button"),q=H(O),P=A(),C=f("button"),G=H(F),K=A(),x=f("div"),Z=f("div"),j=f("div"),J=H(Y),X=A(),Q=f("div"),se=f("input"),ue=A(),ie=f("div"),rt(pe.$$.fragment),he=A(),ce=f("hr"),re=A(),le=f("div"),De=f("div"),ee=H(ae),fe=A(),Ce=f("button"),xe=H(de),_e=A(),Ue&&Ue.c(),Je=A(),ne=f("div"),oe=f("button"),Le=H(te),this.h()},l(we){e=d(we,"DIV",{class:!0});var Ae=p(e);t=d(Ae,"DIV",{class:!0});var ge=p(t);l=d(ge,"INPUT",{id:!0,type:!0,accept:!0}),r=S(ge),n=d(ge,"DIV",{class:!0});var Te=p(n);u=d(Te,"DIV",{class:!0});var Ie=p(u);c=d(Ie,"DIV",{class:!0});var je=p(c);v=d(je,"DIV",{class:!0});var be=p(v);_=d(be,"BUTTON",{class:!0,type:!0});var Re=p(_);h=d(Re,"IMG",{src:!0,alt:!0,class:!0}),m=S(Re),w=d(Re,"DIV",{class:!0,"data-svelte-h":!0}),Ne(w)!=="svelte-11ivb2j"&&(w.innerHTML=b),Re.forEach(i),be.forEach(i),je.forEach(i),y=S(Ie),I=d(Ie,"DIV",{class:!0});var Ge=p(I);E=d(Ge,"DIV",{class:!0});var We=p(E);D=U(We,k),We.forEach(i),L=S(Ge),T=d(Ge,"DIV",{});var et=p(T);V=d(et,"BUTTON",{class:!0});var Fe=p(V);N=U(Fe,M),Fe.forEach(i),R=S(et),z=d(et,"BUTTON",{class:!0});var qe=p(z);q=U(qe,O),qe.forEach(i),P=S(et),C=d(et,"BUTTON",{class:!0});var Ke=p(C);G=U(Ke,F),Ke.forEach(i),et.forEach(i),Ge.forEach(i),Ie.forEach(i),K=S(Te),x=d(Te,"DIV",{class:!0});var Oe=p(x);Z=d(Oe,"DIV",{class:!0});var ye=p(Z);j=d(ye,"DIV",{class:!0});var tt=p(j);J=U(tt,Y),tt.forEach(i),X=S(ye),Q=d(ye,"DIV",{class:!0});var Be=p(Q);se=d(Be,"INPUT",{class:!0,type:!0}),Be.forEach(i),ye.forEach(i),Oe.forEach(i),Te.forEach(i),ue=S(ge),ie=d(ge,"DIV",{class:!0});var ze=p(ie);at(pe.$$.fragment,ze),ze.forEach(i),he=S(ge),ce=d(ge,"HR",{class:!0}),re=S(ge),le=d(ge,"DIV",{class:!0});var ve=p(le);De=d(ve,"DIV",{class:!0});var Ze=p(De);ee=U(Ze,ae),Ze.forEach(i),fe=S(ve),Ce=d(ve,"BUTTON",{class:!0,type:!0});var ft=p(Ce);xe=U(ft,de),ft.forEach(i),ve.forEach(i),_e=S(ge),Ue&&Ue.l(ge),ge.forEach(i),Je=S(Ae),ne=d(Ae,"DIV",{class:!0});var ct=p(ne);oe=d(ct,"BUTTON",{class:!0});var xt=p(oe);Le=U(xt,te),xt.forEach(i),ct.forEach(i),Ae.forEach(i),this.h()},h(){o(l,"id","profile-image-input"),o(l,"type","file"),l.hidden=!0,o(l,"accept","image/*"),Ql(h.src,g=s[1]!==""?s[1]:Fl(s[2]))||o(h,"src",g),o(h,"alt","profile"),o(h,"class","rounded-full size-16 object-cover"),o(w,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),o(_,"class","relative rounded-full dark:bg-gray-700"),o(_,"type","button"),o(v,"class","self-center mt-2"),o(c,"class","flex flex-col"),o(E,"class","mb-0.5 text-sm font-medium"),o(V,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),o(z,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),o(C,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1"),o(I,"class","flex-1 flex flex-col self-center gap-0.5"),o(u,"class","flex space-x-5"),o(j,"class","mb-1 text-xs font-medium"),o(se,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(se,"type","text"),se.required=!0,o(Q,"class","flex-1"),o(Z,"class","flex flex-col w-full"),o(x,"class","pt-0.5"),o(n,"class","space-y-1"),o(ie,"class","py-0.5"),o(ce,"class","dark:border-gray-700 my-4"),o(De,"class","font-medium"),o(Ce,"class","text-xs font-medium text-gray-500"),o(Ce,"type","button"),o(le,"class","flex justify-between items-center text-sm"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[22rem]"),o(oe,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(ne,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(we,Ae){B(we,e,Ae),a(e,t),a(t,l),s[15](l),a(t,r),a(t,n),a(n,u),a(u,c),a(c,v),a(v,_),a(_,h),a(_,m),a(_,w),a(u,y),a(u,I),a(I,E),a(E,D),a(I,L),a(I,T),a(T,V),a(V,N),a(T,R),a(T,z),a(z,q),a(T,P),a(T,C),a(C,G),a(n,K),a(n,x),a(x,Z),a(Z,j),a(j,J),a(Z,X),a(Z,Q),a(Q,se),me(se,s[2]),a(t,ue),a(t,ie),nt(pe,ie,null),a(t,he),a(t,ce),a(t,re),a(t,le),a(le,De),a(De,ee),a(le,fe),a(le,Ce),a(Ce,xe),a(t,_e),Ue&&Ue.m(t,null),a(e,Je),a(e,ne),a(ne,oe),a(oe,Le),ke=!0,Ve||(Me=[$(l,"change",s[16]),$(_,"click",s[17]),$(V,"click",s[18]),$(z,"click",s[19]),$(C,"click",s[20]),$(se,"input",s[21]),$(Ce,"click",s[22]),$(oe,"click",s[29])],Ve=!0)},p(we,[Ae]){(!ke||Ae&6&&!Ql(h.src,g=we[1]!==""?we[1]:Fl(we[2])))&&o(h,"src",g),(!ke||Ae&2048)&&k!==(k=we[11].t("Profile Image")+"")&&W(D,k),(!ke||Ae&2048)&&M!==(M=we[11].t("Use Initials")+"")&&W(N,M),(!ke||Ae&2048)&&O!==(O=we[11].t("Use Gravatar")+"")&&W(q,O),(!ke||Ae&2048)&&F!==(F=we[11].t("Remove")+"")&&W(G,F),(!ke||Ae&2048)&&Y!==(Y=we[11].t("Name")+"")&&W(J,Y),Ae&4&&se.value!==we[2]&&me(se,we[2]),(!ke||Ae&2048)&&ae!==(ae=we[11].t("API keys")+"")&&W(ee,ae),(!ke||Ae&2056)&&de!==(de=(we[3]?we[11].t("Hide"):we[11].t("Show"))+"")&&W(xe,de),we[3]?Ue?(Ue.p(we,Ae),Ae&8&&Ee(Ue,1)):(Ue=Ns(we),Ue.c(),Ee(Ue,1),Ue.m(t,null)):Ue&&(zt(),Pe(Ue,1,1,()=>{Ue=null}),Zt()),(!ke||Ae&2048)&&te!==(te=we[11].t("Save")+"")&&W(Le,te)},i(we){ke||(Ee(pe.$$.fragment,we),Ee(Ue),ke=!0)},o(we){Pe(pe.$$.fragment,we),Pe(Ue),ke=!1},d(we){we&&i(e),s[15](null),ot(pe),Ue&&Ue.d(),Ve=!1,ut(Me)}}}function _o(s,e,t){let l,r;st(s,sl,K=>t(10,l=K));const n=jt("i18n");st(s,n,K=>t(11,r=K));let{saveHandler:u}=e,c="",v="",_=!1,h=!1,g=!1,m="",w=!1,b=!1,y;const I=async()=>{v!==l.name&&(c===Fl(l.name)||c==="")&&t(1,c=Fl(v));const K=await un(localStorage.token,v,c).catch(x=>{Xe.error(x)});return K?(await sl.set(K),!0):!1},E=async()=>{t(6,m=await cn(localStorage.token)),m?Xe.success(r.t("API Key created.")):Xe.error(r.t("Failed to create API Key."))};Ft(async()=>{t(2,v=l.name),t(1,c=l.profile_image_url),t(6,m=await on(localStorage.token).catch(K=>(console.log(K),"")))});function k(K){Rt[K?"unshift":"push"](()=>{y=K,t(9,y)})}const D=K=>{const x=y.files??[];let Z=new FileReader;Z.onload=j=>{let Y=`${j.target.result}`;const J=new Image;J.src=Y,J.onload=function(){const X=document.createElement("canvas"),Q=X.getContext("2d"),se=J.width/J.height;let ue,ie;se>1?(ue=100*se,ie=100):(ue=100,ie=100/se),X.width=100,X.height=100;const pe=(100-ue)/2,he=(100-ie)/2;Q.drawImage(J,pe,he,ue,ie);const ce=X.toDataURL("image/jpeg");t(1,c=ce),t(9,y.files=null,y)}},x.length>0&&["image/gif","image/jpeg","image/png"].includes(x[0].type)&&Z.readAsDataURL(x[0])},L=()=>{y.click()},T=async()=>{Ba()?t(1,c=Fl(v)):Xe.info(r.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},V=async()=>{const K=await fn(l.email);t(1,c=K)},M=async()=>{t(1,c="/user.png")};function N(){v=this.value,t(2,v)}const R=()=>{t(3,_=!_)},z=()=>{t(4,h=!h)},O=()=>{ys(localStorage.token),t(5,g=!0),setTimeout(()=>{t(5,g=!1)},2e3)},q=()=>{t(7,w=!w)},P=()=>{ys(m),t(8,b=!0),setTimeout(()=>{t(8,b=!1)},2e3)},C=()=>{E()},F=()=>{E()},G=async()=>{await I()&&u()};return s.$$set=K=>{"saveHandler"in K&&t(0,u=K.saveHandler)},[u,c,v,_,h,g,m,w,b,y,l,r,n,I,E,k,D,L,T,V,M,N,R,z,O,q,P,C,F,G]}class mo extends St{constructor(e){super(),Lt(this,e,_o,po,At,{saveHandler:0})}}var Ps={exports:{}},ds={exports:{}},hs={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l){return function(...r){if(l===null)throw new Error("Callback was already called.");var n=l;l=null,n.apply(this,r)}}s.exports=e.default})(hs,hs.exports);var go=hs.exports,dl={};Object.defineProperty(dl,"__esModule",{value:!0});dl.fallback=xa;dl.wrap=Oa;var bo=dl.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,wo=dl.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,ko=dl.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function xa(s){setTimeout(s,0)}function Oa(s){return(e,...t)=>s(()=>e(...t))}var Gl;bo?Gl=queueMicrotask:wo?Gl=setImmediate:ko?Gl=process.nextTick:Gl=xa;dl.default=Oa(Gl);var vs={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});class t{constructor(){this.head=this.tail=null,this.length=0}removeLink(n){return n.prev?n.prev.next=n.next:this.head=n.next,n.next?n.next.prev=n.prev:this.tail=n.prev,n.prev=n.next=null,this.length-=1,n}empty(){for(;this.head;)this.shift();return this}insertAfter(n,u){u.prev=n,u.next=n.next,n.next?n.next.prev=u:this.tail=u,n.next=u,this.length+=1}insertBefore(n,u){u.prev=n.prev,u.next=n,n.prev?n.prev.next=u:this.head=u,n.prev=u,this.length+=1}unshift(n){this.head?this.insertBefore(this.head,n):l(this,n)}push(n){this.tail?this.insertAfter(this.tail,n):l(this,n)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var n=this.head;n;)yield n.data,n=n.next}remove(n){for(var u=this.head;u;){var{next:c}=u;n(u)&&this.removeLink(u),u=c}return this}}e.default=t;function l(r,n){r.length=1,r.head=r.tail=n}s.exports=e.default})(vs,vs.exports);var yo=vs.exports,ll={},Jl={exports:{}},ps={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(...l){var r=l.pop();return t.call(this,l,r)}},s.exports=e.default})(ps,ps.exports);var Eo=ps.exports,Bs;function Io(){return Bs||(Bs=1,function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;var t=Eo,l=c(t),r=dl,n=c(r),u=gs();function c(g){return g&&g.__esModule?g:{default:g}}function v(g){return(0,u.isAsync)(g)?function(...m){const w=m.pop(),b=g.apply(this,m);return _(b,w)}:(0,l.default)(function(m,w){var b;try{b=g.apply(this,m)}catch(y){return w(y)}if(b&&typeof b.then=="function")return _(b,w);w(null,b)})}function _(g,m){return g.then(w=>{h(m,null,w)},w=>{h(m,w&&(w instanceof Error||w.message)?w:new Error(w))})}function h(g,m,w){try{g(m,w)}catch(b){(0,n.default)(y=>{throw y},b)}}s.exports=e.default}(Jl,Jl.exports)),Jl.exports}var Hs;function gs(){if(Hs)return ll;Hs=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.isAsyncIterable=ll.isAsyncGenerator=ll.isAsync=void 0;var s=Io(),e=t(s);function t(c){return c&&c.__esModule?c:{default:c}}function l(c){return c[Symbol.toStringTag]==="AsyncFunction"}function r(c){return c[Symbol.toStringTag]==="AsyncGenerator"}function n(c){return typeof c[Symbol.asyncIterator]=="function"}function u(c){if(typeof c!="function")throw new Error("expected a function");return l(c)?(0,e.default)(c):c}return ll.default=u,ll.isAsync=l,ll.isAsyncGenerator=r,ll.isAsyncIterable=n,ll}(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=g;var t=go,l=h(t),r=dl,n=h(r),u=yo,c=h(u),v=gs(),_=h(v);function h(m){return m&&m.__esModule?m:{default:m}}function g(m,w,b){if(w==null)w=1;else if(w===0)throw new RangeError("Concurrency must not be zero");var y=(0,_.default)(m),I=0,E=[];const k={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function D(C,F){k[C].push(F)}function L(C,F){const G=(...K)=>{T(C,G),F(...K)};k[C].push(G)}function T(C,F){if(!C)return Object.keys(k).forEach(G=>k[G]=[]);if(!F)return k[C]=[];k[C]=k[C].filter(G=>G!==F)}function V(C,...F){k[C].forEach(G=>G(...F))}var M=!1;function N(C,F,G,K){if(K!=null&&typeof K!="function")throw new Error("task callback must be a function");P.started=!0;var x,Z;function j(J,...X){if(J)return G?Z(J):x();if(X.length<=1)return x(X[0]);x(X)}var Y=P._createTaskItem(C,G?j:K||j);if(F?P._tasks.unshift(Y):P._tasks.push(Y),M||(M=!0,(0,n.default)(()=>{M=!1,P.process()})),G||!K)return new Promise((J,X)=>{x=J,Z=X})}function R(C){return function(F,...G){I-=1;for(var K=0,x=C.length;K<x;K++){var Z=C[K],j=E.indexOf(Z);j===0?E.shift():j>0&&E.splice(j,1),Z.callback(F,...G),F!=null&&V("error",F,Z.data)}I<=P.concurrency-P.buffer&&V("unsaturated"),P.idle()&&V("drain"),P.process()}}function z(C){return C.length===0&&P.idle()?((0,n.default)(()=>V("drain")),!0):!1}const O=C=>F=>{if(!F)return new Promise((G,K)=>{L(C,(x,Z)=>{if(x)return K(x);G(Z)})});T(C),D(C,F)};var q=!1,P={_tasks:new c.default,_createTaskItem(C,F){return{data:C,callback:F}},*[Symbol.iterator](){yield*P._tasks[Symbol.iterator]()},concurrency:w,payload:b,buffer:w/4,started:!1,paused:!1,push(C,F){return Array.isArray(C)?z(C)?void 0:C.map(G=>N(G,!1,!1,F)):N(C,!1,!1,F)},pushAsync(C,F){return Array.isArray(C)?z(C)?void 0:C.map(G=>N(G,!1,!0,F)):N(C,!1,!0,F)},kill(){T(),P._tasks.empty()},unshift(C,F){return Array.isArray(C)?z(C)?void 0:C.map(G=>N(G,!0,!1,F)):N(C,!0,!1,F)},unshiftAsync(C,F){return Array.isArray(C)?z(C)?void 0:C.map(G=>N(G,!0,!0,F)):N(C,!0,!0,F)},remove(C){P._tasks.remove(C)},process(){if(!q){for(q=!0;!P.paused&&I<P.concurrency&&P._tasks.length;){var C=[],F=[],G=P._tasks.length;P.payload&&(G=Math.min(G,P.payload));for(var K=0;K<G;K++){var x=P._tasks.shift();C.push(x),E.push(x),F.push(x.data)}I+=1,P._tasks.length===0&&V("empty"),I===P.concurrency&&V("saturated");var Z=(0,l.default)(R(C));y(F,Z)}q=!1}},length(){return P._tasks.length},running(){return I},workersList(){return E},idle(){return P._tasks.length+I===0},pause(){P.paused=!0},resume(){P.paused!==!1&&(P.paused=!1,(0,n.default)(P.process))}};return Object.defineProperties(P,{saturated:{writable:!1,value:O("saturated")},unsaturated:{writable:!1,value:O("unsaturated")},empty:{writable:!1,value:O("empty")},drain:{writable:!1,value:O("drain")},error:{writable:!1,value:O("error")}}),P}s.exports=e.default})(ds,ds.exports);var Do=ds.exports;(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c,v){var _=(0,n.default)(c);return(0,l.default)((h,g)=>{_(h[0],g)},v,1)};var t=Do,l=u(t),r=gs(),n=u(r);function u(c){return c&&c.__esModule?c:{default:c}}s.exports=e.default})(Ps,Ps.exports);function Us(s,e,t){const l=s.slice();return l[69]=e[t],l}function js(s,e,t){const l=s.slice();return l[69]=e[t],l}function Rs(s,e,t){const l=s.slice();return l[69]=e[t],l}function zs(s,e,t){const l=s.slice();return l[76]=e[t],l[78]=t,l}function Zs(s){let e,t,l=s[27].t("Manage Ollama Models")+"",r,n,u,c,v,_,h=s[27].t("Pull a model from Ollama.com")+"",g,m,w,b,y,I,E,k,D,L,T=s[27].t("To access the available model names for downloading,")+"",V,M,N,R=s[27].t("click here.")+"",z,O,q=Object.keys(s[28]).length>0,P,C,F,G=s[27].t("Delete a model")+"",K,x,Z,j,Y,J,X,Q,se,ue='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',ie,pe,he,ce,re=s[27].t("Experimental")+"",le,De,ae,ee=(s[15]?s[27].t("Hide"):s[27].t("Show"))+"",fe,Ce,de,xe,_e,Je,ne,oe=s[11].length>0&&Ws(s);function te(ge,Te){return ge[17]?Mo:Vo}let Le=te(s),ke=Le(s),Ve=q&&Fs(s),Me=!s[26]&&Xs(s),Ue=it(s[29].filter(s[44])),we=[];for(let ge=0;ge<Ue.length;ge+=1)we[ge]=Qs(js(s,Ue,ge));let Ae=s[15]&&$s(s);return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),oe&&oe.c(),u=A(),c=f("div"),v=f("div"),_=f("div"),g=H(h),m=A(),w=f("div"),b=f("div"),y=f("input"),E=A(),k=f("button"),ke.c(),D=A(),L=f("div"),V=H(T),M=A(),N=f("a"),z=H(R),O=A(),Ve&&Ve.c(),P=A(),C=f("div"),F=f("div"),K=H(G),x=A(),Z=f("div"),j=f("div"),Y=f("select"),Me&&Me.c(),J=It();for(let ge=0;ge<we.length;ge+=1)we[ge].c();Q=A(),se=f("button"),se.innerHTML=ue,ie=A(),pe=f("div"),he=f("div"),ce=f("div"),le=H(re),De=A(),ae=f("button"),fe=H(ee),Ce=A(),Ae&&Ae.c(),de=A(),xe=f("hr"),this.h()},l(ge){e=d(ge,"DIV",{class:!0});var Te=p(e);t=d(Te,"DIV",{class:!0});var Ie=p(t);r=U(Ie,l),Ie.forEach(i),n=S(Te),oe&&oe.l(Te),u=S(Te),c=d(Te,"DIV",{class:!0});var je=p(c);v=d(je,"DIV",{});var be=p(v);_=d(be,"DIV",{class:!0});var Re=p(_);g=U(Re,h),Re.forEach(i),m=S(be),w=d(be,"DIV",{class:!0});var Ge=p(w);b=d(Ge,"DIV",{class:!0});var We=p(b);y=d(We,"INPUT",{class:!0,placeholder:!0}),We.forEach(i),E=S(Ge),k=d(Ge,"BUTTON",{class:!0});var et=p(k);ke.l(et),et.forEach(i),Ge.forEach(i),D=S(be),L=d(be,"DIV",{class:!0});var Fe=p(L);V=U(Fe,T),M=S(Fe),N=d(Fe,"A",{class:!0,href:!0,target:!0});var qe=p(N);z=U(qe,R),qe.forEach(i),Fe.forEach(i),O=S(be),Ve&&Ve.l(be),be.forEach(i),P=S(je),C=d(je,"DIV",{});var Ke=p(C);F=d(Ke,"DIV",{class:!0});var Oe=p(F);K=U(Oe,G),Oe.forEach(i),x=S(Ke),Z=d(Ke,"DIV",{class:!0});var ye=p(Z);j=d(ye,"DIV",{class:!0});var tt=p(j);Y=d(tt,"SELECT",{class:!0,placeholder:!0});var Be=p(Y);Me&&Me.l(Be),J=It();for(let ct=0;ct<we.length;ct+=1)we[ct].l(Be);Be.forEach(i),tt.forEach(i),Q=S(ye),se=d(ye,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(se)!=="svelte-1u0ox72"&&(se.innerHTML=ue),ye.forEach(i),Ke.forEach(i),ie=S(je),pe=d(je,"DIV",{class:!0});var ze=p(pe);he=d(ze,"DIV",{class:!0});var ve=p(he);ce=d(ve,"DIV",{class:!0});var Ze=p(ce);le=U(Ze,re),Ze.forEach(i),De=S(ve),ae=d(ve,"BUTTON",{class:!0,type:!0});var ft=p(ae);fe=U(ft,ee),ft.forEach(i),ve.forEach(i),ze.forEach(i),Ce=S(je),Ae&&Ae.l(je),je.forEach(i),Te.forEach(i),de=S(ge),xe=d(ge,"HR",{class:!0}),this.h()},h(){o(t,"class","text-sm font-medium"),o(_,"class","mb-2 text-sm font-medium"),o(y,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(y,"placeholder",I=s[27].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),o(b,"class","flex-1 mr-2"),o(k,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),k.disabled=s[17],o(w,"class","flex w-full"),o(N,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(N,"href","https://ollama.com/library"),o(N,"target","_blank"),o(L,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(F,"class","mb-2 text-sm font-medium"),o(Y,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Y,"placeholder",X=s[27].t("Select a model")),s[26]===void 0&&Gt(()=>s[45].call(Y)),o(j,"class","flex-1 mr-2"),o(se,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(Z,"class","flex w-full"),o(ce,"class","text-sm font-medium"),o(ae,"class","text-xs font-medium text-gray-500"),o(ae,"type","button"),o(he,"class","flex justify-between items-center text-xs"),o(pe,"class","pt-1"),o(c,"class","space-y-2"),o(e,"class","space-y-2 pr-1.5"),o(xe,"class","dark:border-gray-700 my-2")},m(ge,Te){B(ge,e,Te),a(e,t),a(t,r),a(e,n),oe&&oe.m(e,null),a(e,u),a(e,c),a(c,v),a(v,_),a(_,g),a(v,m),a(v,w),a(w,b),a(b,y),me(y,s[18]),a(w,E),a(w,k),ke.m(k,null),a(v,D),a(v,L),a(L,V),a(L,M),a(L,N),a(N,z),a(v,O),Ve&&Ve.m(v,null),a(c,P),a(c,C),a(C,F),a(F,K),a(C,x),a(C,Z),a(Z,j),a(j,Y),Me&&Me.m(Y,null),a(Y,J);for(let Ie=0;Ie<we.length;Ie+=1)we[Ie]&&we[Ie].m(Y,null);Et(Y,s[26],!0),a(Z,Q),a(Z,se),a(c,ie),a(c,pe),a(pe,he),a(he,ce),a(ce,le),a(he,De),a(he,ae),a(ae,fe),a(c,Ce),Ae&&Ae.m(c,null),B(ge,de,Te),B(ge,xe,Te),_e=!0,Je||(ne=[$(y,"input",s[41]),$(k,"click",s[42]),$(Y,"change",s[45]),$(se,"click",s[46]),$(ae,"click",s[47])],Je=!0)},p(ge,Te){if((!_e||Te[0]&134217728)&&l!==(l=ge[27].t("Manage Ollama Models")+"")&&W(r,l),ge[11].length>0?oe?(oe.p(ge,Te),Te[0]&2048&&Ee(oe,1)):(oe=Ws(ge),oe.c(),Ee(oe,1),oe.m(e,u)):oe&&(zt(),Pe(oe,1,1,()=>{oe=null}),Zt()),(!_e||Te[0]&134217728)&&h!==(h=ge[27].t("Pull a model from Ollama.com")+"")&&W(g,h),(!_e||Te[0]&134217728&&I!==(I=ge[27].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&o(y,"placeholder",I),Te[0]&262144&&y.value!==ge[18]&&me(y,ge[18]),Le!==(Le=te(ge))&&(ke.d(1),ke=Le(ge),ke&&(ke.c(),ke.m(k,null))),(!_e||Te[0]&131072)&&(k.disabled=ge[17]),(!_e||Te[0]&134217728)&&T!==(T=ge[27].t("To access the available model names for downloading,")+"")&&W(V,T),(!_e||Te[0]&134217728)&&R!==(R=ge[27].t("click here.")+"")&&W(z,R),Te[0]&268435456&&(q=Object.keys(ge[28]).length>0),q?Ve?(Ve.p(ge,Te),Te[0]&268435456&&Ee(Ve,1)):(Ve=Fs(ge),Ve.c(),Ee(Ve,1),Ve.m(v,null)):Ve&&(zt(),Pe(Ve,1,1,()=>{Ve=null}),Zt()),(!_e||Te[0]&134217728)&&G!==(G=ge[27].t("Delete a model")+"")&&W(K,G),ge[26]?Me&&(Me.d(1),Me=null):Me?Me.p(ge,Te):(Me=Xs(ge),Me.c(),Me.m(Y,J)),Te[0]&536875008){Ue=it(ge[29].filter(ge[44]));let Ie;for(Ie=0;Ie<Ue.length;Ie+=1){const je=js(ge,Ue,Ie);we[Ie]?we[Ie].p(je,Te):(we[Ie]=Qs(je),we[Ie].c(),we[Ie].m(Y,null))}for(;Ie<we.length;Ie+=1)we[Ie].d(1);we.length=Ue.length}(!_e||Te[0]&134217728&&X!==(X=ge[27].t("Select a model")))&&o(Y,"placeholder",X),Te[0]&603983872&&Et(Y,ge[26]),(!_e||Te[0]&134217728)&&re!==(re=ge[27].t("Experimental")+"")&&W(le,re),(!_e||Te[0]&134250496)&&ee!==(ee=(ge[15]?ge[27].t("Hide"):ge[27].t("Show"))+"")&&W(fe,ee),ge[15]?Ae?Ae.p(ge,Te):(Ae=$s(ge),Ae.c(),Ae.m(c,null)):Ae&&(Ae.d(1),Ae=null)},i(ge){_e||(Ee(oe),Ee(Ve),_e=!0)},o(ge){Pe(oe),Pe(Ve),_e=!1},d(ge){ge&&(i(e),i(de),i(xe)),oe&&oe.d(),ke.d(),Ve&&Ve.d(),Me&&Me.d(),Ct(we,ge),Ae&&Ae.d(),Je=!1,ut(ne)}}}function Ws(s){let e,t,l,r,n,u,c,v,_,h,g,m,w,b=it(s[11]),y=[];for(let E=0;E<b.length;E+=1)y[E]=qs(zs(s,b,E));v=new fl({props:{content:"Update All Models",placement:"top",$$slots:{default:[To]},$$scope:{ctx:s}}});let I=s[13]&&Gs(s);return{c(){e=f("div"),t=f("div"),l=f("select");for(let E=0;E<y.length;E+=1)y[E].c();n=A(),u=f("div"),c=f("div"),rt(v.$$.fragment),_=A(),I&&I.c(),h=It(),this.h()},l(E){e=d(E,"DIV",{class:!0});var k=p(e);t=d(k,"DIV",{class:!0});var D=p(t);l=d(D,"SELECT",{class:!0,placeholder:!0});var L=p(l);for(let M=0;M<y.length;M+=1)y[M].l(L);L.forEach(i),D.forEach(i),n=S(k),u=d(k,"DIV",{});var T=p(u);c=d(T,"DIV",{class:!0});var V=p(c);at(v.$$.fragment,V),V.forEach(i),T.forEach(i),k.forEach(i),_=S(E),I&&I.l(E),h=It(),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",r=s[27].t("Select an Ollama instance")),s[12]===void 0&&Gt(()=>s[39].call(l)),o(t,"class","flex-1 pb-1"),o(c,"class","flex w-full justify-end"),o(e,"class","flex gap-2")},m(E,k){B(E,e,k),a(e,t),a(t,l);for(let D=0;D<y.length;D+=1)y[D]&&y[D].m(l,null);Et(l,s[12],!0),a(e,n),a(e,u),a(u,c),nt(v,c,null),B(E,_,k),I&&I.m(E,k),B(E,h,k),g=!0,m||(w=$(l,"change",s[39]),m=!0)},p(E,k){if(k[0]&2048){b=it(E[11]);let L;for(L=0;L<b.length;L+=1){const T=zs(E,b,L);y[L]?y[L].p(T,k):(y[L]=qs(T),y[L].c(),y[L].m(l,null))}for(;L<y.length;L+=1)y[L].d(1);y.length=b.length}(!g||k[0]&134217728&&r!==(r=E[27].t("Select an Ollama instance")))&&o(l,"placeholder",r),k[0]&4096&&Et(l,E[12]);const D={};k[2]&131072&&(D.$$scope={dirty:k,ctx:E}),v.$set(D),E[13]?I?I.p(E,k):(I=Gs(E),I.c(),I.m(h.parentNode,h)):I&&(I.d(1),I=null)},i(E){g||(Ee(v.$$.fragment,E),g=!0)},o(E){Pe(v.$$.fragment,E),g=!1},d(E){E&&(i(e),i(_),i(h)),Ct(y,E),ot(v),I&&I.d(E),m=!1,w()}}}function qs(s){let e,t=s[76]+"",l;return{c(){e=f("option"),l=H(t),this.h()},l(r){e=d(r,"OPTION",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){e.__value=s[78],me(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&2048&&t!==(t=r[76]+"")&&W(l,t)},d(r){r&&i(e)}}}function To(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',l,r;return{c(){e=f("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-vfv02l"&&(e.innerHTML=t),this.h()},h(){o(e,"class","p-2.5 flex gap-2 items-center bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition")},m(n,u){B(n,e,u),l||(r=$(e,"click",s[40]),l=!0)},p:lt,d(n){n&&i(e),l=!1,r()}}}function Gs(s){let e,t,l,r=s[14]?`(${s[14]}%)`:"",n;return{c(){e=H('Updating "'),t=H(s[13]),l=H('" '),n=H(r)},l(u){e=U(u,'Updating "'),t=U(u,s[13]),l=U(u,'" '),n=U(u,r)},m(u,c){B(u,e,c),B(u,t,c),B(u,l,c),B(u,n,c)},p(u,c){c[0]&8192&&W(t,u[13]),c[0]&16384&&r!==(r=u[14]?`(${u[14]}%)`:"")&&W(n,r)},d(u){u&&(i(e),i(t),i(l),i(n))}}}function Vo(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=p(e);t=$e(n,"path",{d:!0}),p(t).forEach(i),l=$e(n,"path",{d:!0}),p(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){B(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function Mo(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}
												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1lfba08"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,r){B(l,e,r)},d(l){l&&i(e)}}}function Fs(s){let e,t,l=it(Object.keys(s[28])),r=[];for(let u=0;u<l.length;u+=1)r[u]=Js(Rs(s,l,u));const n=u=>Pe(r[u],1,1,()=>{r[u]=null});return{c(){for(let u=0;u<r.length;u+=1)r[u].c();e=It()},l(u){for(let c=0;c<r.length;c+=1)r[c].l(u);e=It()},m(u,c){for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(u,c);B(u,e,c),t=!0},p(u,c){if(c[0]&402653184|c[1]&16){l=it(Object.keys(u[28]));let v;for(v=0;v<l.length;v+=1){const _=Rs(u,l,v);r[v]?(r[v].p(_,c),Ee(r[v],1)):(r[v]=Js(_),r[v].c(),Ee(r[v],1),r[v].m(e.parentNode,e))}for(zt(),v=l.length;v<r.length;v+=1)n(v);Zt()}},i(u){if(!t){for(let c=0;c<l.length;c+=1)Ee(r[c]);t=!0}},o(u){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)Pe(r[c]);t=!1},d(u){u&&i(e),Ct(r,u)}}}function Ks(s){let e,t,l=s[69]+"",r,n,u,c,v,_,h=(s[28][s[69]].pullProgress??0)+"",g,m,w,b,y,I,E;b=new fl({props:{content:s[27].t("Cancel"),$$slots:{default:[Ao]},$$scope:{ctx:s}}});let k="digest"in s[28][s[69]]&&Ys(s);return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("div"),v=f("div"),_=f("div"),g=H(h),m=H("%"),w=A(),rt(b.$$.fragment),y=A(),k&&k.c(),I=A(),this.h()},l(D){e=d(D,"DIV",{class:!0});var L=p(e);t=d(L,"DIV",{class:!0});var T=p(t);r=U(T,l),T.forEach(i),n=S(L),u=d(L,"DIV",{class:!0});var V=p(u);c=d(V,"DIV",{class:!0});var M=p(c);v=d(M,"DIV",{class:!0});var N=p(v);_=d(N,"DIV",{class:!0,style:!0});var R=p(_);g=U(R,h),m=U(R,"%"),R.forEach(i),N.forEach(i),w=S(M),at(b.$$.fragment,M),M.forEach(i),y=S(V),k&&k.l(V),V.forEach(i),I=S(L),L.forEach(i),this.h()},h(){o(t,"class","font-medium mb-1"),o(_,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),ht(_,"width",Math.max(15,s[28][s[69]].pullProgress??0)+"%"),o(v,"class","flex-1"),o(c,"class","flex flex-row justify-between space-x-4 pr-2"),o(u,"class",""),o(e,"class","flex flex-col")},m(D,L){B(D,e,L),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),a(c,v),a(v,_),a(_,g),a(_,m),a(c,w),nt(b,c,null),a(u,y),k&&k.m(u,null),a(e,I),E=!0},p(D,L){(!E||L[0]&268435456)&&l!==(l=D[69]+"")&&W(r,l),(!E||L[0]&268435456)&&h!==(h=(D[28][D[69]].pullProgress??0)+"")&&W(g,h),(!E||L[0]&268435456)&&ht(_,"width",Math.max(15,D[28][D[69]].pullProgress??0)+"%");const T={};L[0]&134217728&&(T.content=D[27].t("Cancel")),L[0]&268435456|L[2]&131072&&(T.$$scope={dirty:L,ctx:D}),b.$set(T),"digest"in D[28][D[69]]?k?k.p(D,L):(k=Ys(D),k.c(),k.m(u,null)):k&&(k.d(1),k=null)},i(D){E||(Ee(b.$$.fragment,D),E=!0)},o(D){Pe(b.$$.fragment,D),E=!1},d(D){D&&i(e),ot(b),k&&k.d()}}}function Ao(s){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,r;function n(){return s[43](s[69])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-wt1ity"&&(e.innerHTML=t),this.h()},h(){o(e,"class","text-gray-800 dark:text-gray-100")},m(u,c){B(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function Ys(s){let e,t=s[28][s[69]].digest+"",l;return{c(){e=f("div"),l=H(t),this.h()},l(r){e=d(r,"DIV",{class:!0,style:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","mt-1 text-xs dark:text-gray-500"),ht(e,"font-size","0.5rem")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&268435456&&t!==(t=r[28][r[69]].digest+"")&&W(l,t)},d(r){r&&i(e)}}}function Js(s){let e,t,l="pullProgress"in s[28][s[69]]&&Ks(s);return{c(){l&&l.c(),e=It()},l(r){l&&l.l(r),e=It()},m(r,n){l&&l.m(r,n),B(r,e,n),t=!0},p(r,n){"pullProgress"in r[28][r[69]]?l?(l.p(r,n),n[0]&268435456&&Ee(l,1)):(l=Ks(r),l.c(),Ee(l,1),l.m(e.parentNode,e)):l&&(zt(),Pe(l,1,1,()=>{l=null}),Zt())},i(r){t||(Ee(l),t=!0)},o(r){Pe(l),t=!1},d(r){r&&i(e),l&&l.d(r)}}}function Xs(s){let e,t=s[27].t("Select a model")+"",l;return{c(){e=f("option"),l=H(t),this.h()},l(r){e=d(r,"OPTION",{});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){e.__value="",me(e,e.__value),e.disabled=!0,e.selected=!0},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&134217728&&t!==(t=r[27].t("Select a model")+"")&&W(l,t)},d(r){r&&i(e)}}}function Qs(s){let e,t=s[69].name+" ("+(s[69].size/1073741824).toFixed(1)+" GB)",l,r;return{c(){e=f("option"),l=H(t),this.h()},l(n){e=d(n,"OPTION",{class:!0});var u=p(e);l=U(u,t),u.forEach(i),this.h()},h(){e.__value=r=s[69].name,me(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,u){B(n,e,u),a(e,l)},p(n,u){u[0]&536875008&&t!==(t=n[69].name+" ("+(n[69].size/1024**3).toFixed(1)+" GB)")&&W(l,t),u[0]&536875008&&r!==(r=n[69].name)&&(e.__value=r,me(e,e.__value))},d(n){n&&i(e)}}}function $s(s){let e,t,l,r=s[27].t("Upload a GGUF model")+"",n,u,c,v,_,h,g,m,w,b,y=s[27].t("To access the GGUF models available for downloading,")+"",I,E,k,D=s[27].t("click here.")+"",L,T,V,M;function N(Z,j){return Z[19]==="file"?Lo:So}let R=N(s),z=R(s);function O(Z,j){return Z[19]==="file"?xo:Co}let q=O(s),P=q(s),C=(s[19]==="file"&&s[20]&&s[20].length>0||s[19]==="url"&&s[21]!=="")&&er(s),F=(s[19]==="file"&&s[20]&&s[20].length>0||s[19]==="url"&&s[21]!=="")&&tr(s);function G(Z,j){if(Z[25])return Uo;if(Z[24]!==null)return Ho}let K=G(s),x=K&&K(s);return{c(){e=f("form"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("button"),z.c(),v=A(),_=f("div"),h=f("div"),P.c(),g=A(),C&&C.c(),m=A(),F&&F.c(),w=A(),b=f("div"),I=H(y),E=A(),k=f("a"),L=H(D),T=A(),x&&x.c(),this.h()},l(Z){e=d(Z,"FORM",{});var j=p(e);t=d(j,"DIV",{class:!0});var Y=p(t);l=d(Y,"DIV",{class:!0});var J=p(l);n=U(J,r),J.forEach(i),u=S(Y),c=d(Y,"BUTTON",{class:!0,type:!0});var X=p(c);z.l(X),X.forEach(i),Y.forEach(i),v=S(j),_=d(j,"DIV",{class:!0});var Q=p(_);h=d(Q,"DIV",{class:!0});var se=p(h);P.l(se),se.forEach(i),g=S(Q),C&&C.l(Q),Q.forEach(i),m=S(j),F&&F.l(j),w=S(j),b=d(j,"DIV",{class:!0});var ue=p(b);I=U(ue,y),E=S(ue),k=d(ue,"A",{class:!0,href:!0,target:!0});var ie=p(k);L=U(ie,D),ie.forEach(i),ue.forEach(i),T=S(j),x&&x.l(j),j.forEach(i),this.h()},h(){o(l,"class","text-sm font-medium"),o(c,"class","p-1 px-3 text-xs flex rounded transition"),o(c,"type","button"),o(t,"class","mb-2 flex w-full justify-between"),o(h,"class","flex flex-col w-full"),o(_,"class","flex w-full mb-1.5"),o(k,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(k,"href","https://huggingface.co/models?search=gguf"),o(k,"target","_blank"),o(b,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(Z,j){B(Z,e,j),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),z.m(c,null),a(e,v),a(e,_),a(_,h),P.m(h,null),a(_,g),C&&C.m(_,null),a(e,m),F&&F.m(e,null),a(e,w),a(e,b),a(b,I),a(b,E),a(b,k),a(k,L),a(e,T),x&&x.m(e,null),V||(M=[$(c,"click",s[48]),$(e,"submit",Ol(s[55]))],V=!0)},p(Z,j){j[0]&134217728&&r!==(r=Z[27].t("Upload a GGUF model")+"")&&W(n,r),R===(R=N(Z))&&z?z.p(Z,j):(z.d(1),z=R(Z),z&&(z.c(),z.m(c,null))),q===(q=O(Z))&&P?P.p(Z,j):(P.d(1),P=q(Z),P&&(P.c(),P.m(h,null))),Z[19]==="file"&&Z[20]&&Z[20].length>0||Z[19]==="url"&&Z[21]!==""?C?C.p(Z,j):(C=er(Z),C.c(),C.m(_,null)):C&&(C.d(1),C=null),Z[19]==="file"&&Z[20]&&Z[20].length>0||Z[19]==="url"&&Z[21]!==""?F?F.p(Z,j):(F=tr(Z),F.c(),F.m(e,w)):F&&(F.d(1),F=null),j[0]&134217728&&y!==(y=Z[27].t("To access the GGUF models available for downloading,")+"")&&W(I,y),j[0]&134217728&&D!==(D=Z[27].t("click here.")+"")&&W(L,D),K===(K=G(Z))&&x?x.p(Z,j):(x&&x.d(1),x=K&&K(Z),x&&(x.c(),x.m(e,null)))},d(Z){Z&&i(e),z.d(),P.d(),C&&C.d(),F&&F.d(),x&&x.d(),V=!1,ut(M)}}}function So(s){let e,t=s[27].t("URL Mode")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&134217728&&t!==(t=r[27].t("URL Mode")+"")&&W(l,t)},d(r){r&&i(e)}}}function Lo(s){let e,t=s[27].t("File Mode")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&134217728&&t!==(t=r[27].t("File Mode")+"")&&W(l,t)},d(r){r&&i(e)}}}function Co(s){let e,t,l,r,n,u,c;return{c(){e=f("div"),t=f("input"),this.h()},l(v){e=d(v,"DIV",{class:!0});var _=p(e);t=d(_,"INPUT",{class:!0,type:!0,placeholder:!0}),_.forEach(i),this.h()},h(){o(t,"class",l="w-full rounded-lg text-left py-2 px-4 bg-white dark:text-gray-300 dark:bg-gray-850 outline-none "+(s[21]!==""?"mr-2":"")),o(t,"type","url"),t.required=!0,o(t,"placeholder",r=s[27].t("Type Hugging Face Resolve (Download) URL")),o(e,"class",n="flex-1 "+(s[21]!==""?"mr-2":""))},m(v,_){B(v,e,_),a(e,t),me(t,s[21]),u||(c=$(t,"input",s[53]),u=!0)},p(v,_){_[0]&2097152&&l!==(l="w-full rounded-lg text-left py-2 px-4 bg-white dark:text-gray-300 dark:bg-gray-850 outline-none "+(v[21]!==""?"mr-2":""))&&o(t,"class",l),_[0]&134217728&&r!==(r=v[27].t("Type Hugging Face Resolve (Download) URL"))&&o(t,"placeholder",r),_[0]&2097152&&t.value!==v[21]&&me(t,v[21]),_[0]&2097152&&n!==(n="flex-1 "+(v[21]!==""?"mr-2":""))&&o(e,"class",n)},d(v){v&&i(e),u=!1,c()}}}function xo(s){let e,t,l,r,n,u,c;function v(g,m){return g[20]&&g[20].length>0?No:Oo}let _=v(s),h=_(s);return{c(){e=f("div"),t=f("input"),l=A(),r=f("button"),h.c(),this.h()},l(g){e=d(g,"DIV",{class:!0});var m=p(e);t=d(m,"INPUT",{id:!0,type:!0,accept:!0}),l=S(m),r=d(m,"BUTTON",{type:!0,class:!0});var w=p(r);h.l(w),w.forEach(i),m.forEach(i),this.h()},h(){o(t,"id","model-upload-input"),o(t,"type","file"),o(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,o(r,"type","button"),o(r,"class","w-full rounded-lg text-left py-2 px-4 bg-white dark:text-gray-300 dark:bg-gray-850"),o(e,"class",n="flex-1 "+(s[20]&&s[20].length>0?"mr-2":""))},m(g,m){B(g,e,m),a(e,t),s[49](t),a(e,l),a(e,r),h.m(r,null),u||(c=[$(t,"change",s[50]),$(t,"change",s[51]),$(r,"click",s[52])],u=!0)},p(g,m){_===(_=v(g))&&h?h.p(g,m):(h.d(1),h=_(g),h&&(h.c(),h.m(r,null))),m[0]&1048576&&n!==(n="flex-1 "+(g[20]&&g[20].length>0?"mr-2":""))&&o(e,"class",n)},d(g){g&&i(e),s[49](null),h.d(),u=!1,ut(c)}}}function Oo(s){let e=s[27].t("Click here to select")+"",t;return{c(){t=H(e)},l(l){t=U(l,e)},m(l,r){B(l,t,r)},p(l,r){r[0]&134217728&&e!==(e=l[27].t("Click here to select")+"")&&W(t,e)},d(l){l&&i(t)}}}function No(s){let e=s[20][0].name+"",t;return{c(){t=H(e)},l(l){t=U(l,e)},m(l,r){B(l,t,r)},p(l,r){r[0]&1048576&&e!==(e=l[20][0].name+"")&&W(t,e)},d(l){l&&i(t)}}}function er(s){let e;function t(n,u){return n[17]?Bo:Po}let l=t(s),r=l(s);return{c(){e=f("button"),r.c(),this.h()},l(n){e=d(n,"BUTTON",{class:!0,type:!0});var u=p(e);r.l(u),u.forEach(i),this.h()},h(){o(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),o(e,"type","submit"),e.disabled=s[17]},m(n,u){B(n,e,u),r.m(e,null)},p(n,u){l!==(l=t(n))&&(r.d(1),r=l(n),r&&(r.c(),r.m(e,null))),u[0]&131072&&(e.disabled=n[17])},d(n){n&&i(e),r.d()}}}function Po(s){let e,t,l;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=p(e);t=$e(n,"path",{d:!0}),p(t).forEach(i),l=$e(n,"path",{d:!0}),p(l).forEach(i),n.forEach(i),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,n){B(r,e,n),a(e,t),a(e,l)},d(r){r&&i(e)}}}function Bo(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
															transform-origin: center;
															animation: spinner_AtaB 0.75s infinite linear;
														}
														@keyframes spinner_AtaB {
															100% {
																transform: rotate(360deg);
															}
														}
													</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-23bxbk"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,r){B(l,e,r)},d(l){l&&i(e)}}}function tr(s){let e,t,l,r=s[27].t("Modelfile Content")+"",n,u,c,v,_;return{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("textarea"),this.h()},l(h){e=d(h,"DIV",{});var g=p(e);t=d(g,"DIV",{});var m=p(t);l=d(m,"DIV",{class:!0});var w=p(l);n=U(w,r),w.forEach(i),u=S(m),c=d(m,"TEXTAREA",{class:!0,rows:!0}),p(c).forEach(i),m.forEach(i),g.forEach(i),this.h()},h(){o(l,"class","my-2.5 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-100 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none"),o(c,"rows","6")},m(h,g){B(h,e,g),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),me(c,s[22]),v||(_=$(c,"input",s[54]),v=!0)},p(h,g){g[0]&134217728&&r!==(r=h[27].t("Modelfile Content")+"")&&W(n,r),g[0]&4194304&&me(c,h[22])},d(h){h&&i(e),v=!1,_()}}}function Ho(s){let e,t,l=s[27].t("Upload Progress")+"",r,n,u,c,v=(s[24]??0)+"",_,h,g,m,w;return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("div"),_=H(v),h=H("%"),g=A(),m=f("div"),w=H(s[23]),this.h()},l(b){e=d(b,"DIV",{class:!0});var y=p(e);t=d(y,"DIV",{class:!0});var I=p(t);r=U(I,l),I.forEach(i),n=S(y),u=d(y,"DIV",{class:!0});var E=p(u);c=d(E,"DIV",{class:!0,style:!0});var k=p(c);_=U(k,v),h=U(k,"%"),k.forEach(i),E.forEach(i),g=S(y),m=d(y,"DIV",{class:!0,style:!0});var D=p(m);w=U(D,s[23]),D.forEach(i),y.forEach(i),this.h()},h(){o(t,"class","mb-2 text-xs"),o(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),ht(c,"width",Math.max(15,s[24]??0)+"%"),o(u,"class","w-full rounded-full dark:bg-gray-800"),o(m,"class","mt-1 text-xs dark:text-gray-500"),ht(m,"font-size","0.5rem"),o(e,"class","mt-2")},m(b,y){B(b,e,y),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),a(c,_),a(c,h),a(e,g),a(e,m),a(m,w)},p(b,y){y[0]&134217728&&l!==(l=b[27].t("Upload Progress")+"")&&W(r,l),y[0]&16777216&&v!==(v=(b[24]??0)+"")&&W(_,v),y[0]&16777216&&ht(c,"width",Math.max(15,b[24]??0)+"%"),y[0]&8388608&&W(w,b[23])},d(b){b&&i(e)}}}function Uo(s){let e,t,l=s[27].t("Upload Progress")+"",r,n,u,c,v,_,h,g;return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("div"),v=H(s[25]),_=A(),h=f("div"),g=H(s[23]),this.h()},l(m){e=d(m,"DIV",{class:!0});var w=p(e);t=d(w,"DIV",{class:!0});var b=p(t);r=U(b,l),b.forEach(i),n=S(w),u=d(w,"DIV",{class:!0});var y=p(u);c=d(y,"DIV",{class:!0,style:!0});var I=p(c);v=U(I,s[25]),I.forEach(i),y.forEach(i),_=S(w),h=d(w,"DIV",{class:!0,style:!0});var E=p(h);g=U(E,s[23]),E.forEach(i),w.forEach(i),this.h()},h(){o(t,"class","mb-2 text-xs"),o(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),ht(c,"width","100%"),o(u,"class","w-full rounded-full dark:bg-gray-800"),o(h,"class","mt-1 text-xs dark:text-gray-500"),ht(h,"font-size","0.5rem"),o(e,"class","mt-2")},m(m,w){B(m,e,w),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),a(c,v),a(e,_),a(e,h),a(h,g)},p(m,w){w[0]&134217728&&l!==(l=m[27].t("Upload Progress")+"")&&W(r,l),w[0]&33554432&&W(v,m[25]),w[0]&8388608&&W(g,m[23])},d(m){m&&i(e)}}}function lr(s){let e,t,l,r=s[27].t("Add a model")+"",n,u,c,v=(s[2]?s[27].t("Hide Additional Params"):s[27].t("Show Additional Params"))+"",_,h,g,m,w,b,y,I,E,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',D,L,T,V=s[27].t("Not sure what to add?")+"",M,N,R,z=s[27].t("Click here for help.")+"",O,q,P,C,F=s[27].t("Delete a model")+"",G,K,x,Z,j,Y,J,X,Q,se='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',ue,ie,pe=s[2]&&sr(s),he=!s[10]&&rr(s),ce=it(s[4]),re=[];for(let le=0;le<ce.length;le+=1)re[le]=ar(Us(s,ce,le));return{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("button"),_=H(v),h=A(),g=f("div"),m=f("div"),w=f("div"),b=f("input"),I=A(),E=f("button"),E.innerHTML=k,D=A(),pe&&pe.c(),L=A(),T=f("div"),M=H(V),N=A(),R=f("a"),O=H(z),q=A(),P=f("div"),C=f("div"),G=H(F),K=A(),x=f("div"),Z=f("div"),j=f("select"),he&&he.c(),Y=It();for(let le=0;le<re.length;le+=1)re[le].c();X=A(),Q=f("button"),Q.innerHTML=se,this.h()},l(le){e=d(le,"DIV",{});var De=p(e);t=d(De,"DIV",{class:!0});var ae=p(t);l=d(ae,"DIV",{class:!0});var ee=p(l);n=U(ee,r),ee.forEach(i),u=S(ae),c=d(ae,"BUTTON",{class:!0,type:!0});var fe=p(c);_=U(fe,v),fe.forEach(i),ae.forEach(i),De.forEach(i),h=S(le),g=d(le,"DIV",{class:!0});var Ce=p(g);m=d(Ce,"DIV",{class:!0});var de=p(m);w=d(de,"DIV",{class:!0});var xe=p(w);b=d(xe,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),xe.forEach(i),I=S(de),E=d(de,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(E)!=="svelte-11z5303"&&(E.innerHTML=k),de.forEach(i),D=S(Ce),pe&&pe.l(Ce),Ce.forEach(i),L=S(le),T=d(le,"DIV",{class:!0});var _e=p(T);M=U(_e,V),N=S(_e),R=d(_e,"A",{class:!0,href:!0,target:!0});var Je=p(R);O=U(Je,z),Je.forEach(i),_e.forEach(i),q=S(le),P=d(le,"DIV",{});var ne=p(P);C=d(ne,"DIV",{class:!0});var oe=p(C);G=U(oe,F),oe.forEach(i),K=S(ne),x=d(ne,"DIV",{class:!0});var te=p(x);Z=d(te,"DIV",{class:!0});var Le=p(Z);j=d(Le,"SELECT",{class:!0,placeholder:!0});var ke=p(j);he&&he.l(ke),Y=It();for(let Ve=0;Ve<re.length;Ve+=1)re[Ve].l(ke);ke.forEach(i),Le.forEach(i),X=S(te),Q=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(Q)!=="svelte-irplzb"&&(Q.innerHTML=se),te.forEach(i),ne.forEach(i),this.h()},h(){o(l,"class","text-sm font-medium"),o(c,"class","text-xs font-medium text-gray-500"),o(c,"type","button"),o(t,"class","flex justify-between items-center text-xs"),o(b,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(b,"placeholder",y=s[27].t("Enter LiteLLM Model (litellm_params.model)")),o(b,"autocomplete","off"),o(w,"class","flex-1 mr-2"),o(E,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(m,"class","flex w-full mb-1.5"),o(g,"class","my-2 space-y-2"),o(R,"class","text-gray-300 font-medium underline"),o(R,"href","https://litellm.vercel.app/docs/proxy/configs#quick-start"),o(R,"target","_blank"),o(T,"class","mb-2 text-xs text-gray-400 dark:text-gray-500"),o(C,"class","mb-2.5 text-sm font-medium"),o(j,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(j,"placeholder",J=s[27].t("Select a model")),s[10]===void 0&&Gt(()=>s[65].call(j)),o(Z,"class","flex-1 mr-2"),o(Q,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(x,"class","flex w-full")},m(le,De){B(le,e,De),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(c,_),B(le,h,De),B(le,g,De),a(g,m),a(m,w),a(w,b),me(b,s[0]),a(m,I),a(m,E),a(g,D),pe&&pe.m(g,null),B(le,L,De),B(le,T,De),a(T,M),a(T,N),a(T,R),a(R,O),B(le,q,De),B(le,P,De),a(P,C),a(C,G),a(P,K),a(P,x),a(x,Z),a(Z,j),he&&he.m(j,null),a(j,Y);for(let ae=0;ae<re.length;ae+=1)re[ae]&&re[ae].m(j,null);Et(j,s[10],!0),a(x,X),a(x,Q),ue||(ie=[$(c,"click",s[57]),$(b,"input",s[58]),$(E,"click",s[59]),$(j,"change",s[65]),$(Q,"click",s[66])],ue=!0)},p(le,De){if(De[0]&134217728&&r!==(r=le[27].t("Add a model")+"")&&W(n,r),De[0]&134217732&&v!==(v=(le[2]?le[27].t("Hide Additional Params"):le[27].t("Show Additional Params"))+"")&&W(_,v),De[0]&134217728&&y!==(y=le[27].t("Enter LiteLLM Model (litellm_params.model)"))&&o(b,"placeholder",y),De[0]&1&&b.value!==le[0]&&me(b,le[0]),le[2]?pe?pe.p(le,De):(pe=sr(le),pe.c(),pe.m(g,null)):pe&&(pe.d(1),pe=null),De[0]&134217728&&V!==(V=le[27].t("Not sure what to add?")+"")&&W(M,V),De[0]&134217728&&z!==(z=le[27].t("Click here for help.")+"")&&W(O,z),De[0]&134217728&&F!==(F=le[27].t("Delete a model")+"")&&W(G,F),le[10]?he&&(he.d(1),he=null):he?he.p(le,De):(he=rr(le),he.c(),he.m(j,Y)),De[0]&16){ce=it(le[4]);let ae;for(ae=0;ae<ce.length;ae+=1){const ee=Us(le,ce,ae);re[ae]?re[ae].p(ee,De):(re[ae]=ar(ee),re[ae].c(),re[ae].m(j,null))}for(;ae<re.length;ae+=1)re[ae].d(1);re.length=ce.length}De[0]&134217728&&J!==(J=le[27].t("Select a model"))&&o(j,"placeholder",J),De[0]&1040&&Et(j,le[10])},d(le){le&&(i(e),i(h),i(g),i(L),i(T),i(q),i(P)),pe&&pe.d(),he&&he.d(),Ct(re,le),ue=!1,ut(ie)}}}function sr(s){let e,t,l=s[27].t("Model Name")+"",r,n,u,c,v,_,h,g,m=s[27].t("API Base URL")+"",w,b,y,I,E,k,D,L,T,V=s[27].t("API Key")+"",M,N,R,z,O,q,P,C,F,G=s[27].t("API RPM")+"",K,x,Z,j,Y,J,X,Q,se,ue=s[27].t("Max Tokens")+"",ie,pe,he,ce,re,le,De,ae;return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("div"),v=f("input"),_=A(),h=f("div"),g=f("div"),w=H(m),b=A(),y=f("div"),I=f("div"),E=f("input"),D=A(),L=f("div"),T=f("div"),M=H(V),N=A(),R=f("div"),z=f("div"),O=f("input"),P=A(),C=f("div"),F=f("div"),K=H(G),x=A(),Z=f("div"),j=f("div"),Y=f("input"),X=A(),Q=f("div"),se=f("div"),ie=H(ue),pe=A(),he=f("div"),ce=f("div"),re=f("input"),this.h()},l(ee){e=d(ee,"DIV",{});var fe=p(e);t=d(fe,"DIV",{class:!0});var Ce=p(t);r=U(Ce,l),Ce.forEach(i),n=S(fe),u=d(fe,"DIV",{class:!0});var de=p(u);c=d(de,"DIV",{class:!0});var xe=p(c);v=d(xe,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),xe.forEach(i),de.forEach(i),fe.forEach(i),_=S(ee),h=d(ee,"DIV",{});var _e=p(h);g=d(_e,"DIV",{class:!0});var Je=p(g);w=U(Je,m),Je.forEach(i),b=S(_e),y=d(_e,"DIV",{class:!0});var ne=p(y);I=d(ne,"DIV",{class:!0});var oe=p(I);E=d(oe,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),oe.forEach(i),ne.forEach(i),_e.forEach(i),D=S(ee),L=d(ee,"DIV",{});var te=p(L);T=d(te,"DIV",{class:!0});var Le=p(T);M=U(Le,V),Le.forEach(i),N=S(te),R=d(te,"DIV",{class:!0});var ke=p(R);z=d(ke,"DIV",{class:!0});var Ve=p(z);O=d(Ve,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),Ve.forEach(i),ke.forEach(i),te.forEach(i),P=S(ee),C=d(ee,"DIV",{});var Me=p(C);F=d(Me,"DIV",{class:!0});var Ue=p(F);K=U(Ue,G),Ue.forEach(i),x=S(Me),Z=d(Me,"DIV",{class:!0});var we=p(Z);j=d(we,"DIV",{class:!0});var Ae=p(j);Y=d(Ae,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),Ae.forEach(i),we.forEach(i),Me.forEach(i),X=S(ee),Q=d(ee,"DIV",{});var ge=p(Q);se=d(ge,"DIV",{class:!0});var Te=p(se);ie=U(Te,ue),Te.forEach(i),pe=S(ge),he=d(ge,"DIV",{class:!0});var Ie=p(he);ce=d(Ie,"DIV",{class:!0});var je=p(ce);re=d(je,"INPUT",{class:!0,placeholder:!0,type:!0,min:!0,autocomplete:!0}),je.forEach(i),Ie.forEach(i),ge.forEach(i),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(v,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(v,"placeholder","Enter Model Name (model_name)"),o(v,"autocomplete","off"),o(c,"class","flex-1"),o(u,"class","flex w-full"),o(g,"class","mb-1.5 text-sm font-medium"),o(E,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(E,"placeholder",k=s[27].t("Enter LiteLLM API Base URL (litellm_params.api_base)")),o(E,"autocomplete","off"),o(I,"class","flex-1"),o(y,"class","flex w-full"),o(T,"class","mb-1.5 text-sm font-medium"),o(O,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(O,"placeholder",q=s[27].t("Enter LiteLLM API Key (litellm_params.api_key)")),o(O,"autocomplete","off"),o(z,"class","flex-1"),o(R,"class","flex w-full"),o(F,"class","mb-1.5 text-sm font-medium"),o(Y,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Y,"placeholder",J=s[27].t("Enter LiteLLM API RPM (litellm_params.rpm)")),o(Y,"autocomplete","off"),o(j,"class","flex-1"),o(Z,"class","flex w-full"),o(se,"class","mb-1.5 text-sm font-medium"),o(re,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(re,"placeholder",le=s[27].t("Enter Max Tokens (litellm_params.max_tokens)")),o(re,"type","number"),o(re,"min","1"),o(re,"autocomplete","off"),o(ce,"class","flex-1"),o(he,"class","flex w-full")},m(ee,fe){B(ee,e,fe),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),a(c,v),me(v,s[5]),B(ee,_,fe),B(ee,h,fe),a(h,g),a(g,w),a(h,b),a(h,y),a(y,I),a(I,E),me(E,s[6]),B(ee,D,fe),B(ee,L,fe),a(L,T),a(T,M),a(L,N),a(L,R),a(R,z),a(z,O),me(O,s[7]),B(ee,P,fe),B(ee,C,fe),a(C,F),a(F,K),a(C,x),a(C,Z),a(Z,j),a(j,Y),me(Y,s[8]),B(ee,X,fe),B(ee,Q,fe),a(Q,se),a(se,ie),a(Q,pe),a(Q,he),a(he,ce),a(ce,re),me(re,s[9]),De||(ae=[$(v,"input",s[60]),$(E,"input",s[61]),$(O,"input",s[62]),$(Y,"input",s[63]),$(re,"input",s[64])],De=!0)},p(ee,fe){fe[0]&134217728&&l!==(l=ee[27].t("Model Name")+"")&&W(r,l),fe[0]&32&&v.value!==ee[5]&&me(v,ee[5]),fe[0]&134217728&&m!==(m=ee[27].t("API Base URL")+"")&&W(w,m),fe[0]&134217728&&k!==(k=ee[27].t("Enter LiteLLM API Base URL (litellm_params.api_base)"))&&o(E,"placeholder",k),fe[0]&64&&E.value!==ee[6]&&me(E,ee[6]),fe[0]&134217728&&V!==(V=ee[27].t("API Key")+"")&&W(M,V),fe[0]&134217728&&q!==(q=ee[27].t("Enter LiteLLM API Key (litellm_params.api_key)"))&&o(O,"placeholder",q),fe[0]&128&&O.value!==ee[7]&&me(O,ee[7]),fe[0]&134217728&&G!==(G=ee[27].t("API RPM")+"")&&W(K,G),fe[0]&134217728&&J!==(J=ee[27].t("Enter LiteLLM API RPM (litellm_params.rpm)"))&&o(Y,"placeholder",J),fe[0]&256&&Y.value!==ee[8]&&me(Y,ee[8]),fe[0]&134217728&&ue!==(ue=ee[27].t("Max Tokens")+"")&&W(ie,ue),fe[0]&134217728&&le!==(le=ee[27].t("Enter Max Tokens (litellm_params.max_tokens)"))&&o(re,"placeholder",le),fe[0]&512&&ga(re.value)!==ee[9]&&me(re,ee[9])},d(ee){ee&&(i(e),i(_),i(h),i(D),i(L),i(P),i(C),i(X),i(Q)),De=!1,ut(ae)}}}function rr(s){let e,t=s[27].t("Select a model")+"",l;return{c(){e=f("option"),l=H(t),this.h()},l(r){e=d(r,"OPTION",{});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){e.__value="",me(e,e.__value),e.disabled=!0,e.selected=!0},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&134217728&&t!==(t=r[27].t("Select a model")+"")&&W(l,t)},d(r){r&&i(e)}}}function ar(s){let e,t=s[69].model_name+"",l,r;return{c(){e=f("option"),l=H(t),this.h()},l(n){e=d(n,"OPTION",{class:!0});var u=p(e);l=U(u,t),u.forEach(i),this.h()},h(){e.__value=r=s[69].model_name,me(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,u){B(n,e,u),a(e,l)},p(n,u){u[0]&16&&t!==(t=n[69].model_name+"")&&W(l,t),u[0]&16&&r!==(r=n[69].model_name)&&(e.__value=r,me(e,e.__value))},d(n){n&&i(e)}}}function jo(s){let e,t,l,r,n,u,c,v,_,h=s[27].t("Manage LiteLLM Models")+"",g,m,w,b=(s[1]?s[27].t("Hide"):s[27].t("Show"))+"",y,I,E,k,D,L=s[16]&&Zs(s),T=s[1]&&lr(s);return{c(){e=f("div"),t=f("div"),L&&L.c(),l=A(),r=f("div"),n=f("div"),u=f("div"),c=f("div"),v=f("div"),_=f("div"),g=H(h),m=A(),w=f("button"),y=H(b),I=A(),T&&T.c(),this.h()},l(V){e=d(V,"DIV",{class:!0});var M=p(e);t=d(M,"DIV",{class:!0});var N=p(t);L&&L.l(N),l=S(N),r=d(N,"DIV",{class:!0});var R=p(r);n=d(R,"DIV",{class:!0});var z=p(n);u=d(z,"DIV",{});var O=p(u);c=d(O,"DIV",{class:!0});var q=p(c);v=d(q,"DIV",{class:!0});var P=p(v);_=d(P,"DIV",{class:!0});var C=p(_);g=U(C,h),C.forEach(i),m=S(P),w=d(P,"BUTTON",{class:!0,type:!0});var F=p(w);y=U(F,b),F.forEach(i),P.forEach(i),q.forEach(i),I=S(O),T&&T.l(O),O.forEach(i),z.forEach(i),R.forEach(i),N.forEach(i),M.forEach(i),this.h()},h(){o(_,"class","text-sm font-medium"),o(w,"class","text-xs font-medium text-gray-500"),o(w,"type","button"),o(v,"class","flex justify-between items-center text-xs"),o(c,"class","mb-2"),o(n,"class","mt-2 space-y-3 pr-1.5"),o(r,"class","space-y-3"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-[24rem]"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(V,M){B(V,e,M),a(e,t),L&&L.m(t,null),a(t,l),a(t,r),a(r,n),a(n,u),a(u,c),a(c,v),a(v,_),a(_,g),a(v,m),a(v,w),a(w,y),a(u,I),T&&T.m(u,null),E=!0,k||(D=$(w,"click",s[56]),k=!0)},p(V,M){V[16]?L?(L.p(V,M),M[0]&65536&&Ee(L,1)):(L=Zs(V),L.c(),Ee(L,1),L.m(t,l)):L&&(zt(),Pe(L,1,1,()=>{L=null}),Zt()),(!E||M[0]&134217728)&&h!==(h=V[27].t("Manage LiteLLM Models")+"")&&W(g,h),(!E||M[0]&134217730)&&b!==(b=(V[1]?V[27].t("Hide"):V[27].t("Show"))+"")&&W(y,b),V[1]?T?T.p(V,M):(T=lr(V),T.c(),T.m(u,null)):T&&(T.d(1),T=null)},i(V){E||(Ee(L),E=!0)},o(V){Pe(L),E=!1},d(V){V&&i(e),L&&L.d(),T&&T.d(),k=!1,D()}}}const Ro=3;function zo(s,e,t){let l,r,n;st(s,Ll,be=>t(28,r=be)),st(s,Kt,be=>t(29,n=be));const u=jt("i18n");st(s,u,be=>t(27,l=be));let{getModels:c}=e,v=!1,_=!1,h,g=[],m="",w="",b="",y="",I="",E="",k="",D=[],L=null,T=null,V=null,M=!1,N="",R=!1,z="",O="",q=null,P="file",C=null,F="",G=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,K="",x=null,Z="",j="";const Y=async()=>{for(const be of n.filter(Re=>Re.size!=null&&(L===null?!0:((Re==null?void 0:Re.urls)??[]).includes(L)))){console.log(be),t(13,T=be.id);const Re=await Vs(localStorage.token,be.id,L).catch(Ge=>(Xe.error(Ge),null));if(Re){const Ge=Re.body.pipeThrough(new TextDecoderStream).pipeThrough(Kl(`
`)).getReader();for(;;)try{const{value:We,done:et}=await Ge.read();if(et)break;let Fe=We.split(`
`);for(const qe of Fe)if(qe!==""){let Ke=JSON.parse(qe);if(console.log(Ke),Ke.error)throw Ke.error;if(Ke.detail)throw Ke.detail;Ke.status&&(Ke.digest?(t(14,V=0),Ke.completed?t(14,V=Math.round(Ke.completed/Ke.total*1e3)/10):t(14,V=100)):Xe.success(Ke.status))}}catch(We){console.log(We)}}}t(13,T=null),t(14,V=null)},J=async()=>{const be=z.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(r),r[be]){Xe.error(l.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:be}));return}if(Object.keys(r).length===Ro){Xe.error(l.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const Re=await Vs(localStorage.token,be,"0").catch(Ge=>(Xe.error(Ge),null));if(Re){const Ge=Re.body.pipeThrough(new TextDecoderStream).pipeThrough(Kl(`
`)).getReader();for(;;)try{const{value:We,done:et}=await Ge.read();if(et)break;let Fe=We.split(`
`);for(const qe of Fe)if(qe!==""){let Ke=JSON.parse(qe);if(console.log(Ke),Ke.error)throw Ke.error;if(Ke.detail)throw Ke.detail;if(Ke.id&&(Ll.set({...r,[be]:{...r[be],requestId:Ke.id,reader:Ge,done:!1}}),console.log(Ke)),Ke.status)if(Ke.digest){let Oe=0;Ke.completed?Oe=Math.round(Ke.completed/Ke.total*1e3)/10:Oe=100,Ll.set({...r,[be]:{...r[be],pullProgress:Oe,digest:Ke.digest}})}else Xe.success(Ke.status),Ll.set({...r,[be]:{...r[be],done:Ke.status==="success"}})}}catch(We){console.log(We),typeof We!="string"&&(We=We.message),Xe.error(We)}console.log(r[be]),r[be].done?(Xe.success(l.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:be})),Kt.set(await c(localStorage.token))):Xe.error(l.t("Download canceled")),delete r[be],Ll.set({...r})}t(18,z=""),t(17,R=!1)},X=async()=>{t(17,R=!0);let be=!1,Re=null,Ge="";if(P==="file"){const We=C?C[0]:null;We&&(t(25,Z="Uploading..."),Re=await hn(localStorage.token,We,L).catch(et=>(Xe.error(et),null)))}else t(24,x=0),Re=await vn(localStorage.token,F,L).catch(We=>(Xe.error(We),null));if(Re&&Re.ok){const We=Re.body.pipeThrough(new TextDecoderStream).pipeThrough(Kl(`
`)).getReader();for(;;){const{value:et,done:Fe}=await We.read();if(Fe)break;try{let qe=et.split(`
`);for(const Ke of qe)if(Ke!==""){let Oe=JSON.parse(Ke.replace(/^data: /,""));if(Oe.progress&&(Z&&t(25,Z=""),t(24,x=Oe.progress)),Oe.error)throw Oe.error;Oe.done&&(t(23,K=Oe.blob),Ge=Oe.name,be=!0)}}catch(qe){console.log(qe)}}}else{const We=await(Re==null?void 0:Re.json());Xe.error((We==null?void 0:We.detail)??We)}if(be){const We=await pn(localStorage.token,`${Ge}:latest`,`FROM @${K}
${G}`);if(We&&We.ok){const et=We.body.pipeThrough(new TextDecoderStream).pipeThrough(Kl(`
`)).getReader();for(;;){const{value:Fe,done:qe}=await et.read();if(qe)break;try{let Ke=Fe.split(`
`);for(const Oe of Ke)if(Oe!==""){console.log(Oe);let ye=JSON.parse(Oe);if(console.log(ye),ye.error)throw ye.error;if(ye.detail)throw ye.detail;ye.status&&(!ye.digest&&!ye.status.includes("writing")&&!ye.status.includes("sha256")?Xe.success(ye.status):ye.digest&&(O=ye.digest,ye.completed?q=Math.round(ye.completed/ye.total*1e3)/10:q=100))}}catch(Ke){console.log(Ke),Xe.error(Ke)}}}}t(21,F=""),h&&t(3,h.value="",h),t(20,C=null),t(17,R=!1),t(24,x=null),Kt.set(await c())},Q=async()=>{await Ms(localStorage.token,j,L).catch(Re=>{Xe.error(Re)})&&Xe.success(l.t("Deleted {{deleteModelTag}}",{deleteModelTag:j})),t(26,j=""),Kt.set(await c())},se=async be=>{const{reader:Re,requestId:Ge}=r[be];Re&&(await Re.cancel(),await dn(localStorage.token,Ge),delete r[be],Ll.set({...r}),await Ms(localStorage.token,be),Xe.success(`${be} download has been canceled`))},ue=async()=>{if(g.find(be=>be.model_name===w))Xe.error(l.t("Model {{modelName}} already exists.",{modelName:w}));else{const be=await Ha(localStorage.token,{name:w,model:m,api_base:b,api_key:y,rpm:I,max_tokens:E}).catch(Re=>(Xe.error(Re),null));be&&be.message&&Xe.success(be.message)}t(5,w=""),t(0,m=""),t(6,b=""),t(7,y=""),t(8,I=""),t(9,E=""),t(4,g=await ts(localStorage.token)),Kt.set(await c())},ie=async()=>{const be=await Ua(localStorage.token,k).catch(Re=>(Xe.error(Re),null));be&&be.message&&Xe.success(be.message),t(10,k=""),t(4,g=await ts(localStorage.token)),Kt.set(await c())};Ft(async()=>{t(11,D=await Aa(localStorage.token).catch(be=>(Xe.error(be),[]))),D.length>0&&t(12,L=0),t(16,N=await _s(localStorage.token).catch(be=>!1)),t(4,g=await ts(localStorage.token))});function pe(){L=Yt(this),t(12,L)}const he=()=>{Y()};function ce(){z=this.value,t(18,z)}const re=()=>{J()},le=be=>{se(be)},De=be=>be.size!=null&&(L===null?!0:((be==null?void 0:be.urls)??[]).includes(L));function ae(){j=Yt(this),t(26,j),t(12,L)}const ee=()=>{Q()},fe=()=>{t(15,M=!M)},Ce=()=>{P==="file"?t(19,P="url"):t(19,P="file")};function de(be){Rt[be?"unshift":"push"](()=>{h=be,t(3,h)})}function xe(){C=this.files,t(20,C)}const _e=()=>{console.log(C)},Je=()=>{h.click()};function ne(){F=this.value,t(21,F)}function oe(){G=this.value,t(22,G)}const te=()=>{X()},Le=()=>{t(1,v=!v)},ke=()=>{t(2,_=!_)};function Ve(){m=this.value,t(0,m)}const Me=()=>{ue()};function Ue(){w=this.value,t(5,w),t(0,m)}function we(){b=this.value,t(6,b)}function Ae(){y=this.value,t(7,y)}function ge(){I=this.value,t(8,I)}function Te(){E=ga(this.value),t(9,E)}function Ie(){k=Yt(this),t(10,k),t(4,g)}const je=()=>{ie()};return s.$$set=be=>{"getModels"in be&&t(38,c=be.getModels)},s.$$.update=()=>{s.$$.dirty[0]&1&&t(5,w=m)},[m,v,_,h,g,w,b,y,I,E,k,D,L,T,V,M,N,R,z,P,C,F,G,K,x,Z,j,l,r,n,u,Y,J,X,Q,se,ue,ie,c,pe,he,ce,re,le,De,ae,ee,fe,Ce,de,xe,_e,Je,ne,oe,te,Le,ke,Ve,Me,Ue,we,Ae,ge,Te,Ie,je]}class Zo extends St{constructor(e){super(),Lt(this,e,zo,jo,At,{getModels:38},null,[-1,-1,-1])}}function nr(s,e,t){const l=s.slice();return l[31]=e[t],l}function or(s){let e,t=s[31].title+"",l,r;return{c(){e=f("option"),l=H(t),this.h()},l(n){e=d(n,"OPTION",{});var u=p(e);l=U(u,t),u.forEach(i),this.h()},h(){e.__value=r=s[31].code,me(e,e.__value)},m(n,u){B(n,e,u),a(e,l)},p(n,u){u[0]&4&&t!==(t=n[31].title+"")&&W(l,t),u[0]&4&&r!==(r=n[31].code)&&(e.__value=r,me(e,e.__value))},d(n){n&&i(e)}}}function ir(s){let e,t=`Couldn&#39;t find your language?
					<a class="text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization" target="_blank">Help us translate ToolAI!</a>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-2cl9cx"&&(e.innerHTML=t),this.h()},h(){o(e,"class","mb-2 text-xs text-gray-400 dark:text-gray-500")},m(l,r){B(l,e,r)},d(l){l&&i(e)}}}function Wo(s){let e,t=s[10].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function qo(s){let e,t=s[10].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function ur(s){let e,t,l,r,n,u,c,v,_=s[10].t("Keep Alive")+"",h,g,m,w,b,y,I,E,k=s[10].t("Request Mode")+"",D,L,T,V,M,N;function R(x){s[24](x)}let z={};s[9]!==void 0&&(z.options=s[9]),e=new gn({props:z}),Rt.push(()=>el(e,"options",R));function O(x,Z){return x[8]===null?Fo:Go}let q=O(s),P=q(s),C=s[8]!==null&&cr(s);function F(x,Z){if(x[7]==="")return Yo;if(x[7]==="json")return Ko}let G=F(s),K=G&&G(s);return{c(){rt(e.$$.fragment),l=A(),r=f("hr"),n=A(),u=f("div"),c=f("div"),v=f("div"),h=H(_),g=A(),m=f("button"),P.c(),w=A(),C&&C.c(),b=A(),y=f("div"),I=f("div"),E=f("div"),D=H(k),L=A(),T=f("button"),K&&K.c(),this.h()},l(x){at(e.$$.fragment,x),l=S(x),r=d(x,"HR",{class:!0}),n=S(x),u=d(x,"DIV",{class:!0});var Z=p(u);c=d(Z,"DIV",{class:!0});var j=p(c);v=d(j,"DIV",{class:!0});var Y=p(v);h=U(Y,_),Y.forEach(i),g=S(j),m=d(j,"BUTTON",{class:!0,type:!0});var J=p(m);P.l(J),J.forEach(i),j.forEach(i),w=S(Z),C&&C.l(Z),Z.forEach(i),b=S(x),y=d(x,"DIV",{});var X=p(y);I=d(X,"DIV",{class:!0});var Q=p(I);E=d(Q,"DIV",{class:!0});var se=p(E);D=U(se,k),se.forEach(i),L=S(Q),T=d(Q,"BUTTON",{class:!0});var ue=p(T);K&&K.l(ue),ue.forEach(i),Q.forEach(i),X.forEach(i),this.h()},h(){o(r,"class","dark:border-gray-700"),o(v,"class","self-center text-xs font-medium"),o(m,"class","p-1 px-3 text-xs flex rounded transition"),o(m,"type","button"),o(c,"class","flex w-full justify-between"),o(u,"class","py-1 w-full justify-between"),o(E,"class","self-center text-sm font-medium"),o(T,"class","p-1 px-3 text-xs flex rounded transition"),o(I,"class","py-1 flex w-full justify-between")},m(x,Z){nt(e,x,Z),B(x,l,Z),B(x,r,Z),B(x,n,Z),B(x,u,Z),a(u,c),a(c,v),a(v,h),a(c,g),a(c,m),P.m(m,null),a(u,w),C&&C.m(u,null),B(x,b,Z),B(x,y,Z),a(y,I),a(I,E),a(E,D),a(I,L),a(I,T),K&&K.m(T,null),V=!0,M||(N=[$(m,"click",s[25]),$(T,"click",s[27])],M=!0)},p(x,Z){const j={};!t&&Z[0]&512&&(t=!0,j.options=x[9],$t(()=>t=!1)),e.$set(j),(!V||Z[0]&1024)&&_!==(_=x[10].t("Keep Alive")+"")&&W(h,_),q===(q=O(x))&&P?P.p(x,Z):(P.d(1),P=q(x),P&&(P.c(),P.m(m,null))),x[8]!==null?C?C.p(x,Z):(C=cr(x),C.c(),C.m(u,null)):C&&(C.d(1),C=null),(!V||Z[0]&1024)&&k!==(k=x[10].t("Request Mode")+"")&&W(D,k),G===(G=F(x))&&K?K.p(x,Z):(K&&K.d(1),K=G&&G(x),K&&(K.c(),K.m(T,null)))},i(x){V||(Ee(e.$$.fragment,x),V=!0)},o(x){Pe(e.$$.fragment,x),V=!1},d(x){x&&(i(l),i(r),i(n),i(u),i(b),i(y)),ot(e,x),P.d(),C&&C.d(),K&&K.d(),M=!1,ut(N)}}}function Go(s){let e,t=s[10].t("Custom")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].t("Custom")+"")&&W(l,t)},d(r){r&&i(e)}}}function Fo(s){let e,t=s[10].t("Default")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].t("Default")+"")&&W(l,t)},d(r){r&&i(e)}}}function cr(s){let e,t,l,r,n;return{c(){e=f("div"),t=f("input"),this.h()},l(u){e=d(u,"DIV",{class:!0});var c=p(e);t=d(c,"INPUT",{class:!0,type:!0,placeholder:!0}),c.forEach(i),this.h()},h(){o(t,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),o(t,"type","text"),o(t,"placeholder",l=s[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.")),o(e,"class","flex mt-1 space-x-2")},m(u,c){B(u,e,c),a(e,t),me(t,s[8]),r||(n=$(t,"input",s[26]),r=!0)},p(u,c){c[0]&1024&&l!==(l=u[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'."))&&o(t,"placeholder",l),c[0]&256&&t.value!==u[8]&&me(t,u[8])},d(u){u&&i(e),r=!1,n()}}}function Ko(s){let e,t=s[10].t("JSON")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].t("JSON")+"")&&W(l,t)},d(r){r&&i(e)}}}function Yo(s){let e,t=s[10].t("Default")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10].t("Default")+"")&&W(l,t)},d(r){r&&i(e)}}}function Jo(s){let e,t,l,r,n=s[10].t("WebUI Settings")+"",u,c,v,_,h=s[10].t("Theme")+"",g,m,w,b,y,I,E=s[10].t("System")+"",k,D,L,T=s[10].t("Dark")+"",V,M,N,R=s[10].t("OLED Dark")+"",z,O,q,P=s[10].t("Light")+"",C,F,G,K,x=s[10].t("Language")+"",Z,j,Y,J,X,Q,se,ue,ie,pe=s[10].t("Notifications")+"",he,ce,re,le,De,ae,ee,fe,Ce=s[10].t("System Prompt")+"",de,xe,_e,Je,ne,oe,te,Le=s[10].t("Advanced Parameters")+"",ke,Ve,Me,Ue=(s[6]?s[10].t("Hide"):s[10].t("Show"))+"",we,Ae,ge,Te,Ie,je=s[10].t("Save")+"",be,Re,Ge,We,et=it(s[2]),Fe=[];for(let Be=0;Be<et.length;Be+=1)Fe[Be]=or(nr(s,et,Be));let qe=s[10].language==="en-US"&&ir();function Ke(Be,ze){return Be[4]===!0?qo:Wo}let Oe=Ke(s),ye=Oe(s),tt=s[6]&&ur(s);return{c(){e=f("div"),t=f("div"),l=f("div"),r=f("div"),u=H(n),c=A(),v=f("div"),_=f("div"),g=H(h),m=A(),w=f("div"),b=f("select"),y=f("option"),I=H(" "),k=H(E),D=f("option"),L=H(" "),V=H(T),M=f("option"),N=H(" "),z=H(R),O=f("option"),q=H(" "),C=H(P),F=A(),G=f("div"),K=f("div"),Z=H(x),j=A(),Y=f("div"),J=f("select");for(let Be=0;Be<Fe.length;Be+=1)Fe[Be].c();X=A(),qe&&qe.c(),Q=A(),se=f("div"),ue=f("div"),ie=f("div"),he=H(pe),ce=A(),re=f("button"),ye.c(),le=A(),De=f("hr"),ae=A(),ee=f("div"),fe=f("div"),de=H(Ce),xe=A(),_e=f("textarea"),Je=A(),ne=f("div"),oe=f("div"),te=f("div"),ke=H(Le),Ve=A(),Me=f("button"),we=H(Ue),Ae=A(),tt&&tt.c(),ge=A(),Te=f("div"),Ie=f("button"),be=H(je),this.h()},l(Be){e=d(Be,"DIV",{class:!0});var ze=p(e);t=d(ze,"DIV",{class:!0});var ve=p(t);l=d(ve,"DIV",{class:!0});var Ze=p(l);r=d(Ze,"DIV",{class:!0});var ft=p(r);u=U(ft,n),ft.forEach(i),c=S(Ze),v=d(Ze,"DIV",{class:!0});var ct=p(v);_=d(ct,"DIV",{class:!0});var xt=p(_);g=U(xt,h),xt.forEach(i),m=S(ct),w=d(ct,"DIV",{class:!0});var Ot=p(w);b=d(Ot,"SELECT",{class:!0,placeholder:!0});var kt=p(b);y=d(kt,"OPTION",{});var _t=p(y);I=U(_t," "),k=U(_t,E),_t.forEach(i),D=d(kt,"OPTION",{});var Bt=p(D);L=U(Bt," "),V=U(Bt,T),Bt.forEach(i),M=d(kt,"OPTION",{});var wt=p(M);N=U(wt," "),z=U(wt,R),wt.forEach(i),O=d(kt,"OPTION",{});var vt=p(O);q=U(vt," "),C=U(vt,P),vt.forEach(i),kt.forEach(i),Ot.forEach(i),ct.forEach(i),F=S(Ze),G=d(Ze,"DIV",{class:!0});var Dt=p(G);K=d(Dt,"DIV",{class:!0});var Nt=p(K);Z=U(Nt,x),Nt.forEach(i),j=S(Dt),Y=d(Dt,"DIV",{class:!0});var yt=p(Y);J=d(yt,"SELECT",{class:!0,placeholder:!0});var Pt=p(J);for(let He=0;He<Fe.length;He+=1)Fe[He].l(Pt);Pt.forEach(i),yt.forEach(i),Dt.forEach(i),X=S(Ze),qe&&qe.l(Ze),Q=S(Ze),se=d(Ze,"DIV",{});var qt=p(se);ue=d(qt,"DIV",{class:!0});var Tt=p(ue);ie=d(Tt,"DIV",{class:!0});var Vt=p(ie);he=U(Vt,pe),Vt.forEach(i),ce=S(Tt),re=d(Tt,"BUTTON",{class:!0,type:!0});var Ht=p(re);ye.l(Ht),Ht.forEach(i),Tt.forEach(i),qt.forEach(i),Ze.forEach(i),le=S(ve),De=d(ve,"HR",{class:!0}),ae=S(ve),ee=d(ve,"DIV",{});var pt=p(ee);fe=d(pt,"DIV",{class:!0});var Ut=p(fe);de=U(Ut,Ce),Ut.forEach(i),xe=S(pt),_e=d(pt,"TEXTAREA",{class:!0,rows:!0}),p(_e).forEach(i),pt.forEach(i),Je=S(ve),ne=d(ve,"DIV",{class:!0});var dt=p(ne);oe=d(dt,"DIV",{class:!0});var Mt=p(oe);te=d(Mt,"DIV",{class:!0});var mt=p(te);ke=U(mt,Le),mt.forEach(i),Ve=S(Mt),Me=d(Mt,"BUTTON",{class:!0,type:!0});var gt=p(Me);we=U(gt,Ue),gt.forEach(i),Mt.forEach(i),Ae=S(dt),tt&&tt.l(dt),dt.forEach(i),ve.forEach(i),ge=S(ze),Te=d(ze,"DIV",{class:!0});var Se=p(Te);Ie=d(Se,"BUTTON",{class:!0});var Ye=p(Ie);be=U(Ye,je),Ye.forEach(i),Se.forEach(i),ze.forEach(i),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(_,"class","self-center text-xs font-medium"),y.__value="system",me(y,y.__value),D.__value="dark",me(D,D.__value),M.__value="oled-dark",me(M,M.__value),O.__value="light",me(O,O.__value),o(b,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(b,"placeholder","Select a theme"),s[1]===void 0&&Gt(()=>s[17].call(b)),o(w,"class","flex items-center relative"),o(v,"class","flex w-full justify-between"),o(K,"class","self-center text-xs font-medium"),o(J,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(J,"placeholder","Select a language"),s[3]===void 0&&Gt(()=>s[19].call(J)),o(Y,"class","flex items-center relative"),o(G,"class","flex w-full justify-between"),o(ie,"class","self-center text-xs font-medium"),o(re,"class","p-1 px-3 text-xs flex rounded transition"),o(re,"type","button"),o(ue,"class","py-0.5 flex w-full justify-between"),o(l,"class",""),o(De,"class","dark:border-gray-700 my-3"),o(fe,"class","my-2.5 text-sm font-medium"),o(_e,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(_e,"rows","4"),o(te,"class","font-medium"),o(Me,"class","text-xs font-medium text-gray-500"),o(Me,"type","button"),o(oe,"class","flex justify-between items-center text-sm"),o(ne,"class","mt-2 space-y-3 pr-1.5"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[22rem]"),o(Ie,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Te,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(Be,ze){B(Be,e,ze),a(e,t),a(t,l),a(l,r),a(r,u),a(l,c),a(l,v),a(v,_),a(_,g),a(v,m),a(v,w),a(w,b),a(b,y),a(y,I),a(y,k),a(b,D),a(D,L),a(D,V),a(b,M),a(M,N),a(M,z),a(b,O),a(O,q),a(O,C),Et(b,s[1],!0),a(l,F),a(l,G),a(G,K),a(K,Z),a(G,j),a(G,Y),a(Y,J);for(let ve=0;ve<Fe.length;ve+=1)Fe[ve]&&Fe[ve].m(J,null);Et(J,s[3],!0),a(l,X),qe&&qe.m(l,null),a(l,Q),a(l,se),a(se,ue),a(ue,ie),a(ie,he),a(ue,ce),a(ue,re),ye.m(re,null),a(t,le),a(t,De),a(t,ae),a(t,ee),a(ee,fe),a(fe,de),a(ee,xe),a(ee,_e),me(_e,s[5]),a(t,Je),a(t,ne),a(ne,oe),a(oe,te),a(te,ke),a(oe,Ve),a(oe,Me),a(Me,we),a(ne,Ae),tt&&tt.m(ne,null),a(e,ge),a(e,Te),a(Te,Ie),a(Ie,be),Re=!0,Ge||(We=[$(b,"change",s[17]),$(b,"change",s[18]),$(J,"change",s[19]),$(J,"change",s[20]),$(re,"click",s[21]),$(_e,"input",s[22]),$(Me,"click",s[23]),$(Ie,"click",s[28])],Ge=!0)},p(Be,ze){if((!Re||ze[0]&1024)&&n!==(n=Be[10].t("WebUI Settings")+"")&&W(u,n),(!Re||ze[0]&1024)&&h!==(h=Be[10].t("Theme")+"")&&W(g,h),(!Re||ze[0]&1024)&&E!==(E=Be[10].t("System")+"")&&W(k,E),(!Re||ze[0]&1024)&&T!==(T=Be[10].t("Dark")+"")&&W(V,T),(!Re||ze[0]&1024)&&R!==(R=Be[10].t("OLED Dark")+"")&&W(z,R),(!Re||ze[0]&1024)&&P!==(P=Be[10].t("Light")+"")&&W(C,P),ze[0]&2&&Et(b,Be[1]),(!Re||ze[0]&1024)&&x!==(x=Be[10].t("Language")+"")&&W(Z,x),ze[0]&4){et=it(Be[2]);let ve;for(ve=0;ve<et.length;ve+=1){const Ze=nr(Be,et,ve);Fe[ve]?Fe[ve].p(Ze,ze):(Fe[ve]=or(Ze),Fe[ve].c(),Fe[ve].m(J,null))}for(;ve<Fe.length;ve+=1)Fe[ve].d(1);Fe.length=et.length}ze[0]&12&&Et(J,Be[3]),Be[10].language==="en-US"?qe||(qe=ir(),qe.c(),qe.m(l,Q)):qe&&(qe.d(1),qe=null),(!Re||ze[0]&1024)&&pe!==(pe=Be[10].t("Notifications")+"")&&W(he,pe),Oe===(Oe=Ke(Be))&&ye?ye.p(Be,ze):(ye.d(1),ye=Oe(Be),ye&&(ye.c(),ye.m(re,null))),(!Re||ze[0]&1024)&&Ce!==(Ce=Be[10].t("System Prompt")+"")&&W(de,Ce),ze[0]&32&&me(_e,Be[5]),(!Re||ze[0]&1024)&&Le!==(Le=Be[10].t("Advanced Parameters")+"")&&W(ke,Le),(!Re||ze[0]&1088)&&Ue!==(Ue=(Be[6]?Be[10].t("Hide"):Be[10].t("Show"))+"")&&W(we,Ue),Be[6]?tt?(tt.p(Be,ze),ze[0]&64&&Ee(tt,1)):(tt=ur(Be),tt.c(),Ee(tt,1),tt.m(ne,null)):tt&&(zt(),Pe(tt,1,1,()=>{tt=null}),Zt()),(!Re||ze[0]&1024)&&je!==(je=Be[10].t("Save")+"")&&W(be,je)},i(Be){Re||(Ee(tt),Re=!0)},o(Be){Pe(tt),Re=!1},d(Be){Be&&i(e),Ct(Fe,Be),qe&&qe.d(),ye.d(),tt&&tt.d(),Ge=!1,ut(We)}}}function Xo(s,e,t){let l;const r=Nl(),n=jt("i18n");st(s,n,x=>t(10,l=x));let{saveSettings:u}=e,{getModels:c}=e,v=["dark","light","rose-pine dark","rose-pine-dawn light","oled-dark"],_="system",h=[],g=l.language,m=!1,w="",b=!1;const y=async()=>{await Notification.requestPermission()==="granted"?(t(4,m=!m),u({notificationEnabled:m})):Xe.error("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access.")};let I="",E=null,k={seed:0,temperature:"",repeat_penalty:"",repeat_last_n:"",mirostat:"",mirostat_eta:"",mirostat_tau:"",top_k:"",top_p:"",stop:"",tfs_z:"",num_ctx:"",num_predict:""};const D=async()=>{I===""?t(7,I="json"):t(7,I=""),u({requestFormat:I!==""?I:void 0})};Ft(async()=>{var Z;t(1,_=localStorage.theme??"system");let x=JSON.parse(localStorage.getItem("settings")??"{}");t(2,h=await mn()),t(4,m=x.notificationEnabled??!1),t(5,w=x.system??""),t(7,I=x.requestFormat??""),t(8,E=x.keepAlive??null),t(9,k.seed=x.seed??0,k),t(9,k.temperature=x.temperature??"",k),t(9,k.repeat_penalty=x.repeat_penalty??"",k),t(9,k.top_k=x.top_k??"",k),t(9,k.top_p=x.top_p??"",k),t(9,k.num_ctx=x.num_ctx??"",k),t(9,k={...k,...x.options}),t(9,k.stop=(((Z=x==null?void 0:x.options)==null?void 0:Z.stop)??[]).join(","),k)});const L=x=>{let Z=x==="oled-dark"?"dark":x;x==="system"&&(Z=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z==="dark"&&!x.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),v.filter(j=>j!==Z).forEach(j=>{j.split(" ").forEach(Y=>{document.documentElement.classList.remove(Y)})}),Z.split(" ").forEach(j=>{document.documentElement.classList.add(j)}),console.log(x)},T=x=>{ln.set(x),localStorage.setItem("theme",x),x.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark")),L(x)};function V(){_=Yt(this),t(1,_)}const M=()=>T(_);function N(){g=Yt(this),t(3,g),t(2,h)}const R=x=>{l.changeLanguage(g)},z=()=>{y()};function O(){w=this.value,t(5,w)}const q=()=>{t(6,b=!b)};function P(x){k=x,t(9,k)}const C=()=>{t(8,E=E===null?"5m":null)};function F(){E=this.value,t(8,E)}const G=()=>{D()},K=()=>{u({system:w!==""?w:void 0,options:{seed:(k.seed!==0?k.seed:void 0)??void 0,stop:k.stop!==""?k.stop.split(",").filter(x=>x):void 0,temperature:k.temperature!==""?k.temperature:void 0,repeat_penalty:k.repeat_penalty!==""?k.repeat_penalty:void 0,repeat_last_n:k.repeat_last_n!==""?k.repeat_last_n:void 0,mirostat:k.mirostat!==""?k.mirostat:void 0,mirostat_eta:k.mirostat_eta!==""?k.mirostat_eta:void 0,mirostat_tau:k.mirostat_tau!==""?k.mirostat_tau:void 0,top_k:k.top_k!==""?k.top_k:void 0,top_p:k.top_p!==""?k.top_p:void 0,tfs_z:k.tfs_z!==""?k.tfs_z:void 0,num_ctx:k.num_ctx!==""?k.num_ctx:void 0,num_predict:k.num_predict!==""?k.num_predict:void 0},keepAlive:E?isNaN(E)?E:parseInt(E):void 0}),r("save")};return s.$$set=x=>{"saveSettings"in x&&t(0,u=x.saveSettings),"getModels"in x&&t(16,c=x.getModels)},[u,_,h,g,m,w,b,I,E,k,l,r,n,y,D,T,c,V,M,N,R,z,O,q,P,C,F,G,K]}class Qo extends St{constructor(e){super(),Lt(this,e,Xo,Jo,At,{saveSettings:0,getModels:16},null,[-1,-1])}}function fr(s,e,t){const l=s.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function dr(s,e,t){const l=s.slice();return l[40]=e[t],l}function hr(s,e,t){const l=s.slice();return l[40]=e[t],l}function $o(s){let e,t=s[9].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function ei(s){let e,t=s[9].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function ti(s){let e,t=s[9].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function li(s){let e,t=s[9].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function si(s){let e,t=s[9].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function ri(s){let e,t=s[9].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function ai(s){let e,t=s[9].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function ni(s){let e,t=s[9].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function oi(s){let e,t=s[9].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function ii(s){let e,t=s[9].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function vr(s){let e,t=s[40].name+" ("+(s[40].size/1073741824).toFixed(1)+" GB)",l,r,n;return{c(){e=f("option"),l=H(t),r=A(),this.h()},l(u){e=d(u,"OPTION",{class:!0});var c=p(e);l=U(c,t),r=S(c),c.forEach(i),this.h()},h(){e.__value=n=s[40].name,me(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(u,c){B(u,e,c),a(e,l),a(e,r)},p(u,c){c[0]&2048&&t!==(t=u[40].name+" ("+(u[40].size/1024**3).toFixed(1)+" GB)")&&W(l,t),c[0]&2048&&n!==(n=u[40].name)&&(e.__value=n,me(e,e.__value))},d(u){u&&i(e)}}}function pr(s){let e,t=s[40].size!=null&&vr(s);return{c(){t&&t.c(),e=It()},l(l){t&&t.l(l),e=It()},m(l,r){t&&t.m(l,r),B(l,e,r)},p(l,r){l[40].size!=null?t?t.p(l,r):(t=vr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&i(e),t&&t.d(l)}}}function _r(s){let e,t=s[40].name+"",l,r,n;return{c(){e=f("option"),l=H(t),r=A(),this.h()},l(u){e=d(u,"OPTION",{class:!0});var c=p(e);l=U(c,t),r=S(c),c.forEach(i),this.h()},h(){e.__value=n=s[40].name,me(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(u,c){B(u,e,c),a(e,l),a(e,r)},p(u,c){c[0]&2048&&t!==(t=u[40].name+"")&&W(l,t),c[0]&2048&&n!==(n=u[40].name)&&(e.__value=n,me(e,e.__value))},d(u){u&&i(e)}}}function mr(s){let e,t=s[40].name!=="hr"&&_r(s);return{c(){t&&t.c(),e=It()},l(l){t&&t.l(l),e=It()},m(l,r){t&&t.m(l,r),B(l,e,r)},p(l,r){l[40].name!=="hr"?t?t.p(l,r):(t=_r(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&i(e),t&&t.d(l)}}}function gr(s){let e,t,l,r,n,u=s[9].t("Default Prompt Suggestions")+"",c,v,_,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',g,m,w,b,y,I=it(s[7]),E=[];for(let D=0;D<I.length;D+=1)E[D]=br(fr(s,I,D));let k=s[7].length>0&&wr(s);return{c(){e=f("hr"),t=A(),l=f("div"),r=f("div"),n=f("div"),c=H(u),v=A(),_=f("button"),_.innerHTML=h,g=A(),m=f("div");for(let D=0;D<E.length;D+=1)E[D].c();w=A(),k&&k.c(),this.h()},l(D){e=d(D,"HR",{class:!0}),t=S(D),l=d(D,"DIV",{class:!0});var L=p(l);r=d(L,"DIV",{class:!0});var T=p(r);n=d(T,"DIV",{class:!0});var V=p(n);c=U(V,u),V.forEach(i),v=S(T),_=d(T,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ne(_)!=="svelte-192kpg7"&&(_.innerHTML=h),T.forEach(i),g=S(L),m=d(L,"DIV",{class:!0});var M=p(m);for(let N=0;N<E.length;N+=1)E[N].l(M);M.forEach(i),w=S(L),k&&k.l(L),L.forEach(i),this.h()},h(){o(e,"class","dark:border-gray-700"),o(n,"class","self-center text-sm font-semibold"),o(_,"class","p-1 px-3 text-xs flex rounded transition"),o(_,"type","button"),o(r,"class","flex w-full justify-between mb-2"),o(m,"class","flex flex-col space-y-1"),o(l,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80")},m(D,L){B(D,e,L),B(D,t,L),B(D,l,L),a(l,r),a(r,n),a(n,c),a(r,v),a(r,_),a(l,g),a(l,m);for(let T=0;T<E.length;T+=1)E[T]&&E[T].m(m,null);a(l,w),k&&k.m(l,null),b||(y=$(_,"click",s[29]),b=!0)},p(D,L){if(L[0]&512&&u!==(u=D[9].t("Default Prompt Suggestions")+"")&&W(c,u),L[0]&640){I=it(D[7]);let T;for(T=0;T<I.length;T+=1){const V=fr(D,I,T);E[T]?E[T].p(V,L):(E[T]=br(V),E[T].c(),E[T].m(m,null))}for(;T<E.length;T+=1)E[T].d(1);E.length=I.length}D[7].length>0?k?k.p(D,L):(k=wr(D),k.c(),k.m(l,null)):k&&(k.d(1),k=null)},d(D){D&&(i(e),i(t),i(l)),Ct(E,D),k&&k.d(),b=!1,y()}}}function br(s){let e,t,l,r,n,u,c,v,_,h,g,m,w,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',y,I,E;function k(){s[30].call(r,s[38],s[39])}function D(){s[31].call(c,s[38],s[39])}function L(){s[32].call(h,s[38],s[39])}function T(){return s[33](s[39])}return{c(){e=f("div"),t=f("div"),l=f("div"),r=f("input"),u=A(),c=f("input"),_=A(),h=f("input"),m=A(),w=f("button"),w.innerHTML=b,y=A(),this.h()},l(V){e=d(V,"DIV",{class:!0});var M=p(e);t=d(M,"DIV",{class:!0});var N=p(t);l=d(N,"DIV",{class:!0});var R=p(l);r=d(R,"INPUT",{class:!0,placeholder:!0}),u=S(R),c=d(R,"INPUT",{class:!0,placeholder:!0}),R.forEach(i),_=S(N),h=d(N,"INPUT",{class:!0,placeholder:!0}),N.forEach(i),m=S(M),w=d(M,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ne(w)!=="svelte-1lkxdu6"&&(w.innerHTML=b),y=S(M),M.forEach(i),this.h()},h(){o(r,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(r,"placeholder",n=s[9].t("Title (e.g. Tell me a fun fact)")),o(c,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(c,"placeholder",v=s[9].t("Subtitle (e.g. about the Roman Empire)")),o(l,"class","flex border-b dark:border-gray-600 w-full"),o(h,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(h,"placeholder",g=s[9].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),o(t,"class","flex flex-col flex-1"),o(w,"class","px-2"),o(w,"type","button"),o(e,"class","flex border dark:border-gray-600 rounded-lg")},m(V,M){B(V,e,M),a(e,t),a(t,l),a(l,r),me(r,s[37].title[0]),a(l,u),a(l,c),me(c,s[37].title[1]),a(t,_),a(t,h),me(h,s[37].content),a(e,m),a(e,w),a(e,y),I||(E=[$(r,"input",k),$(c,"input",D),$(h,"input",L),$(w,"click",T)],I=!0)},p(V,M){s=V,M[0]&512&&n!==(n=s[9].t("Title (e.g. Tell me a fun fact)"))&&o(r,"placeholder",n),M[0]&128&&r.value!==s[37].title[0]&&me(r,s[37].title[0]),M[0]&512&&v!==(v=s[9].t("Subtitle (e.g. about the Roman Empire)"))&&o(c,"placeholder",v),M[0]&128&&c.value!==s[37].title[1]&&me(c,s[37].title[1]),M[0]&512&&g!==(g=s[9].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&o(h,"placeholder",g),M[0]&128&&h.value!==s[37].content&&me(h,s[37].content)},d(V){V&&i(e),I=!1,ut(E)}}}function wr(s){let e,t=s[9].t("Adjusting these settings will apply changes universally to all users.")+"",l;return{c(){e=f("div"),l=H(t),this.h()},l(r){e=d(r,"DIV",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","text-xs text-left w-full mt-2")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&512&&t!==(t=r[9].t("Adjusting these settings will apply changes universally to all users.")+"")&&W(l,t)},d(r){r&&i(e)}}}function ui(s){let e,t,l,r,n=s[9].t("WebUI Add-ons")+"",u,c,v,_,h,g=s[9].t("Title Auto-Generation")+"",m,w,b,y,I,E,k,D=s[9].t("Response AutoCopy to Clipboard")+"",L,T,V,M,N,R,z,O=s[9].t("Full Screen Mode")+"",q,P,C,F,G,K,x,Z=s[9].t("Display the username instead of You in the Chat")+"",j,Y,J,X,Q,se,ue,ie=s[9].t("Fluidly stream large external response chunks")+"",pe,he,ce,re,le,De,ae,ee,fe=s[9].t("Set Title Auto-Generation Model")+"",Ce,de,xe,_e,Je,ne="Local Models",oe,te,Le,ke=s[9].t("Current Model")+"",Ve,Me,Ue,we,Ae,ge="External Models",Te,Ie,je,be=s[9].t("Current Model")+"",Re,Ge,We,et,Fe,qe=s[9].t("Title Generation Prompt")+"",Ke,Oe,ye,tt,Be,ze,ve,Ze=s[9].t("Save")+"",ft,ct,xt;function Ot(Se,Ye){return Se[0]===!0?ei:$o}let kt=Ot(s),_t=kt(s);function Bt(Se,Ye){return Se[1]===!0?li:ti}let wt=Bt(s),vt=wt(s);function Dt(Se,Ye){return Se[4]===!0?ri:si}let Nt=Dt(s),yt=Nt(s);function Pt(Se,Ye){return Se[8]===!0?ni:ai}let qt=Pt(s),Tt=qt(s);function Vt(Se,Ye){return Se[6]===!0?ii:oi}let Ht=Vt(s),pt=Ht(s),Ut=it(s[11]),dt=[];for(let Se=0;Se<Ut.length;Se+=1)dt[Se]=pr(hr(s,Ut,Se));let Mt=it(s[11]),mt=[];for(let Se=0;Se<Mt.length;Se+=1)mt[Se]=mr(dr(s,Mt,Se));let gt=s[10].role==="admin"&&gr(s);return{c(){e=f("form"),t=f("div"),l=f("div"),r=f("div"),u=H(n),c=A(),v=f("div"),_=f("div"),h=f("div"),m=H(g),w=A(),b=f("button"),_t.c(),y=A(),I=f("div"),E=f("div"),k=f("div"),L=H(D),T=A(),V=f("button"),vt.c(),M=A(),N=f("div"),R=f("div"),z=f("div"),q=H(O),P=A(),C=f("button"),yt.c(),F=A(),G=f("div"),K=f("div"),x=f("div"),j=H(Z),Y=A(),J=f("button"),Tt.c(),X=A(),Q=f("div"),se=f("div"),ue=f("div"),pe=H(ie),he=A(),ce=f("button"),pt.c(),re=A(),le=f("hr"),De=A(),ae=f("div"),ee=f("div"),Ce=H(fe),de=A(),xe=f("div"),_e=f("div"),Je=f("div"),Je.textContent=ne,oe=A(),te=f("select"),Le=f("option"),Ve=H(ke);for(let Se=0;Se<dt.length;Se+=1)dt[Se].c();Ue=A(),we=f("div"),Ae=f("div"),Ae.textContent=ge,Te=A(),Ie=f("select"),je=f("option"),Re=H(be);for(let Se=0;Se<mt.length;Se+=1)mt[Se].c();We=A(),et=f("div"),Fe=f("div"),Ke=H(qe),Oe=A(),ye=f("textarea"),tt=A(),gt&&gt.c(),Be=A(),ze=f("div"),ve=f("button"),ft=H(Ze),this.h()},l(Se){e=d(Se,"FORM",{class:!0});var Ye=p(e);t=d(Ye,"DIV",{class:!0});var He=p(t);l=d(He,"DIV",{});var bt=p(l);r=d(bt,"DIV",{class:!0});var hl=p(r);u=U(hl,n),hl.forEach(i),c=S(bt),v=d(bt,"DIV",{});var Pl=p(v);_=d(Pl,"DIV",{class:!0});var rl=p(_);h=d(rl,"DIV",{class:!0});var Jt=p(h);m=U(Jt,g),Jt.forEach(i),w=S(rl),b=d(rl,"BUTTON",{class:!0,type:!0});var pl=p(b);_t.l(pl),pl.forEach(i),rl.forEach(i),Pl.forEach(i),y=S(bt),I=d(bt,"DIV",{});var Bl=p(I);E=d(Bl,"DIV",{class:!0});var al=p(E);k=d(al,"DIV",{class:!0});var Hl=p(k);L=U(Hl,D),Hl.forEach(i),T=S(al),V=d(al,"BUTTON",{class:!0,type:!0});var _l=p(V);vt.l(_l),_l.forEach(i),al.forEach(i),Bl.forEach(i),M=S(bt),N=d(bt,"DIV",{});var Ul=p(N);R=d(Ul,"DIV",{class:!0});var nl=p(R);z=d(nl,"DIV",{class:!0});var jl=p(z);q=U(jl,O),jl.forEach(i),P=S(nl),C=d(nl,"BUTTON",{class:!0,type:!0});var Xt=p(C);yt.l(Xt),Xt.forEach(i),nl.forEach(i),Ul.forEach(i),F=S(bt),G=d(bt,"DIV",{});var ml=p(G);K=d(ml,"DIV",{class:!0});var gl=p(K);x=d(gl,"DIV",{class:!0});var bl=p(x);j=U(bl,Z),bl.forEach(i),Y=S(gl),J=d(gl,"BUTTON",{class:!0,type:!0});var Rl=p(J);Tt.l(Rl),Rl.forEach(i),gl.forEach(i),ml.forEach(i),X=S(bt),Q=d(bt,"DIV",{});var wl=p(Q);se=d(wl,"DIV",{class:!0});var kl=p(se);ue=d(kl,"DIV",{class:!0});var yl=p(ue);pe=U(yl,ie),yl.forEach(i),he=S(kl),ce=d(kl,"BUTTON",{class:!0,type:!0});var zl=p(ce);pt.l(zl),zl.forEach(i),kl.forEach(i),wl.forEach(i),bt.forEach(i),re=S(He),le=d(He,"HR",{class:!0}),De=S(He),ae=d(He,"DIV",{});var ol=p(ae);ee=d(ol,"DIV",{class:!0});var Zl=p(ee);Ce=U(Zl,fe),Zl.forEach(i),de=S(ol),xe=d(ol,"DIV",{class:!0});var El=p(xe);_e=d(El,"DIV",{class:!0});var Il=p(_e);Je=d(Il,"DIV",{class:!0,"data-svelte-h":!0}),Ne(Je)!=="svelte-lqo5l8"&&(Je.textContent=ne),oe=S(Il),te=d(Il,"SELECT",{class:!0,placeholder:!0});var tl=p(te);Le=d(tl,"OPTION",{});var Dl=p(Le);Ve=U(Dl,ke),Dl.forEach(i);for(let Vl=0;Vl<dt.length;Vl+=1)dt[Vl].l(tl);tl.forEach(i),Il.forEach(i),Ue=S(El),we=d(El,"DIV",{class:!0});var Tl=p(we);Ae=d(Tl,"DIV",{class:!0,"data-svelte-h":!0}),Ne(Ae)!=="svelte-1gfxkt4"&&(Ae.textContent=ge),Te=S(Tl),Ie=d(Tl,"SELECT",{class:!0,placeholder:!0});var vl=p(Ie);je=d(vl,"OPTION",{});var Wl=p(je);Re=U(Wl,be),Wl.forEach(i);for(let Vl=0;Vl<mt.length;Vl+=1)mt[Vl].l(vl);vl.forEach(i),Tl.forEach(i),El.forEach(i),We=S(ol),et=d(ol,"DIV",{class:!0});var il=p(et);Fe=d(il,"DIV",{class:!0});var ql=p(Fe);Ke=U(ql,qe),ql.forEach(i),Oe=S(il),ye=d(il,"TEXTAREA",{class:!0,rows:!0}),p(ye).forEach(i),il.forEach(i),ol.forEach(i),tt=S(He),gt&&gt.l(He),He.forEach(i),Be=S(Ye),ze=d(Ye,"DIV",{class:!0});var bs=p(ze);ve=d(bs,"BUTTON",{class:!0,type:!0});var ws=p(ve);ft=U(ws,Ze),ws.forEach(i),bs.forEach(i),Ye.forEach(i),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(h,"class","self-center text-xs font-medium"),o(b,"class","p-1 px-3 text-xs flex rounded transition"),o(b,"type","button"),o(_,"class","py-0.5 flex w-full justify-between"),o(k,"class","self-center text-xs font-medium"),o(V,"class","p-1 px-3 text-xs flex rounded transition"),o(V,"type","button"),o(E,"class","py-0.5 flex w-full justify-between"),o(z,"class","self-center text-xs font-medium"),o(C,"class","p-1 px-3 text-xs flex rounded transition"),o(C,"type","button"),o(R,"class","py-0.5 flex w-full justify-between"),o(x,"class","self-center text-xs font-medium"),o(J,"class","p-1 px-3 text-xs flex rounded transition"),o(J,"type","button"),o(K,"class","py-0.5 flex w-full justify-between"),o(ue,"class","self-center text-xs font-medium"),o(ce,"class","p-1 px-3 text-xs flex rounded transition"),o(ce,"type","button"),o(se,"class","py-0.5 flex w-full justify-between"),o(le,"class","dark:border-gray-700"),o(ee,"class","mb-2.5 text-sm font-medium"),o(Je,"class","text-xs mb-1"),Le.__value="",me(Le,Le.__value),Le.selected=!0,o(te,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(te,"placeholder",Me=s[9].t("Select a model")),s[2]===void 0&&Gt(()=>s[26].call(te)),o(_e,"class","flex-1"),o(Ae,"class","text-xs mb-1"),je.__value="",me(je,je.__value),je.selected=!0,o(Ie,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Ie,"placeholder",Ge=s[9].t("Select a model")),s[3]===void 0&&Gt(()=>s[27].call(Ie)),o(we,"class","flex-1"),o(xe,"class","flex w-full gap-2 pr-2"),o(Fe,"class","mb-2.5 text-sm font-medium"),o(ye,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(ye,"rows","3"),o(et,"class","mt-3 mr-2"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[22rem]"),o(ve,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(ve,"type","submit"),o(ze,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Se,Ye){B(Se,e,Ye),a(e,t),a(t,l),a(l,r),a(r,u),a(l,c),a(l,v),a(v,_),a(_,h),a(h,m),a(_,w),a(_,b),_t.m(b,null),a(l,y),a(l,I),a(I,E),a(E,k),a(k,L),a(E,T),a(E,V),vt.m(V,null),a(l,M),a(l,N),a(N,R),a(R,z),a(z,q),a(R,P),a(R,C),yt.m(C,null),a(l,F),a(l,G),a(G,K),a(K,x),a(x,j),a(K,Y),a(K,J),Tt.m(J,null),a(l,X),a(l,Q),a(Q,se),a(se,ue),a(ue,pe),a(se,he),a(se,ce),pt.m(ce,null),a(t,re),a(t,le),a(t,De),a(t,ae),a(ae,ee),a(ee,Ce),a(ae,de),a(ae,xe),a(xe,_e),a(_e,Je),a(_e,oe),a(_e,te),a(te,Le),a(Le,Ve);for(let He=0;He<dt.length;He+=1)dt[He]&&dt[He].m(te,null);Et(te,s[2],!0),a(xe,Ue),a(xe,we),a(we,Ae),a(we,Te),a(we,Ie),a(Ie,je),a(je,Re);for(let He=0;He<mt.length;He+=1)mt[He]&&mt[He].m(Ie,null);Et(Ie,s[3],!0),a(ae,We),a(ae,et),a(et,Fe),a(Fe,Ke),a(et,Oe),a(et,ye),me(ye,s[5]),a(t,tt),gt&&gt.m(t,null),a(e,Be),a(e,ze),a(ze,ve),a(ve,ft),ct||(xt=[$(b,"click",s[21]),$(V,"click",s[22]),$(C,"click",s[23]),$(J,"click",s[24]),$(ce,"click",s[25]),$(te,"change",s[26]),$(Ie,"change",s[27]),$(ye,"input",s[28]),$(e,"submit",Ol(s[34]))],ct=!0)},p(Se,Ye){if(Ye[0]&512&&n!==(n=Se[9].t("WebUI Add-ons")+"")&&W(u,n),Ye[0]&512&&g!==(g=Se[9].t("Title Auto-Generation")+"")&&W(m,g),kt===(kt=Ot(Se))&&_t?_t.p(Se,Ye):(_t.d(1),_t=kt(Se),_t&&(_t.c(),_t.m(b,null))),Ye[0]&512&&D!==(D=Se[9].t("Response AutoCopy to Clipboard")+"")&&W(L,D),wt===(wt=Bt(Se))&&vt?vt.p(Se,Ye):(vt.d(1),vt=wt(Se),vt&&(vt.c(),vt.m(V,null))),Ye[0]&512&&O!==(O=Se[9].t("Full Screen Mode")+"")&&W(q,O),Nt===(Nt=Dt(Se))&&yt?yt.p(Se,Ye):(yt.d(1),yt=Nt(Se),yt&&(yt.c(),yt.m(C,null))),Ye[0]&512&&Z!==(Z=Se[9].t("Display the username instead of You in the Chat")+"")&&W(j,Z),qt===(qt=Pt(Se))&&Tt?Tt.p(Se,Ye):(Tt.d(1),Tt=qt(Se),Tt&&(Tt.c(),Tt.m(J,null))),Ye[0]&512&&ie!==(ie=Se[9].t("Fluidly stream large external response chunks")+"")&&W(pe,ie),Ht===(Ht=Vt(Se))&&pt?pt.p(Se,Ye):(pt.d(1),pt=Ht(Se),pt&&(pt.c(),pt.m(ce,null))),Ye[0]&512&&fe!==(fe=Se[9].t("Set Title Auto-Generation Model")+"")&&W(Ce,fe),Ye[0]&512&&ke!==(ke=Se[9].t("Current Model")+"")&&W(Ve,ke),Ye[0]&2048){Ut=it(Se[11]);let He;for(He=0;He<Ut.length;He+=1){const bt=hr(Se,Ut,He);dt[He]?dt[He].p(bt,Ye):(dt[He]=pr(bt),dt[He].c(),dt[He].m(te,null))}for(;He<dt.length;He+=1)dt[He].d(1);dt.length=Ut.length}if(Ye[0]&512&&Me!==(Me=Se[9].t("Select a model"))&&o(te,"placeholder",Me),Ye[0]&2052&&Et(te,Se[2]),Ye[0]&512&&be!==(be=Se[9].t("Current Model")+"")&&W(Re,be),Ye[0]&2048){Mt=it(Se[11]);let He;for(He=0;He<Mt.length;He+=1){const bt=dr(Se,Mt,He);mt[He]?mt[He].p(bt,Ye):(mt[He]=mr(bt),mt[He].c(),mt[He].m(Ie,null))}for(;He<mt.length;He+=1)mt[He].d(1);mt.length=Mt.length}Ye[0]&512&&Ge!==(Ge=Se[9].t("Select a model"))&&o(Ie,"placeholder",Ge),Ye[0]&2056&&Et(Ie,Se[3]),Ye[0]&512&&qe!==(qe=Se[9].t("Title Generation Prompt")+"")&&W(Ke,qe),Ye[0]&32&&me(ye,Se[5]),Se[10].role==="admin"?gt?gt.p(Se,Ye):(gt=gr(Se),gt.c(),gt.m(t,null)):gt&&(gt.d(1),gt=null),Ye[0]&512&&Ze!==(Ze=Se[9].t("Save")+"")&&W(ft,Ze)},i:lt,o:lt,d(Se){Se&&i(e),_t.d(),vt.d(),yt.d(),Tt.d(),pt.d(),Ct(dt,Se),Ct(mt,Se),gt&&gt.d(),ct=!1,ut(xt)}}}function ci(s,e,t){let l,r,n,u,c;st(s,Cl,Q=>t(35,r=Q)),st(s,sl,Q=>t(10,n=Q)),st(s,xl,Q=>t(36,u=Q)),st(s,Kt,Q=>t(11,c=Q));const v=Nl(),_=jt("i18n");st(s,_,Q=>t(9,l=Q));let{saveSettings:h}=e,g=!0,m=!1,w="",b="",y=!1,I="",E=!1,k=[],D=!1;const L=async()=>{t(6,E=!E),h({splitLargeChunks:E})},T=async()=>{t(4,y=!y),h({fullScreenMode:y})},V=async()=>{t(8,D=!D),h({showUsername:D})},M=async()=>{t(0,g=!g),h({title:{...u.title,auto:g}})},N=async()=>{const Q=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(Q),Q==="granted"?(t(1,m=!m),h({responseAutoCopy:m})):Xe.error("Clipboard write permission denied. Please check your browser settings to grant the necessary access.")},R=async()=>{n.role==="admin"&&(t(7,k=await kn(localStorage.token,k)),await Cl.set(await Sa())),h({title:{...u.title,model:w!==""?w:void 0,modelExternal:b!==""?b:void 0,prompt:I||void 0}})};Ft(async()=>{var se,ue,ie,pe;n.role==="admin"&&t(7,k=r==null?void 0:r.default_prompt_suggestions);let Q=JSON.parse(localStorage.getItem("settings")??"{}");t(0,g=((se=Q==null?void 0:Q.title)==null?void 0:se.auto)??!0),t(2,w=((ue=Q==null?void 0:Q.title)==null?void 0:ue.model)??""),t(3,b=((ie=Q==null?void 0:Q.title)==null?void 0:ie.modelExternal)??""),t(5,I=((pe=Q==null?void 0:Q.title)==null?void 0:pe.prompt)??l.t("Create a concise, 3-5 word phrase as a header for the following query, strictly adhering to the 3-5 word limit and avoiding the use of the word 'title':")+" {{prompt}}"),t(1,m=Q.responseAutoCopy??!1),t(8,D=Q.showUsername??!1),t(4,y=Q.fullScreenMode??!1),t(6,E=Q.splitLargeChunks??!1)});const z=()=>{M()},O=()=>{N()},q=()=>{T()},P=()=>{V()},C=()=>{L()};function F(){w=Yt(this),t(2,w)}function G(){b=Yt(this),t(3,b)}function K(){I=this.value,t(5,I)}const x=()=>{(k.length===0||k.at(-1).content!=="")&&t(7,k=[...k,{content:"",title:["",""]}])};function Z(Q,se){Q[se].title[0]=this.value,t(7,k)}function j(Q,se){Q[se].title[1]=this.value,t(7,k)}function Y(Q,se){Q[se].content=this.value,t(7,k)}const J=Q=>{k.splice(Q,1),t(7,k)},X=()=>{R(),v("save")};return s.$$set=Q=>{"saveSettings"in Q&&t(20,h=Q.saveSettings)},[g,m,w,b,y,I,E,k,D,l,n,c,v,_,L,T,V,M,N,R,h,z,O,q,P,C,F,G,K,x,Z,j,Y,J,X]}class fi extends St{constructor(e){super(),Lt(this,e,ci,ui,At,{saveSettings:20},null,[-1,-1])}}function kr(s,e,t){const l=s.slice();return l[13]=e[t],l}function yr(s,e,t){const l=s.slice();return l[38]=e[t],l}function Er(s,e,t){const l=s.slice();return l[38]=e[t],l}function di(s){let e,t=s[12].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&4096&&t!==(t=r[12].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function hi(s){let e,t=s[12].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&4096&&t!==(t=r[12].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function vi(s){let e,t=s[12].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&4096&&t!==(t=r[12].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function pi(s){let e,t=s[12].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&4096&&t!==(t=r[12].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function Ir(s){let e,t=s[7]==="openai"&&Dr(s);return{c(){t&&t.c(),e=It()},l(l){t&&t.l(l),e=It()},m(l,r){t&&t.m(l,r),B(l,e,r)},p(l,r){l[7]==="openai"?t?t.p(l,r):(t=Dr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&i(e),t&&t.d(l)}}}function Dr(s){let e,t,l,r,n,u,c,v;return{c(){e=f("div"),t=f("input"),r=A(),n=f("input"),this.h()},l(_){e=d(_,"DIV",{class:!0});var h=p(e);t=d(h,"INPUT",{class:!0,placeholder:!0}),r=S(h),n=d(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(i),this.h()},h(){o(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"placeholder",l=s[12].t("API Base URL")),t.required=!0,o(n,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(n,"placeholder",u=s[12].t("API Key")),n.required=!0,o(e,"class","mt-1 flex gap-2 mb-1")},m(_,h){B(_,e,h),a(e,t),me(t,s[1]),a(e,r),a(e,n),me(n,s[2]),c||(v=[$(t,"input",s[28]),$(n,"input",s[29])],c=!0)},p(_,h){h[0]&4096&&l!==(l=_[12].t("API Base URL"))&&o(t,"placeholder",l),h[0]&2&&t.value!==_[1]&&me(t,_[1]),h[0]&4096&&u!==(u=_[12].t("API Key"))&&o(n,"placeholder",u),h[0]&4&&n.value!==_[2]&&me(n,_[2])},d(_){_&&i(e),c=!1,ut(v)}}}function _i(s){let e,t=s[12].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&4096&&t!==(t=r[12].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function mi(s){let e,t=s[12].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&4096&&t!==(t=r[12].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function gi(s){let e,t,l=s[12].t("Set Voice")+"",r,n,u,c,v,_,h,g,m,w,b=s[12].t("Set Model")+"",y,I,E,k,D,L,T,V,M,N=it(s[8]),R=[];for(let q=0;q<N.length;q+=1)R[q]=Tr(yr(s,N,q));let z=it(s[10]),O=[];for(let q=0;q<z.length;q+=1)O[q]=Vr(kr(s,z,q));return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("div"),v=f("input"),_=A(),h=f("datalist");for(let q=0;q<R.length;q+=1)R[q].c();g=A(),m=f("div"),w=f("div"),y=H(b),I=A(),E=f("div"),k=f("div"),D=f("input"),L=A(),T=f("datalist");for(let q=0;q<O.length;q+=1)O[q].c();this.h()},l(q){e=d(q,"DIV",{});var P=p(e);t=d(P,"DIV",{class:!0});var C=p(t);r=U(C,l),C.forEach(i),n=S(P),u=d(P,"DIV",{class:!0});var F=p(u);c=d(F,"DIV",{class:!0});var G=p(c);v=d(G,"INPUT",{list:!0,class:!0,placeholder:!0}),_=S(G),h=d(G,"DATALIST",{id:!0});var K=p(h);for(let X=0;X<R.length;X+=1)R[X].l(K);K.forEach(i),G.forEach(i),F.forEach(i),P.forEach(i),g=S(q),m=d(q,"DIV",{});var x=p(m);w=d(x,"DIV",{class:!0});var Z=p(w);y=U(Z,b),Z.forEach(i),I=S(x),E=d(x,"DIV",{class:!0});var j=p(E);k=d(j,"DIV",{class:!0});var Y=p(k);D=d(Y,"INPUT",{list:!0,class:!0,placeholder:!0}),L=S(Y),T=d(Y,"DATALIST",{id:!0});var J=p(T);for(let X=0;X<O.length;X+=1)O[X].l(J);J.forEach(i),Y.forEach(i),j.forEach(i),x.forEach(i),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),o(v,"list","voice-list"),o(v,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(v,"placeholder","Select a voice"),o(h,"id","voice-list"),o(c,"class","flex-1"),o(u,"class","flex w-full"),o(w,"class","mb-2.5 text-sm font-medium"),o(D,"list","model-list"),o(D,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(D,"placeholder","Select a model"),o(T,"id","model-list"),o(k,"class","flex-1"),o(E,"class","flex w-full")},m(q,P){B(q,e,P),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),a(c,v),me(v,s[9]),a(c,_),a(c,h);for(let C=0;C<R.length;C+=1)R[C]&&R[C].m(h,null);B(q,g,P),B(q,m,P),a(m,w),a(w,y),a(m,I),a(m,E),a(E,k),a(k,D),me(D,s[13]),a(k,L),a(k,T);for(let C=0;C<O.length;C+=1)O[C]&&O[C].m(T,null);V||(M=[$(v,"input",s[32]),$(D,"input",s[33])],V=!0)},p(q,P){if(P[0]&4096&&l!==(l=q[12].t("Set Voice")+"")&&W(r,l),P[0]&768&&v.value!==q[9]&&me(v,q[9]),P[0]&256){N=it(q[8]);let C;for(C=0;C<N.length;C+=1){const F=yr(q,N,C);R[C]?R[C].p(F,P):(R[C]=Tr(F),R[C].c(),R[C].m(h,null))}for(;C<R.length;C+=1)R[C].d(1);R.length=N.length}if(P[0]&4096&&b!==(b=q[12].t("Set Model")+"")&&W(y,b),P[0]&8192&&D.value!==q[13]&&me(D,q[13]),P[0]&1024){z=it(q[10]);let C;for(C=0;C<z.length;C+=1){const F=kr(q,z,C);O[C]?O[C].p(F,P):(O[C]=Vr(F),O[C].c(),O[C].m(T,null))}for(;C<O.length;C+=1)O[C].d(1);O.length=z.length}},d(q){q&&(i(e),i(g),i(m)),Ct(R,q),Ct(O,q),V=!1,ut(M)}}}function bi(s){let e,t,l=s[12].t("Set Voice")+"",r,n,u,c,v,_,h=s[12].t("Default")+"",g,m,w,b=it(s[8].filter(Ar)),y=[];for(let I=0;I<b.length;I+=1)y[I]=Mr(Er(s,b,I));return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("div"),v=f("select"),_=f("option"),g=H(h);for(let I=0;I<y.length;I+=1)y[I].c();this.h()},l(I){e=d(I,"DIV",{});var E=p(e);t=d(E,"DIV",{class:!0});var k=p(t);r=U(k,l),k.forEach(i),n=S(E),u=d(E,"DIV",{class:!0});var D=p(u);c=d(D,"DIV",{class:!0});var L=p(c);v=d(L,"SELECT",{class:!0,placeholder:!0});var T=p(v);_=d(T,"OPTION",{});var V=p(_);g=U(V,h),V.forEach(i);for(let M=0;M<y.length;M+=1)y[M].l(T);T.forEach(i),L.forEach(i),D.forEach(i),E.forEach(i),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),_.__value="",me(_,_.__value),_.selected=!0,o(v,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(v,"placeholder","Select a voice"),s[9]===void 0&&Gt(()=>s[31].call(v)),o(c,"class","flex-1"),o(u,"class","flex w-full")},m(I,E){B(I,e,E),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),a(c,v),a(v,_),a(_,g);for(let k=0;k<y.length;k+=1)y[k]&&y[k].m(v,null);Et(v,s[9],!0),m||(w=$(v,"change",s[31]),m=!0)},p(I,E){if(E[0]&4096&&l!==(l=I[12].t("Set Voice")+"")&&W(r,l),E[0]&4096&&h!==(h=I[12].t("Default")+"")&&W(g,h),E[0]&256){b=it(I[8].filter(Ar));let k;for(k=0;k<b.length;k+=1){const D=Er(I,b,k);y[k]?y[k].p(D,E):(y[k]=Mr(D),y[k].c(),y[k].m(v,null))}for(;k<y.length;k+=1)y[k].d(1);y.length=b.length}E[0]&768&&Et(v,I[9])},d(I){I&&i(e),Ct(y,I),m=!1,w()}}}function Tr(s){let e,t;return{c(){e=f("option"),this.h()},l(l){e=d(l,"OPTION",{}),p(e).forEach(i),this.h()},h(){e.__value=t=s[38].name,me(e,e.__value)},m(l,r){B(l,e,r)},p(l,r){r[0]&256&&t!==(t=l[38].name)&&(e.__value=t,me(e,e.__value))},d(l){l&&i(e)}}}function Vr(s){let e,t;return{c(){e=f("option"),this.h()},l(l){e=d(l,"OPTION",{}),p(e).forEach(i),this.h()},h(){e.__value=t=s[13].name,me(e,e.__value)},m(l,r){B(l,e,r)},p(l,r){r[0]&1024&&t!==(t=l[13].name)&&(e.__value=t,me(e,e.__value))},d(l){l&&i(e)}}}function Mr(s){let e,t=s[38].name+"",l,r;return{c(){e=f("option"),l=H(t),this.h()},l(n){e=d(n,"OPTION",{class:!0});var u=p(e);l=U(u,t),u.forEach(i),this.h()},h(){e.__value=r=s[38].name,me(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,u){B(n,e,u),a(e,l)},p(n,u){u[0]&256&&t!==(t=n[38].name+"")&&W(l,t),u[0]&256&&r!==(r=n[38].name)&&(e.__value=r,me(e,e.__value))},d(n){n&&i(e)}}}function wi(s){let e,t,l,r,n=s[12].t("STT Settings")+"",u,c,v,_,h=s[12].t("Speech-to-Text Engine")+"",g,m,w,b,y,I=s[12].t("Default (Web API)")+"",E,k,D=s[12].t("Whisper (Local)")+"",L,T,V,M,N=s[12].t("Conversation Mode")+"",R,z,O,q,P,C,F=s[12].t("Auto-send input after 3 sec.")+"",G,K,x,Z,j,Y,J=s[12].t("TTS Settings")+"",X,Q,se,ue,ie=s[12].t("Text-to-Speech Engine")+"",pe,he,ce,re,le,De=s[12].t("Default (Web API)")+"",ae,ee,fe=s[12].t("Open AI")+"",Ce,de,xe,_e,Je,ne=s[12].t("Auto-playback response")+"",oe,te,Le,ke,Ve,Me,Ue,we,Ae,ge=s[12].t("Save")+"",Te,Ie,je;function be(ve,Ze){return ve[4]===!0?hi:di}let Re=be(s),Ge=Re(s);function We(ve,Ze){return ve[5]===!0?pi:vi}let et=We(s),Fe=et(s),qe=s[11].role==="admin"&&Ir(s);function Ke(ve,Ze){return ve[6]===!0?mi:_i}let Oe=Ke(s),ye=Oe(s);function tt(ve,Ze){if(ve[7]==="")return bi;if(ve[7]==="openai")return gi}let Be=tt(s),ze=Be&&Be(s);return{c(){e=f("form"),t=f("div"),l=f("div"),r=f("div"),u=H(n),c=A(),v=f("div"),_=f("div"),g=H(h),m=A(),w=f("div"),b=f("select"),y=f("option"),E=H(I),k=f("option"),L=H(D),T=A(),V=f("div"),M=f("div"),R=H(N),z=A(),O=f("button"),Ge.c(),q=A(),P=f("div"),C=f("div"),G=H(F),K=A(),x=f("button"),Fe.c(),Z=A(),j=f("div"),Y=f("div"),X=H(J),Q=A(),se=f("div"),ue=f("div"),pe=H(ie),he=A(),ce=f("div"),re=f("select"),le=f("option"),ae=H(De),ee=f("option"),Ce=H(fe),de=A(),qe&&qe.c(),xe=A(),_e=f("div"),Je=f("div"),oe=H(ne),te=A(),Le=f("button"),ye.c(),ke=A(),Ve=f("hr"),Me=A(),ze&&ze.c(),Ue=A(),we=f("div"),Ae=f("button"),Te=H(ge),this.h()},l(ve){e=d(ve,"FORM",{class:!0});var Ze=p(e);t=d(Ze,"DIV",{class:!0});var ft=p(t);l=d(ft,"DIV",{});var ct=p(l);r=d(ct,"DIV",{class:!0});var xt=p(r);u=U(xt,n),xt.forEach(i),c=S(ct),v=d(ct,"DIV",{class:!0});var Ot=p(v);_=d(Ot,"DIV",{class:!0});var kt=p(_);g=U(kt,h),kt.forEach(i),m=S(Ot),w=d(Ot,"DIV",{class:!0});var _t=p(w);b=d(_t,"SELECT",{class:!0,placeholder:!0});var Bt=p(b);y=d(Bt,"OPTION",{});var wt=p(y);E=U(wt,I),wt.forEach(i),k=d(Bt,"OPTION",{});var vt=p(k);L=U(vt,D),vt.forEach(i),Bt.forEach(i),_t.forEach(i),Ot.forEach(i),T=S(ct),V=d(ct,"DIV",{class:!0});var Dt=p(V);M=d(Dt,"DIV",{class:!0});var Nt=p(M);R=U(Nt,N),Nt.forEach(i),z=S(Dt),O=d(Dt,"BUTTON",{class:!0,type:!0});var yt=p(O);Ge.l(yt),yt.forEach(i),Dt.forEach(i),q=S(ct),P=d(ct,"DIV",{class:!0});var Pt=p(P);C=d(Pt,"DIV",{class:!0});var qt=p(C);G=U(qt,F),qt.forEach(i),K=S(Pt),x=d(Pt,"BUTTON",{class:!0,type:!0});var Tt=p(x);Fe.l(Tt),Tt.forEach(i),Pt.forEach(i),ct.forEach(i),Z=S(ft),j=d(ft,"DIV",{});var Vt=p(j);Y=d(Vt,"DIV",{class:!0});var Ht=p(Y);X=U(Ht,J),Ht.forEach(i),Q=S(Vt),se=d(Vt,"DIV",{class:!0});var pt=p(se);ue=d(pt,"DIV",{class:!0});var Ut=p(ue);pe=U(Ut,ie),Ut.forEach(i),he=S(pt),ce=d(pt,"DIV",{class:!0});var dt=p(ce);re=d(dt,"SELECT",{class:!0,placeholder:!0});var Mt=p(re);le=d(Mt,"OPTION",{});var mt=p(le);ae=U(mt,De),mt.forEach(i),ee=d(Mt,"OPTION",{});var gt=p(ee);Ce=U(gt,fe),gt.forEach(i),Mt.forEach(i),dt.forEach(i),pt.forEach(i),de=S(Vt),qe&&qe.l(Vt),xe=S(Vt),_e=d(Vt,"DIV",{class:!0});var Se=p(_e);Je=d(Se,"DIV",{class:!0});var Ye=p(Je);oe=U(Ye,ne),Ye.forEach(i),te=S(Se),Le=d(Se,"BUTTON",{class:!0,type:!0});var He=p(Le);ye.l(He),He.forEach(i),Se.forEach(i),Vt.forEach(i),ke=S(ft),Ve=d(ft,"HR",{class:!0}),Me=S(ft),ze&&ze.l(ft),ft.forEach(i),Ue=S(Ze),we=d(Ze,"DIV",{class:!0});var bt=p(we);Ae=d(bt,"BUTTON",{class:!0,type:!0});var hl=p(Ae);Te=U(hl,ge),hl.forEach(i),bt.forEach(i),Ze.forEach(i),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(_,"class","self-center text-xs font-medium"),y.__value="",me(y,y.__value),k.__value="whisper-local",me(k,k.__value),o(b,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(b,"placeholder","Select a mode"),s[3]===void 0&&Gt(()=>s[22].call(b)),o(w,"class","flex items-center relative"),o(v,"class","py-0.5 flex w-full justify-between"),o(M,"class","self-center text-xs font-medium"),o(O,"class","p-1 px-3 text-xs flex rounded transition"),o(O,"type","button"),o(V,"class","py-0.5 flex w-full justify-between"),o(C,"class","self-center text-xs font-medium"),o(x,"class","p-1 px-3 text-xs flex rounded transition"),o(x,"type","button"),o(P,"class","py-0.5 flex w-full justify-between"),o(Y,"class","mb-1 text-sm font-medium"),o(ue,"class","self-center text-xs font-medium"),le.__value="",me(le,le.__value),ee.__value="openai",me(ee,ee.__value),o(re,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(re,"placeholder","Select a mode"),s[7]===void 0&&Gt(()=>s[26].call(re)),o(ce,"class","flex items-center relative"),o(se,"class","py-0.5 flex w-full justify-between"),o(Je,"class","self-center text-xs font-medium"),o(Le,"class","p-1 px-3 text-xs flex rounded transition"),o(Le,"type","button"),o(_e,"class","py-0.5 flex w-full justify-between"),o(Ve,"class","dark:border-gray-700"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[22rem]"),o(Ae,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Ae,"type","submit"),o(we,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ve,Ze){B(ve,e,Ze),a(e,t),a(t,l),a(l,r),a(r,u),a(l,c),a(l,v),a(v,_),a(_,g),a(v,m),a(v,w),a(w,b),a(b,y),a(y,E),a(b,k),a(k,L),Et(b,s[3],!0),a(l,T),a(l,V),a(V,M),a(M,R),a(V,z),a(V,O),Ge.m(O,null),a(l,q),a(l,P),a(P,C),a(C,G),a(P,K),a(P,x),Fe.m(x,null),a(t,Z),a(t,j),a(j,Y),a(Y,X),a(j,Q),a(j,se),a(se,ue),a(ue,pe),a(se,he),a(se,ce),a(ce,re),a(re,le),a(le,ae),a(re,ee),a(ee,Ce),Et(re,s[7],!0),a(j,de),qe&&qe.m(j,null),a(j,xe),a(j,_e),a(_e,Je),a(Je,oe),a(_e,te),a(_e,Le),ye.m(Le,null),a(t,ke),a(t,Ve),a(t,Me),ze&&ze.m(t,null),a(e,Ue),a(e,we),a(we,Ae),a(Ae,Te),Ie||(je=[$(b,"change",s[22]),$(b,"change",s[23]),$(O,"click",s[24]),$(x,"click",s[25]),$(re,"change",s[26]),$(re,"change",s[27]),$(Le,"click",s[30]),$(e,"submit",Ol(s[34]))],Ie=!0)},p(ve,Ze){Ze[0]&4096&&n!==(n=ve[12].t("STT Settings")+"")&&W(u,n),Ze[0]&4096&&h!==(h=ve[12].t("Speech-to-Text Engine")+"")&&W(g,h),Ze[0]&4096&&I!==(I=ve[12].t("Default (Web API)")+"")&&W(E,I),Ze[0]&4096&&D!==(D=ve[12].t("Whisper (Local)")+"")&&W(L,D),Ze[0]&8&&Et(b,ve[3]),Ze[0]&4096&&N!==(N=ve[12].t("Conversation Mode")+"")&&W(R,N),Re===(Re=be(ve))&&Ge?Ge.p(ve,Ze):(Ge.d(1),Ge=Re(ve),Ge&&(Ge.c(),Ge.m(O,null))),Ze[0]&4096&&F!==(F=ve[12].t("Auto-send input after 3 sec.")+"")&&W(G,F),et===(et=We(ve))&&Fe?Fe.p(ve,Ze):(Fe.d(1),Fe=et(ve),Fe&&(Fe.c(),Fe.m(x,null))),Ze[0]&4096&&J!==(J=ve[12].t("TTS Settings")+"")&&W(X,J),Ze[0]&4096&&ie!==(ie=ve[12].t("Text-to-Speech Engine")+"")&&W(pe,ie),Ze[0]&4096&&De!==(De=ve[12].t("Default (Web API)")+"")&&W(ae,De),Ze[0]&4096&&fe!==(fe=ve[12].t("Open AI")+"")&&W(Ce,fe),Ze[0]&128&&Et(re,ve[7]),ve[11].role==="admin"?qe?qe.p(ve,Ze):(qe=Ir(ve),qe.c(),qe.m(j,xe)):qe&&(qe.d(1),qe=null),Ze[0]&4096&&ne!==(ne=ve[12].t("Auto-playback response")+"")&&W(oe,ne),Oe===(Oe=Ke(ve))&&ye?ye.p(ve,Ze):(ye.d(1),ye=Oe(ve),ye&&(ye.c(),ye.m(Le,null))),Be===(Be=tt(ve))&&ze?ze.p(ve,Ze):(ze&&ze.d(1),ze=Be&&Be(ve),ze&&(ze.c(),ze.m(t,null))),Ze[0]&4096&&ge!==(ge=ve[12].t("Save")+"")&&W(Te,ge)},i:lt,o:lt,d(ve){ve&&i(e),Ge.d(),Fe.d(),qe&&qe.d(),ye.d(),ze&&ze.d(),Ie=!1,ut(je)}}}const Ar=s=>s.localService===!0;function ki(s,e,t){let l,r;st(s,sl,X=>t(11,l=X));const n=Nl(),u=jt("i18n");st(s,u,X=>t(12,r=X));let{saveSettings:c}=e,v="",_="",h="",g=!1,m=!1,w=!1,b="",y=[],I="",E=[],k="";const D=()=>{t(8,y=[{name:"alloy"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"shimmer"}])},L=()=>{t(10,E=[{name:"tts-1"},{name:"tts-1-hd"}])},T=()=>{const X=setInterval(async()=>{t(8,y=await speechSynthesis.getVoices()),y.length>0&&clearInterval(X)},100)},V=async()=>{t(4,g=!g),g&&(t(6,w=!0),t(5,m=!0)),c({conversationMode:g,responseAutoPlayback:w,speechAutoSend:m})},M=async()=>{t(6,w=!w),c({responseAutoPlayback:w})},N=async()=>{t(5,m=!m),c({speechAutoSend:m})},R=async()=>{if(b==="openai"){const X=await Tn(localStorage.token,{url:v,key:_,model:k,speaker:I});X&&(t(1,v=X.OPENAI_API_BASE_URL),t(2,_=X.OPENAI_API_KEY),t(13,k=X.OPENAI_API_MODEL),t(9,I=X.OPENAI_API_VOICE))}};Ft(async()=>{var Q,se,ue,ie;let X=JSON.parse(localStorage.getItem("settings")??"{}");if(t(4,g=X.conversationMode??!1),t(5,m=X.speechAutoSend??!1),t(6,w=X.responseAutoPlayback??!1),t(3,h=((Q=X==null?void 0:X.audio)==null?void 0:Q.STTEngine)??""),t(7,b=((se=X==null?void 0:X.audio)==null?void 0:se.TTSEngine)??""),t(9,I=((ue=X==null?void 0:X.audio)==null?void 0:ue.speaker)??""),t(13,k=((ie=X==null?void 0:X.audio)==null?void 0:ie.model)??""),b==="openai"?(D(),L()):T(),l.role==="admin"){const pe=await Dn(localStorage.token);pe&&(t(1,v=pe.OPENAI_API_BASE_URL),t(2,_=pe.OPENAI_API_KEY),t(13,k=pe.OPENAI_API_MODEL),t(9,I=pe.OPENAI_API_VOICE))}});function z(){h=Yt(this),t(3,h)}const O=X=>{X.target.value!==""&&navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(Q){Xe.error(r.t("Permission denied when accessing microphone: {{error}}",{error:Q})),t(3,h="")})},q=()=>{V()},P=()=>{N()};function C(){b=Yt(this),t(7,b)}const F=X=>{X.target.value==="openai"?(D(),t(9,I="alloy"),t(13,k="tts-1")):(T(),t(9,I=""))};function G(){v=this.value,t(1,v)}function K(){_=this.value,t(2,_)}const x=()=>{M()};function Z(){I=Yt(this),t(9,I),t(8,y)}function j(){I=this.value,t(9,I),t(8,y)}function Y(){k=this.value,t(13,k)}const J=async()=>{l.role==="admin"&&await R(),c({audio:{STTEngine:h!==""?h:void 0,TTSEngine:b!==""?b:void 0,speaker:I!==""?I:void 0,model:k!==""?k:void 0}}),n("save")};return s.$$set=X=>{"saveSettings"in X&&t(0,c=X.saveSettings)},[c,v,_,h,g,m,w,b,y,I,E,l,r,k,n,u,D,T,V,M,N,R,z,O,q,P,C,F,G,K,x,Z,j,Y,J]}class yi extends St{constructor(e){super(),Lt(this,e,ki,wi,At,{saveSettings:0},null,[-1,-1])}}function Ei(s){let e,t,l,r,n,u=s[4].t("Off")+"",c;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),r=A(),n=f("span"),c=H(u),this.h()},l(v){e=$e(v,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var _=p(e);t=$e(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(i),l=$e(_,"path",{d:!0}),p(l).forEach(i),_.forEach(i),r=S(v),n=d(v,"SPAN",{class:!0});var h=p(n);c=U(h,u),h.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(n,"class","ml-2 self-center")},m(v,_){B(v,e,_),a(e,t),a(e,l),B(v,r,_),B(v,n,_),a(n,c)},p(v,_){_&16&&u!==(u=v[4].t("Off")+"")&&W(c,u)},d(v){v&&(i(e),i(r),i(n))}}}function Ii(s){let e,t,l,r,n,u=s[4].t("On")+"",c;return{c(){e=Qe("svg"),t=Qe("path"),l=Qe("path"),r=A(),n=f("span"),c=H(u),this.h()},l(v){e=$e(v,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var _=p(e);t=$e(_,"path",{d:!0}),p(t).forEach(i),l=$e(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(l).forEach(i),_.forEach(i),r=S(v),n=d(v,"SPAN",{class:!0});var h=p(n);c=U(h,u),h.forEach(i),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(n,"class","ml-2 self-center")},m(v,_){B(v,e,_),a(e,t),a(e,l),B(v,r,_),B(v,n,_),a(n,c)},p(v,_){_&16&&u!==(u=v[4].t("On")+"")&&W(c,u)},d(v){v&&(i(e),i(r),i(n))}}}function Di(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',r,n,u=s[4].t("Delete Chats")+"",c,v,_;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,r=A(),n=f("div"),c=H(u),this.h()},l(h){e=d(h,"BUTTON",{class:!0});var g=p(e);t=d(g,"DIV",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-1x5epei"&&(t.innerHTML=l),r=S(g),n=d(g,"DIV",{class:!0});var m=p(n);c=U(m,u),m.forEach(i),g.forEach(i),this.h()},h(){o(t,"class","self-center mr-3"),o(n,"class","self-center text-sm font-medium"),o(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(h,g){B(h,e,g),a(e,t),a(e,r),a(e,n),a(n,c),v||(_=$(e,"click",s[20]),v=!0)},p(h,g){g&16&&u!==(u=h[4].t("Delete Chats")+"")&&W(c,u)},d(h){h&&i(e),v=!1,_()}}}function Ti(s){let e,t,l,r,n,u,c,v=s[4].t("Are you sure?")+"",_,h,g,m,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',b,y,I='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',E,k;return{c(){e=f("div"),t=f("div"),l=Qe("svg"),r=Qe("path"),n=Qe("path"),u=A(),c=f("span"),_=H(v),h=A(),g=f("div"),m=f("button"),m.innerHTML=w,b=A(),y=f("button"),y.innerHTML=I,this.h()},l(D){e=d(D,"DIV",{class:!0});var L=p(e);t=d(L,"DIV",{class:!0});var T=p(t);l=$e(T,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var V=p(l);r=$e(V,"path",{d:!0}),p(r).forEach(i),n=$e(V,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(n).forEach(i),V.forEach(i),u=S(T),c=d(T,"SPAN",{});var M=p(c);_=U(M,v),M.forEach(i),T.forEach(i),h=S(L),g=d(L,"DIV",{class:!0});var N=p(g);m=d(N,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(m)!=="svelte-1yl80nf"&&(m.innerHTML=w),b=S(N),y=d(N,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(y)!=="svelte-7i2l1r"&&(y.innerHTML=I),N.forEach(i),L.forEach(i),this.h()},h(){o(r,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),o(n,"fill-rule","evenodd"),o(n,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),o(n,"clip-rule","evenodd"),o(l,"xmlns","http://www.w3.org/2000/svg"),o(l,"viewBox","0 0 16 16"),o(l,"fill","currentColor"),o(l,"class","w-4 h-4"),o(t,"class","flex items-center space-x-3"),o(m,"class","hover:text-white transition"),o(y,"class","hover:text-white transition"),o(g,"class","flex space-x-1.5 items-center"),o(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(D,L){B(D,e,L),a(e,t),a(t,l),a(l,r),a(l,n),a(t,u),a(t,c),a(c,_),a(e,h),a(e,g),a(g,m),a(g,b),a(g,y),E||(k=[$(m,"click",s[18]),$(y,"click",s[19])],E=!0)},p(D,L){L&16&&v!==(v=D[4].t("Are you sure?")+"")&&W(_,v)},d(D){D&&i(e),E=!1,ut(k)}}}function Sr(s){let e,t,l,r,n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',u,c,v=s[4].t("Export All Chats (All Users)")+"",_,h,g;return{c(){e=f("hr"),t=A(),l=f("button"),r=f("div"),r.innerHTML=n,u=A(),c=f("div"),_=H(v),this.h()},l(m){e=d(m,"HR",{class:!0}),t=S(m),l=d(m,"BUTTON",{class:!0});var w=p(l);r=d(w,"DIV",{class:!0,"data-svelte-h":!0}),Ne(r)!=="svelte-uk5zsu"&&(r.innerHTML=n),u=S(w),c=d(w,"DIV",{class:!0});var b=p(c);_=U(b,v),b.forEach(i),w.forEach(i),this.h()},h(){o(e,"class","dark:border-gray-700"),o(r,"class","self-center mr-3"),o(c,"class","self-center text-sm font-medium"),o(l,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(m,w){B(m,e,w),B(m,t,w),B(m,l,w),a(l,r),a(l,u),a(l,c),a(c,_),h||(g=$(l,"click",s[21]),h=!0)},p(m,w){w&16&&v!==(v=m[4].t("Export All Chats (All Users)")+"")&&W(_,v)},d(m){m&&(i(e),i(t),i(l)),h=!1,g()}}}function Vi(s){var le,De;let e,t,l,r,n,u=s[4].t("Chat History")+"",c,v,_,h,g,m=s[4].t("This setting does not sync across browsers or devices.")+"",w,b,y,I,E,k,D,L,T,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',M,N,R=s[4].t("Import Chats")+"",z,O,q,P,C='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',F,G,K=s[4].t("Export Chats")+"",x,Z,j,Y,J,X,Q;function se(ae,ee){return ae[1]===!0?Ii:Ei}let ue=se(s),ie=ue(s);function pe(ae,ee){return ae[2]?Ti:Di}let he=pe(s),ce=he(s),re=((le=s[5])==null?void 0:le.role)==="admin"&&(((De=s[6])==null?void 0:De.admin_export_enabled)??!0)&&Sr(s);return{c(){e=f("div"),t=f("div"),l=f("div"),r=f("div"),n=f("div"),c=H(u),v=A(),_=f("button"),ie.c(),h=A(),g=f("div"),w=H(m),b=A(),y=f("hr"),I=A(),E=f("div"),k=f("input"),D=A(),L=f("button"),T=f("div"),T.innerHTML=V,M=A(),N=f("div"),z=H(R),O=A(),q=f("button"),P=f("div"),P.innerHTML=C,F=A(),G=f("div"),x=H(K),Z=A(),j=f("hr"),Y=A(),ce.c(),J=A(),re&&re.c(),this.h()},l(ae){e=d(ae,"DIV",{class:!0});var ee=p(e);t=d(ee,"DIV",{class:!0});var fe=p(t);l=d(fe,"DIV",{class:!0});var Ce=p(l);r=d(Ce,"DIV",{class:!0});var de=p(r);n=d(de,"DIV",{class:!0});var xe=p(n);c=U(xe,u),xe.forEach(i),v=S(de),_=d(de,"BUTTON",{class:!0,type:!0});var _e=p(_);ie.l(_e),_e.forEach(i),de.forEach(i),h=S(Ce),g=d(Ce,"DIV",{class:!0});var Je=p(g);w=U(Je,m),Je.forEach(i),Ce.forEach(i),b=S(fe),y=d(fe,"HR",{class:!0}),I=S(fe),E=d(fe,"DIV",{class:!0});var ne=p(E);k=d(ne,"INPUT",{id:!0,type:!0,accept:!0}),D=S(ne),L=d(ne,"BUTTON",{class:!0});var oe=p(L);T=d(oe,"DIV",{class:!0,"data-svelte-h":!0}),Ne(T)!=="svelte-135keqh"&&(T.innerHTML=V),M=S(oe),N=d(oe,"DIV",{class:!0});var te=p(N);z=U(te,R),te.forEach(i),oe.forEach(i),O=S(ne),q=d(ne,"BUTTON",{class:!0});var Le=p(q);P=d(Le,"DIV",{class:!0,"data-svelte-h":!0}),Ne(P)!=="svelte-7e4f4y"&&(P.innerHTML=C),F=S(Le),G=d(Le,"DIV",{class:!0});var ke=p(G);x=U(ke,K),ke.forEach(i),Le.forEach(i),ne.forEach(i),Z=S(fe),j=d(fe,"HR",{class:!0}),Y=S(fe),ce.l(fe),J=S(fe),re&&re.l(fe),fe.forEach(i),ee.forEach(i),this.h()},h(){o(n,"class","self-center text-sm font-medium"),o(_,"class","p-1 px-3 text-xs flex rounded transition"),o(_,"type","button"),o(r,"class","flex w-full justify-between"),o(g,"class","text-xs text-left w-full font-medium mt-0.5"),o(l,"class","flex flex-col justify-between rounded-md items-center py-2 px-3.5 w-full transition"),o(y,"class","dark:border-gray-700"),o(k,"id","chat-import-input"),o(k,"type","file"),o(k,"accept",".json"),k.hidden=!0,o(T,"class","self-center mr-3"),o(N,"class","self-center text-sm font-medium"),o(L,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(P,"class","self-center mr-3"),o(G,"class","self-center text-sm font-medium"),o(q,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(E,"class","flex flex-col"),o(j,"class","dark:border-gray-700"),o(t,"class","space-y-2"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm max-h-[22rem]")},m(ae,ee){B(ae,e,ee),a(e,t),a(t,l),a(l,r),a(r,n),a(n,c),a(r,v),a(r,_),ie.m(_,null),a(l,h),a(l,g),a(g,w),a(t,b),a(t,y),a(t,I),a(t,E),a(E,k),s[14](k),a(E,D),a(E,L),a(L,T),a(L,M),a(L,N),a(N,z),a(E,O),a(E,q),a(q,P),a(q,F),a(q,G),a(G,x),a(t,Z),a(t,j),a(t,Y),ce.m(t,null),a(t,J),re&&re.m(t,null),X||(Q=[$(_,"click",s[13]),$(k,"change",s[15]),$(L,"click",s[16]),$(q,"click",s[17])],X=!0)},p(ae,[ee]){var fe,Ce;ee&16&&u!==(u=ae[4].t("Chat History")+"")&&W(c,u),ue===(ue=se(ae))&&ie?ie.p(ae,ee):(ie.d(1),ie=ue(ae),ie&&(ie.c(),ie.m(_,null))),ee&16&&m!==(m=ae[4].t("This setting does not sync across browsers or devices.")+"")&&W(w,m),ee&16&&R!==(R=ae[4].t("Import Chats")+"")&&W(z,R),ee&16&&K!==(K=ae[4].t("Export Chats")+"")&&W(x,K),he===(he=pe(ae))&&ce?ce.p(ae,ee):(ce.d(1),ce=he(ae),ce&&(ce.c(),ce.m(t,J))),((fe=ae[5])==null?void 0:fe.role)==="admin"&&(((Ce=ae[6])==null?void 0:Ce.admin_export_enabled)??!0)?re?re.p(ae,ee):(re=Sr(ae),re.c(),re.m(t,null)):re&&(re.d(1),re=null)},i:lt,o:lt,d(ae){ae&&i(e),ie.d(),s[14](null),ce.d(),re&&re.d(),X=!1,ut(Q)}}}function Mi(s,e,t){let l,r,n;st(s,sl,O=>t(5,r=O)),st(s,Cl,O=>t(6,n=O));const{saveAs:u}=Ea,c=jt("i18n");st(s,c,O=>t(4,l=O));let{saveSettings:v}=e,_=!0,h,g=!1,m;const w=async O=>{for(const q of O)console.log(q),q.chat?await Es(localStorage.token,q.chat):await Es(localStorage.token,q);await Qt.set(await ul(localStorage.token))},b=async()=>{let O=new Blob([JSON.stringify(await Ja(localStorage.token))],{type:"application/json"});u(O,`chat-export-${Date.now()}.json`)},y=async()=>{let O=new Blob([JSON.stringify(await Xa(localStorage.token))],{type:"application/json"});u(O,`all-chats-export-${Date.now()}.json`)},I=async()=>{await Al("/"),await Qa(localStorage.token).catch(O=>{Xe.error(O)}),await Qt.set(await ul(localStorage.token))},E=async()=>{t(1,_=!_),console.log(_),_===!1&&await Al("/"),v({saveChatHistory:_})};Ft(async()=>{let O=JSON.parse(localStorage.getItem("settings")??"{}");t(1,_=O.saveChatHistory??!0)});const k=()=>{E()};function D(O){Rt[O?"unshift":"push"](()=>{m=O,t(3,m)})}function L(){h=this.files,t(0,h)}const T=()=>{m.click()},V=()=>{b()},M=()=>{I(),t(2,g=!1)},N=()=>{t(2,g=!1)},R=()=>{t(2,g=!0)},z=()=>{y()};return s.$$set=O=>{"saveSettings"in O&&t(12,v=O.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&h){console.log(h);let O=new FileReader;O.onload=q=>{let P=JSON.parse(q.target.result);if(console.log(P),ja(P)=="openai")try{P=Ra(P)}catch(C){console.log("Unable to import chats:",C)}w(P)},h.length>0&&O.readAsText(h[0])}},[h,_,g,m,l,r,n,c,b,y,I,E,v,k,D,L,T,V,M,N,R,z]}class Ai extends St{constructor(e){super(),Lt(this,e,Mi,Vi,At,{saveSettings:12})}}function Lr(s,e,t){const l=s.slice();return l[21]=e[t],l[22]=e,l[23]=t,l}function Cr(s,e,t){const l=s.slice();return l[21]=e[t],l[24]=e,l[23]=t,l}function xr(s){let e,t=it(s[2]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Or(Cr(s,t,r));return{c(){e=f("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var n=p(e);for(let u=0;u<l.length;u+=1)l[u].l(n);n.forEach(i),this.h()},h(){o(e,"class","flex flex-col gap-1")},m(r,n){B(r,e,n);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null)},p(r,n){if(n&22){t=it(r[2]);let u;for(u=0;u<t.length;u+=1){const c=Cr(r,t,u);l[u]?l[u].p(c,n):(l[u]=Or(c),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=t.length}},d(r){r&&i(e),Ct(l,r)}}}function Si(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function n(){return s[14](s[23])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-q4z88n"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(u,c){B(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function Li(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=f("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1k98qnf"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,u){B(n,e,u),l||(r=$(e,"click",s[13]),l=!0)},p:lt,d(n){n&&i(e),l=!1,r()}}}function Or(s){let e,t,l,r,n,u,c,v,_,h,g,m,w=s[4].t("WebUI will make requests to")+"",b,y,I,E,k=s[21]+"",D,L,T,V,M;function N(){s[11].call(l,s[24],s[23])}function R(){s[12].call(c,s[23])}function z(P,C){return P[23]===0?Li:Si}let q=z(s)(s);return{c(){e=f("div"),t=f("div"),l=f("input"),n=A(),u=f("div"),c=f("input"),_=A(),h=f("div"),q.c(),g=A(),m=f("div"),b=H(w),y=A(),I=f("span"),E=H("'"),D=H(k),L=H("/models'"),T=A(),this.h()},l(P){e=d(P,"DIV",{class:!0});var C=p(e);t=d(C,"DIV",{class:!0});var F=p(t);l=d(F,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),F.forEach(i),n=S(C),u=d(C,"DIV",{class:!0});var G=p(u);c=d(G,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),G.forEach(i),_=S(C),h=d(C,"DIV",{class:!0});var K=p(h);q.l(K),K.forEach(i),C.forEach(i),g=S(P),m=d(P,"DIV",{class:!0});var x=p(m);b=U(x,w),y=S(x),I=d(x,"SPAN",{class:!0});var Z=p(I);E=U(Z,"'"),D=U(Z,k),L=U(Z,"/models'"),Z.forEach(i),T=S(x),x.forEach(i),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",r=s[4].t("API Base URL")),o(l,"autocomplete","off"),o(t,"class","flex-1"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"placeholder",v=s[4].t("API Key")),o(c,"autocomplete","off"),o(u,"class","flex-1"),o(h,"class","self-center flex items-center"),o(e,"class","flex w-full gap-2"),o(I,"class","text-gray-200"),o(m,"class","mb-1 text-xs text-gray-400 dark:text-gray-500")},m(P,C){B(P,e,C),a(e,t),a(t,l),me(l,s[21]),a(e,n),a(e,u),a(u,c),me(c,s[1][s[23]]),a(e,_),a(e,h),q.m(h,null),B(P,g,C),B(P,m,C),a(m,b),a(m,y),a(m,I),a(I,E),a(I,D),a(I,L),a(m,T),V||(M=[$(l,"input",N),$(c,"input",R)],V=!0)},p(P,C){s=P,C&16&&r!==(r=s[4].t("API Base URL"))&&o(l,"placeholder",r),C&4&&l.value!==s[21]&&me(l,s[21]),C&16&&v!==(v=s[4].t("API Key"))&&o(c,"placeholder",v),C&2&&c.value!==s[1][s[23]]&&me(c,s[1][s[23]]),q.p(s,C),C&16&&w!==(w=s[4].t("WebUI will make requests to")+"")&&W(b,w),C&4&&k!==(k=s[21]+"")&&W(D,k)},d(P){P&&(i(e),i(g),i(m)),q.d(),V=!1,ut(M)}}}function Ci(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function n(){return s[17](s[23])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-tjuou5"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(u,c){B(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function xi(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=f("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1bpufq2"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,u){B(n,e,u),l||(r=$(e,"click",s[16]),l=!0)},p:lt,d(n){n&&i(e),l=!1,r()}}}function Nr(s){let e,t,l,r,n,u,c,v;function _(){s[15].call(t,s[22],s[23])}function h(w,b){return w[23]===0?xi:Ci}let m=h(s)(s);return{c(){e=f("div"),t=f("input"),r=A(),n=f("div"),m.c(),u=A(),this.h()},l(w){e=d(w,"DIV",{class:!0});var b=p(e);t=d(b,"INPUT",{class:!0,placeholder:!0}),r=S(b),n=d(b,"DIV",{class:!0});var y=p(n);m.l(y),y.forEach(i),u=S(b),b.forEach(i),this.h()},h(){o(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"placeholder",l=s[4].t("Enter URL (e.g. http://localhost:11434)")),o(n,"class","self-center flex items-center"),o(e,"class","flex gap-1.5")},m(w,b){B(w,e,b),a(e,t),me(t,s[21]),a(e,r),a(e,n),m.m(n,null),a(e,u),c||(v=$(t,"input",_),c=!0)},p(w,b){s=w,b&16&&l!==(l=s[4].t("Enter URL (e.g. http://localhost:11434)"))&&o(t,"placeholder",l),b&1&&t.value!==s[21]&&me(t,s[21]),m.p(s,b)},d(w){w&&i(e),m.d(),c=!1,v()}}}function Oi(s){let e,t,l,r,n,u,c=s[4].t("OpenAI API")+"",v,_,h,g=(s[3]?s[4].t("Hide"):s[4].t("Show"))+"",m,w,b,y,I,E,k,D=s[4].t("Ollama Base URL")+"",L,T,V,M,N,R,z,O='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',q,P,C=s[4].t("Trouble accessing Ollama?")+"",F,G,K,x=s[4].t("Click here for help.")+"",Z,j,Y,J,X=s[4].t("Save")+"",Q,se,ue,ie=s[3]&&xr(s),pe=it(s[0]),he=[];for(let ce=0;ce<pe.length;ce+=1)he[ce]=Nr(Lr(s,pe,ce));return{c(){e=f("form"),t=f("div"),l=f("div"),r=f("div"),n=f("div"),u=f("div"),v=H(c),_=A(),h=f("button"),m=H(g),w=A(),ie&&ie.c(),b=A(),y=f("hr"),I=A(),E=f("div"),k=f("div"),L=H(D),T=A(),V=f("div"),M=f("div");for(let ce=0;ce<he.length;ce+=1)he[ce].c();N=A(),R=f("div"),z=f("button"),z.innerHTML=O,q=A(),P=f("div"),F=H(C),G=A(),K=f("a"),Z=H(x),j=A(),Y=f("div"),J=f("button"),Q=H(X),this.h()},l(ce){e=d(ce,"FORM",{class:!0});var re=p(e);t=d(re,"DIV",{class:!0});var le=p(t);l=d(le,"DIV",{class:!0});var De=p(l);r=d(De,"DIV",{class:!0});var ae=p(r);n=d(ae,"DIV",{class:!0});var ee=p(n);u=d(ee,"DIV",{class:!0});var fe=p(u);v=U(fe,c),fe.forEach(i),_=S(ee),h=d(ee,"BUTTON",{class:!0,type:!0});var Ce=p(h);m=U(Ce,g),Ce.forEach(i),ee.forEach(i),w=S(ae),ie&&ie.l(ae),ae.forEach(i),De.forEach(i),b=S(le),y=d(le,"HR",{class:!0}),I=S(le),E=d(le,"DIV",{});var de=p(E);k=d(de,"DIV",{class:!0});var xe=p(k);L=U(xe,D),xe.forEach(i),T=S(de),V=d(de,"DIV",{class:!0});var _e=p(V);M=d(_e,"DIV",{class:!0});var Je=p(M);for(let Ve=0;Ve<he.length;Ve+=1)he[Ve].l(Je);Je.forEach(i),N=S(_e),R=d(_e,"DIV",{class:!0});var ne=p(R);z=d(ne,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ne(z)!=="svelte-1rngu5f"&&(z.innerHTML=O),ne.forEach(i),_e.forEach(i),q=S(de),P=d(de,"DIV",{class:!0});var oe=p(P);F=U(oe,C),G=S(oe),K=d(oe,"A",{class:!0,href:!0,target:!0});var te=p(K);Z=U(te,x),te.forEach(i),oe.forEach(i),de.forEach(i),le.forEach(i),j=S(re),Y=d(re,"DIV",{class:!0});var Le=p(Y);J=d(Le,"BUTTON",{class:!0,type:!0});var ke=p(J);Q=U(ke,X),ke.forEach(i),Le.forEach(i),re.forEach(i),this.h()},h(){o(u,"class","font-medium"),o(h,"class","text-xs font-medium text-gray-500"),o(h,"type","button"),o(n,"class","flex justify-between items-center text-sm"),o(r,"class","mt-2 space-y-2 pr-1.5"),o(l,"class","space-y-3"),o(y,"class","dark:border-gray-700"),o(k,"class","mb-2.5 text-sm font-medium"),o(M,"class","flex-1 flex flex-col gap-2"),o(z,"class","p-2.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-850 dark:hover:bg-gray-800 rounded-lg transition"),o(z,"type","button"),o(R,"class",""),o(V,"class","flex w-full gap-1.5"),o(K,"class","text-gray-300 font-medium underline"),o(K,"href","https://github.com/open-webui/open-webui#troubleshooting"),o(K,"target","_blank"),o(P,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[22rem] space-y-3"),o(J,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(J,"type","submit"),o(Y,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(ce,re){B(ce,e,re),a(e,t),a(t,l),a(l,r),a(r,n),a(n,u),a(u,v),a(n,_),a(n,h),a(h,m),a(r,w),ie&&ie.m(r,null),a(t,b),a(t,y),a(t,I),a(t,E),a(E,k),a(k,L),a(E,T),a(E,V),a(V,M);for(let le=0;le<he.length;le+=1)he[le]&&he[le].m(M,null);a(V,N),a(V,R),a(R,z),a(E,q),a(E,P),a(P,F),a(P,G),a(P,K),a(K,Z),a(e,j),a(e,Y),a(Y,J),a(J,Q),se||(ue=[$(h,"click",s[10]),$(z,"click",s[18]),$(e,"submit",Ol(s[19]))],se=!0)},p(ce,[re]){if(re&16&&c!==(c=ce[4].t("OpenAI API")+"")&&W(v,c),re&24&&g!==(g=(ce[3]?ce[4].t("Hide"):ce[4].t("Show"))+"")&&W(m,g),ce[3]?ie?ie.p(ce,re):(ie=xr(ce),ie.c(),ie.m(r,null)):ie&&(ie.d(1),ie=null),re&16&&D!==(D=ce[4].t("Ollama Base URL")+"")&&W(L,D),re&17){pe=it(ce[0]);let le;for(le=0;le<pe.length;le+=1){const De=Lr(ce,pe,le);he[le]?he[le].p(De,re):(he[le]=Nr(De),he[le].c(),he[le].m(M,null))}for(;le<he.length;le+=1)he[le].d(1);he.length=pe.length}re&16&&C!==(C=ce[4].t("Trouble accessing Ollama?")+"")&&W(F,C),re&16&&x!==(x=ce[4].t("Click here for help.")+"")&&W(Z,x),re&16&&X!==(X=ce[4].t("Save")+"")&&W(Q,X)},i:lt,o:lt,d(ce){ce&&i(e),ie&&ie.d(),Ct(he,ce),se=!1,ut(ue)}}}function Ni(s,e,t){let l,r;st(s,sl,N=>t(20,l=N));const n=Nl(),u=jt("i18n");st(s,u,N=>t(4,r=N));let{getModels:c}=e,v=[""],_=[""],h=[""],g=!1;const m=async()=>{t(2,h=await Wa(localStorage.token,h)),t(1,_=await qa(localStorage.token,_)),await Kt.set(await c())},w=async()=>{t(0,v=await _n(localStorage.token,v)),await _s(localStorage.token).catch(R=>(Xe.error(R),null))&&(Xe.success(r.t("Server connection verified")),await Kt.set(await c()))};Ft(async()=>{l.role==="admin"&&(t(0,v=await Aa(localStorage.token)),t(2,h=await za(localStorage.token)),t(1,_=await Za(localStorage.token)))});const b=()=>{t(3,g=!g)};function y(N,R){N[R]=this.value,t(2,h)}function I(N){_[N]=this.value,t(1,_)}const E=()=>{t(2,h=[...h,""]),t(1,_=[..._,""])},k=N=>{t(2,h=h.filter((R,z)=>N!==z)),t(1,_=_.filter((R,z)=>N!==z))};function D(N,R){N[R]=this.value,t(0,v)}const L=()=>{t(0,v=[...v,""])},T=N=>{t(0,v=v.filter((R,z)=>N!==z))},V=()=>{w()},M=()=>{m(),n("save")};return s.$$set=N=>{"getModels"in N&&t(9,c=N.getModels)},[v,_,h,g,r,n,u,m,w,c,b,y,I,E,k,D,L,T,V,M]}class Pi extends St{constructor(e){super(),Lt(this,e,Ni,Oi,At,{getModels:9})}}function Pr(s,e,t){const l=s.slice();return l[33]=e[t],l}function Br(s,e,t){const l=s.slice();return l[33]=e[t],l}function Bi(s){let e,t=s[11].t("Off")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&2048&&t!==(t=r[11].t("Off")+"")&&W(l,t)},d(r){r&&i(e)}}}function Hi(s){let e,t=s[11].t("On")+"",l;return{c(){e=f("span"),l=H(t),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","ml-2 self-center")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&2048&&t!==(t=r[11].t("On")+"")&&W(l,t)},d(r){r&&i(e)}}}function Ui(s){let e,t,l=s[11].t("OpenAI API Config")+"",r,n,u,c,v,_,h,g,m,w;return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),c=f("input"),_=A(),h=f("input"),this.h()},l(b){e=d(b,"DIV",{});var y=p(e);t=d(y,"DIV",{class:!0});var I=p(t);r=U(I,l),I.forEach(i),n=S(y),u=d(y,"DIV",{class:!0});var E=p(u);c=d(E,"INPUT",{class:!0,placeholder:!0}),_=S(E),h=d(E,"INPUT",{class:!0,placeholder:!0}),E.forEach(i),y.forEach(i),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"placeholder",v=s[11].t("API Base URL")),c.required=!0,o(h,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(h,"placeholder",g=s[11].t("API Key")),h.required=!0,o(u,"class","flex gap-2 mb-1")},m(b,y){B(b,e,y),a(e,t),a(t,r),a(e,n),a(e,u),a(u,c),me(c,s[5]),a(u,_),a(u,h),me(h,s[6]),m||(w=[$(c,"input",s[24]),$(h,"input",s[25])],m=!0)},p(b,y){y[0]&2048&&l!==(l=b[11].t("OpenAI API Config")+"")&&W(r,l),y[0]&2048&&v!==(v=b[11].t("API Base URL"))&&o(c,"placeholder",v),y[0]&32&&c.value!==b[5]&&me(c,b[5]),y[0]&2048&&g!==(g=b[11].t("API Key"))&&o(h,"placeholder",g),y[0]&64&&h.value!==b[6]&&me(h,b[6])},d(b){b&&i(e),m=!1,ut(w)}}}function ji(s){let e,t=s[11].t("ComfyUI Base URL")+"",l,r,n,u,c,v,_,h,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',m,w;return{c(){e=f("div"),l=H(t),r=A(),n=f("div"),u=f("div"),c=f("input"),_=A(),h=f("button"),h.innerHTML=g,this.h()},l(b){e=d(b,"DIV",{class:!0});var y=p(e);l=U(y,t),y.forEach(i),r=S(b),n=d(b,"DIV",{class:!0});var I=p(n);u=d(I,"DIV",{class:!0});var E=p(u);c=d(E,"INPUT",{class:!0,placeholder:!0}),E.forEach(i),_=S(I),h=d(I,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ne(h)!=="svelte-md8ixs"&&(h.innerHTML=g),I.forEach(i),this.h()},h(){o(e,"class","mb-2.5 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"placeholder",v=s[11].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(u,"class","flex-1 mr-2"),o(h,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(h,"type","button"),o(n,"class","flex w-full")},m(b,y){B(b,e,y),a(e,l),B(b,r,y),B(b,n,y),a(n,u),a(u,c),me(c,s[4]),a(n,_),a(n,h),m||(w=[$(c,"input",s[22]),$(h,"click",s[23])],m=!0)},p(b,y){y[0]&2048&&t!==(t=b[11].t("ComfyUI Base URL")+"")&&W(l,t),y[0]&2048&&v!==(v=b[11].t("Enter URL (e.g. http://127.0.0.1:7860/)"))&&o(c,"placeholder",v),y[0]&16&&c.value!==b[4]&&me(c,b[4])},d(b){b&&(i(e),i(r),i(n)),m=!1,ut(w)}}}function Ri(s){let e,t=s[11].t("AUTOMATIC1111 Base URL")+"",l,r,n,u,c,v,_,h,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',m,w,b=s[11].t("Include `--api` flag when running stable-diffusion-webui")+"",y,I,E,k=s[11].t("(e.g. `sh webui.sh --api`)")+"",D,L,T;return{c(){e=f("div"),l=H(t),r=A(),n=f("div"),u=f("div"),c=f("input"),_=A(),h=f("button"),h.innerHTML=g,m=A(),w=f("div"),y=H(b),I=A(),E=f("a"),D=H(k),this.h()},l(V){e=d(V,"DIV",{class:!0});var M=p(e);l=U(M,t),M.forEach(i),r=S(V),n=d(V,"DIV",{class:!0});var N=p(n);u=d(N,"DIV",{class:!0});var R=p(u);c=d(R,"INPUT",{class:!0,placeholder:!0}),R.forEach(i),_=S(N),h=d(N,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ne(h)!=="svelte-md8ixs"&&(h.innerHTML=g),N.forEach(i),m=S(V),w=d(V,"DIV",{class:!0});var z=p(w);y=U(z,b),I=S(z),E=d(z,"A",{class:!0,href:!0,target:!0});var O=p(E);D=U(O,k),O.forEach(i),z.forEach(i),this.h()},h(){o(e,"class","mb-2.5 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"placeholder",v=s[11].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(u,"class","flex-1 mr-2"),o(h,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(h,"type","button"),o(n,"class","flex w-full"),o(E,"class","text-gray-300 font-medium"),o(E,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),o(E,"target","_blank"),o(w,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(V,M){B(V,e,M),a(e,l),B(V,r,M),B(V,n,M),a(n,u),a(u,c),me(c,s[3]),a(n,_),a(n,h),B(V,m,M),B(V,w,M),a(w,y),a(w,I),a(w,E),a(E,D),L||(T=[$(c,"input",s[20]),$(h,"click",s[21])],L=!0)},p(V,M){M[0]&2048&&t!==(t=V[11].t("AUTOMATIC1111 Base URL")+"")&&W(l,t),M[0]&2048&&v!==(v=V[11].t("Enter URL (e.g. http://127.0.0.1:7860/)"))&&o(c,"placeholder",v),M[0]&8&&c.value!==V[3]&&me(c,V[3]),M[0]&2048&&b!==(b=V[11].t("Include `--api` flag when running stable-diffusion-webui")+"")&&W(y,b),M[0]&2048&&k!==(k=V[11].t("(e.g. `sh webui.sh --api`)")+"")&&W(D,k)},d(V){V&&(i(e),i(r),i(n),i(m),i(w)),L=!1,ut(T)}}}function Hr(s){let e,t,l,r,n=s[11].t("Set Default Model")+"",u,c,v,_,h,g,m,w,b=s[11].t("Set Image Size")+"",y,I,E,k,D,L,T,V,M,N=s[11].t("Set Steps")+"",R,z,O,q,P,C,F,G;function K(j,Y){return Y[0]&34&&(h=null),h==null&&(h=j[1]==="openai"&&!j[5].includes("https://api.openai.com")),h?Zi:zi}let x=K(s,[-1,-1]),Z=x(s);return{c(){e=f("hr"),t=A(),l=f("div"),r=f("div"),u=H(n),c=A(),v=f("div"),_=f("div"),Z.c(),g=A(),m=f("div"),w=f("div"),y=H(b),I=A(),E=f("div"),k=f("div"),D=f("input"),T=A(),V=f("div"),M=f("div"),R=H(N),z=A(),O=f("div"),q=f("div"),P=f("input"),this.h()},l(j){e=d(j,"HR",{class:!0}),t=S(j),l=d(j,"DIV",{});var Y=p(l);r=d(Y,"DIV",{class:!0});var J=p(r);u=U(J,n),J.forEach(i),c=S(Y),v=d(Y,"DIV",{class:!0});var X=p(v);_=d(X,"DIV",{class:!0});var Q=p(_);Z.l(Q),Q.forEach(i),X.forEach(i),Y.forEach(i),g=S(j),m=d(j,"DIV",{});var se=p(m);w=d(se,"DIV",{class:!0});var ue=p(w);y=U(ue,b),ue.forEach(i),I=S(se),E=d(se,"DIV",{class:!0});var ie=p(E);k=d(ie,"DIV",{class:!0});var pe=p(k);D=d(pe,"INPUT",{class:!0,placeholder:!0}),pe.forEach(i),ie.forEach(i),se.forEach(i),T=S(j),V=d(j,"DIV",{});var he=p(V);M=d(he,"DIV",{class:!0});var ce=p(M);R=U(ce,N),ce.forEach(i),z=S(he),O=d(he,"DIV",{class:!0});var re=p(O);q=d(re,"DIV",{class:!0});var le=p(q);P=d(le,"INPUT",{class:!0,placeholder:!0}),le.forEach(i),re.forEach(i),he.forEach(i),this.h()},h(){o(e,"class","dark:border-gray-700"),o(r,"class","mb-2.5 text-sm font-medium"),o(_,"class","flex-1 mr-2"),o(v,"class","flex w-full"),o(w,"class","mb-2.5 text-sm font-medium"),o(D,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(D,"placeholder",L=s[11].t("Enter Image Size (e.g. 512x512)")),o(k,"class","flex-1 mr-2"),o(E,"class","flex w-full"),o(M,"class","mb-2.5 text-sm font-medium"),o(P,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(P,"placeholder",C=s[11].t("Enter Number of Steps (e.g. 50)")),o(q,"class","flex-1 mr-2"),o(O,"class","flex w-full")},m(j,Y){B(j,e,Y),B(j,t,Y),B(j,l,Y),a(l,r),a(r,u),a(l,c),a(l,v),a(v,_),Z.m(_,null),B(j,g,Y),B(j,m,Y),a(m,w),a(w,y),a(m,I),a(m,E),a(E,k),a(k,D),me(D,s[9]),B(j,T,Y),B(j,V,Y),a(V,M),a(M,R),a(V,z),a(V,O),a(O,q),a(q,P),me(P,s[10]),F||(G=[$(D,"input",s[28]),$(P,"input",s[29])],F=!0)},p(j,Y){Y[0]&2048&&n!==(n=j[11].t("Set Default Model")+"")&&W(u,n),x===(x=K(j,Y))&&Z?Z.p(j,Y):(Z.d(1),Z=x(j),Z&&(Z.c(),Z.m(_,null))),Y[0]&2048&&b!==(b=j[11].t("Set Image Size")+"")&&W(y,b),Y[0]&2048&&L!==(L=j[11].t("Enter Image Size (e.g. 512x512)"))&&o(D,"placeholder",L),Y[0]&512&&D.value!==j[9]&&me(D,j[9]),Y[0]&2048&&N!==(N=j[11].t("Set Steps")+"")&&W(R,N),Y[0]&2048&&C!==(C=j[11].t("Enter Number of Steps (e.g. 50)"))&&o(P,"placeholder",C),Y[0]&1024&&P.value!==j[10]&&me(P,j[10])},d(j){j&&(i(e),i(t),i(l),i(g),i(m),i(T),i(V)),Z.d(),F=!1,ut(G)}}}function zi(s){let e,t,l,r,n,u=!s[7]&&Ur(s),c=it(s[8]??[]),v=[];for(let _=0;_<c.length;_+=1)v[_]=jr(Pr(s,c,_));return{c(){e=f("select"),u&&u.c(),t=It();for(let _=0;_<v.length;_+=1)v[_].c();this.h()},l(_){e=d(_,"SELECT",{class:!0,placeholder:!0});var h=p(e);u&&u.l(h),t=It();for(let g=0;g<v.length;g+=1)v[g].l(h);h.forEach(i),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",l=s[11].t("Select a model")),e.required=!0,s[7]===void 0&&Gt(()=>s[27].call(e))},m(_,h){B(_,e,h),u&&u.m(e,null),a(e,t);for(let g=0;g<v.length;g+=1)v[g]&&v[g].m(e,null);Et(e,s[7],!0),r||(n=$(e,"change",s[27]),r=!0)},p(_,h){if(_[7]?u&&(u.d(1),u=null):u?u.p(_,h):(u=Ur(_),u.c(),u.m(e,t)),h[0]&256){c=it(_[8]??[]);let g;for(g=0;g<c.length;g+=1){const m=Pr(_,c,g);v[g]?v[g].p(m,h):(v[g]=jr(m),v[g].c(),v[g].m(e,null))}for(;g<v.length;g+=1)v[g].d(1);v.length=c.length}h[0]&2048&&l!==(l=_[11].t("Select a model"))&&o(e,"placeholder",l),h[0]&384&&Et(e,_[7])},d(_){_&&i(e),u&&u.d(),Ct(v,_),r=!1,n()}}}function Zi(s){let e,t,l,r,n,u,c,v=it(s[8]??[]),_=[];for(let h=0;h<v.length;h+=1)_[h]=Rr(Br(s,v,h));return{c(){e=f("div"),t=f("div"),l=f("input"),r=A(),n=f("datalist");for(let h=0;h<_.length;h+=1)_[h].c();this.h()},l(h){e=d(h,"DIV",{class:!0});var g=p(e);t=d(g,"DIV",{class:!0});var m=p(t);l=d(m,"INPUT",{list:!0,class:!0,placeholder:!0}),r=S(m),n=d(m,"DATALIST",{id:!0});var w=p(n);for(let b=0;b<_.length;b+=1)_[b].l(w);w.forEach(i),m.forEach(i),g.forEach(i),this.h()},h(){o(l,"list","model-list"),o(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder","Select a model"),o(n,"id","model-list"),o(t,"class","flex-1"),o(e,"class","flex w-full")},m(h,g){B(h,e,g),a(e,t),a(t,l),me(l,s[7]),a(t,r),a(t,n);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(n,null);u||(c=$(l,"input",s[26]),u=!0)},p(h,g){if(g[0]&384&&l.value!==h[7]&&me(l,h[7]),g[0]&256){v=it(h[8]??[]);let m;for(m=0;m<v.length;m+=1){const w=Br(h,v,m);_[m]?_[m].p(w,g):(_[m]=Rr(w),_[m].c(),_[m].m(n,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=v.length}},d(h){h&&i(e),Ct(_,h),u=!1,c()}}}function Ur(s){let e,t=s[11].t("Select a model")+"",l;return{c(){e=f("option"),l=H(t),this.h()},l(r){e=d(r,"OPTION",{});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){e.__value="",me(e,e.__value),e.disabled=!0,e.selected=!0},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&2048&&t!==(t=r[11].t("Select a model")+"")&&W(l,t)},d(r){r&&i(e)}}}function jr(s){let e,t=s[33].name+"",l,r;return{c(){e=f("option"),l=H(t),this.h()},l(n){e=d(n,"OPTION",{class:!0});var u=p(e);l=U(u,t),u.forEach(i),this.h()},h(){e.__value=r=s[33].id,me(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,u){B(n,e,u),a(e,l)},p(n,u){u[0]&256&&t!==(t=n[33].name+"")&&W(l,t),u[0]&256&&r!==(r=n[33].id)&&(e.__value=r,me(e,e.__value))},d(n){n&&i(e)}}}function Rr(s){let e,t=s[33].name+"",l,r;return{c(){e=f("option"),l=H(t),this.h()},l(n){e=d(n,"OPTION",{});var u=p(e);l=U(u,t),u.forEach(i),this.h()},h(){e.__value=r=s[33].id,me(e,e.__value)},m(n,u){B(n,e,u),a(e,l)},p(n,u){u[0]&256&&t!==(t=n[33].name+"")&&W(l,t),u[0]&256&&r!==(r=n[33].id)&&(e.__value=r,me(e,e.__value))},d(n){n&&i(e)}}}function zr(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&i(e)}}}function Wi(s){let e,t,l,r,n=s[11].t("Image Settings")+"",u,c,v,_,h=s[11].t("Image Generation Engine")+"",g,m,w,b,y,I=s[11].t("Default (Automatic1111)")+"",E,k,D=s[11].t("ComfyUI")+"",L,T,V=s[11].t("Open AI (Dall-E)")+"",M,N,R,z,O,q,P=s[11].t("Image Generation (Experimental)")+"",C,F,G,K,x,Z,j,Y,J,X,Q=s[11].t("Save")+"",se,ue,ie,pe,he;function ce(de,xe){return de[2]===!0?Hi:Bi}let re=ce(s),le=re(s);function De(de,xe){if(de[1]==="")return Ri;if(de[1]==="comfyui")return ji;if(de[1]==="openai")return Ui}let ae=De(s),ee=ae&&ae(s),fe=s[2]&&Hr(s),Ce=s[0]&&zr();return{c(){e=f("form"),t=f("div"),l=f("div"),r=f("div"),u=H(n),c=A(),v=f("div"),_=f("div"),g=H(h),m=A(),w=f("div"),b=f("select"),y=f("option"),E=H(I),k=f("option"),L=H(D),T=f("option"),M=H(V),R=A(),z=f("div"),O=f("div"),q=f("div"),C=H(P),F=A(),G=f("button"),le.c(),K=A(),x=f("hr"),Z=A(),ee&&ee.c(),j=A(),fe&&fe.c(),Y=A(),J=f("div"),X=f("button"),se=H(Q),ue=A(),Ce&&Ce.c(),this.h()},l(de){e=d(de,"FORM",{class:!0});var xe=p(e);t=d(xe,"DIV",{class:!0});var _e=p(t);l=d(_e,"DIV",{});var Je=p(l);r=d(Je,"DIV",{class:!0});var ne=p(r);u=U(ne,n),ne.forEach(i),c=S(Je),v=d(Je,"DIV",{class:!0});var oe=p(v);_=d(oe,"DIV",{class:!0});var te=p(_);g=U(te,h),te.forEach(i),m=S(oe),w=d(oe,"DIV",{class:!0});var Le=p(w);b=d(Le,"SELECT",{class:!0,placeholder:!0});var ke=p(b);y=d(ke,"OPTION",{});var Ve=p(y);E=U(Ve,I),Ve.forEach(i),k=d(ke,"OPTION",{});var Me=p(k);L=U(Me,D),Me.forEach(i),T=d(ke,"OPTION",{});var Ue=p(T);M=U(Ue,V),Ue.forEach(i),ke.forEach(i),Le.forEach(i),oe.forEach(i),R=S(Je),z=d(Je,"DIV",{});var we=p(z);O=d(we,"DIV",{class:!0});var Ae=p(O);q=d(Ae,"DIV",{class:!0});var ge=p(q);C=U(ge,P),ge.forEach(i),F=S(Ae),G=d(Ae,"BUTTON",{class:!0,type:!0});var Te=p(G);le.l(Te),Te.forEach(i),Ae.forEach(i),we.forEach(i),Je.forEach(i),K=S(_e),x=d(_e,"HR",{class:!0}),Z=S(_e),ee&&ee.l(_e),j=S(_e),fe&&fe.l(_e),_e.forEach(i),Y=S(xe),J=d(xe,"DIV",{class:!0});var Ie=p(J);X=d(Ie,"BUTTON",{class:!0,type:!0});var je=p(X);se=U(je,Q),ue=S(je),Ce&&Ce.l(je),je.forEach(i),Ie.forEach(i),xe.forEach(i),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(_,"class","self-center text-xs font-medium"),y.__value="",me(y,y.__value),k.__value="comfyui",me(k,k.__value),T.__value="openai",me(T,T.__value),o(b,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(b,"placeholder",N=s[11].t("Select a mode")),s[1]===void 0&&Gt(()=>s[17].call(b)),o(w,"class","flex items-center relative"),o(v,"class","py-0.5 flex w-full justify-between"),o(q,"class","self-center text-xs font-medium"),o(G,"class","p-1 px-3 text-xs flex rounded transition"),o(G,"type","button"),o(O,"class","py-0.5 flex w-full justify-between"),o(x,"class","dark:border-gray-700"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[24rem]"),o(X,"class",ie="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),o(X,"type","submit"),X.disabled=s[0],o(J,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(de,xe){B(de,e,xe),a(e,t),a(t,l),a(l,r),a(r,u),a(l,c),a(l,v),a(v,_),a(_,g),a(v,m),a(v,w),a(w,b),a(b,y),a(y,E),a(b,k),a(k,L),a(b,T),a(T,M),Et(b,s[1],!0),a(l,R),a(l,z),a(z,O),a(O,q),a(q,C),a(O,F),a(O,G),le.m(G,null),a(t,K),a(t,x),a(t,Z),ee&&ee.m(t,null),a(t,j),fe&&fe.m(t,null),a(e,Y),a(e,J),a(J,X),a(X,se),a(X,ue),Ce&&Ce.m(X,null),pe||(he=[$(b,"change",s[17]),$(b,"change",s[18]),$(G,"click",s[19]),$(e,"submit",Ol(s[30]))],pe=!0)},p(de,xe){xe[0]&2048&&n!==(n=de[11].t("Image Settings")+"")&&W(u,n),xe[0]&2048&&h!==(h=de[11].t("Image Generation Engine")+"")&&W(g,h),xe[0]&2048&&I!==(I=de[11].t("Default (Automatic1111)")+"")&&W(E,I),xe[0]&2048&&D!==(D=de[11].t("ComfyUI")+"")&&W(L,D),xe[0]&2048&&V!==(V=de[11].t("Open AI (Dall-E)")+"")&&W(M,V),xe[0]&2048&&N!==(N=de[11].t("Select a mode"))&&o(b,"placeholder",N),xe[0]&2&&Et(b,de[1]),xe[0]&2048&&P!==(P=de[11].t("Image Generation (Experimental)")+"")&&W(C,P),re===(re=ce(de))&&le?le.p(de,xe):(le.d(1),le=re(de),le&&(le.c(),le.m(G,null))),ae===(ae=De(de))&&ee?ee.p(de,xe):(ee&&ee.d(1),ee=ae&&ae(de),ee&&(ee.c(),ee.m(t,j))),de[2]?fe?fe.p(de,xe):(fe=Hr(de),fe.c(),fe.m(t,null)):fe&&(fe.d(1),fe=null),xe[0]&2048&&Q!==(Q=de[11].t("Save")+"")&&W(se,Q),de[0]?Ce||(Ce=zr(),Ce.c(),Ce.m(X,null)):Ce&&(Ce.d(1),Ce=null),xe[0]&1&&ie!==(ie="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(de[0]?" cursor-not-allowed":""))&&o(X,"class",ie),xe[0]&1&&(X.disabled=de[0])},i:lt,o:lt,d(de){de&&i(e),le.d(),ee&&ee.d(),fe&&fe.d(),Ce&&Ce.d(),pe=!1,ut(he)}}}function qi(s,e,t){let l,r;st(s,sl,j=>t(31,l=j));const n=Nl(),u=jt("i18n");st(s,u,j=>t(11,r=j));let{saveSettings:c}=e,v=!1,_="",h=!1,g="",m="",w="",b="",y="",I=null,E="",k=50;const D=async()=>{t(8,I=await Ln(localStorage.token).catch(j=>(Xe.error(j),null))),t(7,y=await Cn(localStorage.token).catch(j=>""))},L=async()=>{if(_==="comfyui"){const j=await As(localStorage.token,{COMFYUI_BASE_URL:m}).catch(Y=>(Xe.error(Y),console.log(Y),null));j?(t(4,m=j.COMFYUI_BASE_URL),await D(),I&&Xe.success(r.t("Server connection verified"))):t(4,{COMFYUI_BASE_URL:m}=await as(localStorage.token),m)}else{const j=await As(localStorage.token,{AUTOMATIC1111_BASE_URL:g}).catch(Y=>(Xe.error(Y),null));j?(t(3,g=j.AUTOMATIC1111_BASE_URL),await D(),I&&Xe.success(r.t("Server connection verified"))):t(3,{AUTOMATIC1111_BASE_URL:g}=await as(localStorage.token),g)}},T=async()=>{const j=await xn(localStorage.token,_,h).catch(Y=>(Xe.error(Y),null));j&&(t(1,_=j.engine),t(2,h=j.enabled)),h&&(Cl.set(await Sa()),D())};Ft(async()=>{if(l.role==="admin"){const j=await Vn(localStorage.token).catch(X=>(Xe.error(X),null));j&&(t(1,_=j.engine),t(2,h=j.enabled));const Y=await as(localStorage.token);t(3,g=Y.AUTOMATIC1111_BASE_URL),t(4,m=Y.COMFYUI_BASE_URL);const J=await Mn(localStorage.token);t(6,b=J.OPENAI_API_KEY),t(5,w=J.OPENAI_API_BASE_URL),t(9,E=await An(localStorage.token)),t(10,k=await Sn(localStorage.token)),h&&D()}});function V(){_=Yt(this),t(1,_)}const M=async()=>{await T()},N=()=>{_===""&&g===""?(Xe.error(r.t("AUTOMATIC1111 Base URL is required.")),t(2,h=!1)):_==="comfyui"&&m===""?(Xe.error(r.t("ComfyUI Base URL is required.")),t(2,h=!1)):_==="openai"&&b===""?(Xe.error(r.t("OpenAI API Key is required.")),t(2,h=!1)):t(2,h=!h),T()};function R(){g=this.value,t(3,g)}const z=()=>{L()};function O(){m=this.value,t(4,m)}const q=()=>{L()};function P(){w=this.value,t(5,w)}function C(){b=this.value,t(6,b)}function F(){y=this.value,t(7,y),t(8,I)}function G(){y=Yt(this),t(7,y),t(8,I)}function K(){E=this.value,t(9,E)}function x(){k=this.value,t(10,k)}const Z=async()=>{t(0,v=!0),_==="openai"&&await On(localStorage.token,w,b),await Nn(localStorage.token,y),await Pn(localStorage.token,E).catch(j=>(Xe.error(j),null)),await Bn(localStorage.token,k).catch(j=>(Xe.error(j),null)),n("save"),t(0,v=!1)};return s.$$set=j=>{"saveSettings"in j&&t(16,c=j.saveSettings)},[v,_,h,g,m,w,b,y,I,E,k,r,n,u,L,T,c,V,M,N,R,z,O,q,P,C,F,G,K,x,Z]}class Gi extends St{constructor(e){super(),Lt(this,e,qi,Wi,At,{saveSettings:16},null,[-1,-1])}}function Fi(s){let e,t,l,r,n,u,c,v=s[1].t("Version")+"",_,h,g,m='<div class="flex flex-col text-xs text-gray-700 dark:text-gray-200"></div>',w,b,y,I,E='<a href="https://edu.toolai.io" target="_blank" style="width:240px;height:60px"><img alt="AI" src="https://www.toolai.io/image/logo.png"/></a>',k,D,L=`
			<a class="text-gray-500 dark:text-gray-300 font-medium" href="https://edu.toolai.io" target="_blank">AI</a>`;return{c(){e=f("div"),t=f("div"),l=f("div"),r=f("div"),n=f("div"),u=H(s[0]),c=H(` abcde111
					`),_=H(v),h=A(),g=f("div"),g.innerHTML=m,w=A(),b=f("hr"),y=A(),I=f("div"),I.innerHTML=E,k=A(),D=f("div"),D.innerHTML=L,this.h()},l(T){e=d(T,"DIV",{class:!0});var V=p(e);t=d(V,"DIV",{class:!0});var M=p(t);l=d(M,"DIV",{});var N=p(l);r=d(N,"DIV",{class:!0});var R=p(r);n=d(R,"DIV",{});var z=p(n);u=U(z,s[0]),c=U(z,` abcde111
					`),_=U(z,v),z.forEach(i),R.forEach(i),h=S(N),g=d(N,"DIV",{class:!0,"data-svelte-h":!0}),Ne(g)!=="svelte-1yir0xd"&&(g.innerHTML=m),N.forEach(i),w=S(M),b=d(M,"HR",{class:!0}),y=S(M),I=d(M,"DIV",{class:!0,"data-svelte-h":!0}),Ne(I)!=="svelte-193f2jr"&&(I.innerHTML=E),k=S(M),D=d(M,"DIV",{class:!0,"data-svelte-h":!0}),Ne(D)!=="svelte-1m475gf"&&(D.innerHTML=L),M.forEach(i),V.forEach(i),this.h()},h(){o(r,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),o(g,"class","flex w-full justify-between items-center"),o(b,"class","dark:border-gray-700"),o(I,"class","flex space-x-1"),o(D,"class","mt-2 text-sm font-medium dark:text-gray-500"),o(t,"class","space-y-3"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(T,V){B(T,e,V),a(e,t),a(t,l),a(l,r),a(r,n),a(n,u),a(n,c),a(n,_),a(l,h),a(l,g),a(t,w),a(t,b),a(t,y),a(t,I),a(t,k),a(t,D)},p(T,[V]){V&1&&W(u,T[0]),V&2&&v!==(v=T[1].t("Version")+"")&&W(_,v)},i:lt,o:lt,d(T){T&&i(e)}}}function Ki(s,e,t){let l,r;st(s,Ma,v=>t(0,l=v));const n=jt("i18n");st(s,n,v=>t(1,r=v));let u={current:"",latest:""};const c=async()=>{u=await bn().catch(v=>({current:$l,latest:$l})),console.log(u),Ga(u.latest,u.current)};return Ft(async()=>{await _s(localStorage.token).catch(v=>""),c()}),[l,r,n]}class Yi extends St{constructor(e){super(),Lt(this,e,Ki,Fi,At,{})}}function Zr(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',r,n,u=s[2].t("Connections")+"",c,v,_,h,g,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',w,b,y=s[2].t("Models")+"",I,E,k,D;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,r=A(),n=f("div"),c=H(u),_=A(),h=f("button"),g=f("div"),g.innerHTML=m,w=A(),b=f("div"),I=H(y),this.h()},l(L){e=d(L,"BUTTON",{class:!0});var T=p(e);t=d(T,"DIV",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-1uuylbv"&&(t.innerHTML=l),r=S(T),n=d(T,"DIV",{class:!0});var V=p(n);c=U(V,u),V.forEach(i),T.forEach(i),_=S(L),h=d(L,"BUTTON",{class:!0});var M=p(h);g=d(M,"DIV",{class:!0,"data-svelte-h":!0}),Ne(g)!=="svelte-1s8wpdu"&&(g.innerHTML=m),w=S(M),b=d(M,"DIV",{class:!0});var N=p(b);I=U(N,y),N.forEach(i),M.forEach(i),this.h()},h(){o(t,"class","self-center mr-2"),o(n,"class","self-center"),o(e,"class",v="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="connections"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(g,"class","self-center mr-2"),o(b,"class","self-center"),o(h,"class",E="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(L,T){B(L,e,T),a(e,t),a(e,r),a(e,n),a(n,c),B(L,_,T),B(L,h,T),a(h,g),a(h,w),a(h,b),a(b,I),k||(D=[$(e,"click",s[9]),$(h,"click",s[10])],k=!0)},p(L,T){T&4&&u!==(u=L[2].t("Connections")+"")&&W(c,u),T&2&&v!==(v="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(L[1]==="connections"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",v),T&4&&y!==(y=L[2].t("Models")+"")&&W(I,y),T&2&&E!==(E="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(L[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(h,"class",E)},d(L){L&&(i(e),i(_),i(h)),k=!1,ut(D)}}}function Wr(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',r,n,u=s[2].t("Images")+"",c,v,_,h;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,r=A(),n=f("div"),c=H(u),this.h()},l(g){e=d(g,"BUTTON",{class:!0});var m=p(e);t=d(m,"DIV",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-11xeywu"&&(t.innerHTML=l),r=S(m),n=d(m,"DIV",{class:!0});var w=p(n);c=U(w,u),w.forEach(i),m.forEach(i),this.h()},h(){o(t,"class","self-center mr-2"),o(n,"class","self-center"),o(e,"class",v="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="images"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(g,m){B(g,e,m),a(e,t),a(e,r),a(e,n),a(n,c),_||(h=$(e,"click",s[13]),_=!0)},p(g,m){m&4&&u!==(u=g[2].t("Images")+"")&&W(c,u),m&2&&v!==(v="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(g[1]==="images"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",v)},d(g){g&&i(e),_=!1,h()}}}function Ji(s){let e,t;return e=new Yi({}),{c(){rt(e.$$.fragment)},l(l){at(e.$$.fragment,l)},m(l,r){nt(e,l,r),t=!0},p:lt,i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Pe(e.$$.fragment,l),t=!1},d(l){ot(e,l)}}}function Xi(s){let e,t;return e=new mo({props:{saveHandler:s[22]}}),{c(){rt(e.$$.fragment)},l(l){at(e.$$.fragment,l)},m(l,r){nt(e,l,r),t=!0},p(l,r){const n={};r&4&&(n.saveHandler=l[22]),e.$set(n)},i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Pe(e.$$.fragment,l),t=!1},d(l){ot(e,l)}}}function Qi(s){let e,t;return e=new Ai({props:{saveSettings:s[5]}}),{c(){rt(e.$$.fragment)},l(l){at(e.$$.fragment,l)},m(l,r){nt(e,l,r),t=!0},p:lt,i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Pe(e.$$.fragment,l),t=!1},d(l){ot(e,l)}}}function $i(s){let e,t;return e=new Gi({props:{saveSettings:s[5]}}),e.$on("save",s[21]),{c(){rt(e.$$.fragment)},l(l){at(e.$$.fragment,l)},m(l,r){nt(e,l,r),t=!0},p:lt,i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Pe(e.$$.fragment,l),t=!1},d(l){ot(e,l)}}}function eu(s){let e,t;return e=new yi({props:{saveSettings:s[5]}}),e.$on("save",s[20]),{c(){rt(e.$$.fragment)},l(l){at(e.$$.fragment,l)},m(l,r){nt(e,l,r),t=!0},p:lt,i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Pe(e.$$.fragment,l),t=!1},d(l){ot(e,l)}}}function tu(s){let e,t;return e=new fi({props:{saveSettings:s[5]}}),e.$on("save",s[19]),{c(){rt(e.$$.fragment)},l(l){at(e.$$.fragment,l)},m(l,r){nt(e,l,r),t=!0},p:lt,i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Pe(e.$$.fragment,l),t=!1},d(l){ot(e,l)}}}function lu(s){let e,t;return e=new Pi({props:{getModels:s[6]}}),e.$on("save",s[18]),{c(){rt(e.$$.fragment)},l(l){at(e.$$.fragment,l)},m(l,r){nt(e,l,r),t=!0},p:lt,i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Pe(e.$$.fragment,l),t=!1},d(l){ot(e,l)}}}function su(s){let e,t;return e=new Zo({props:{getModels:s[6]}}),{c(){rt(e.$$.fragment)},l(l){at(e.$$.fragment,l)},m(l,r){nt(e,l,r),t=!0},p:lt,i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Pe(e.$$.fragment,l),t=!1},d(l){ot(e,l)}}}function ru(s){let e,t;return e=new Qo({props:{getModels:s[6],saveSettings:s[5]}}),e.$on("save",s[17]),{c(){rt(e.$$.fragment)},l(l){at(e.$$.fragment,l)},m(l,r){nt(e,l,r),t=!0},p:lt,i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Pe(e.$$.fragment,l),t=!1},d(l){ot(e,l)}}}function au(s){var Ke;let e,t,l,r=s[2].t("Settings")+"",n,u,c,v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,h,g,m,w,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',y,I,E=s[2].t("General")+"",k,D,L,T,V,M,N='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',R,z,O=s[2].t("Interface")+"",q,P,C,F,G,K='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',x,Z,j=s[2].t("Audio")+"",Y,J,X,Q,se,ue,ie='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',pe,he,ce=s[2].t("Chats")+"",re,le,De,ae,ee,fe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',Ce,de,xe=s[2].t("Account")+"",_e,Je,ne,oe,te,Le='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',ke,Ve,Me=s[2].t("About")+"",Ue,we,Ae,ge,Te,Ie,je,be,Re,Ge=((Ke=s[3])==null?void 0:Ke.role)==="admin"&&Zr(s),We=s[3].role==="admin"&&Wr(s);const et=[ru,su,lu,tu,eu,$i,Qi,Xi,Ji],Fe=[];function qe(Oe,ye){return Oe[1]==="general"?0:Oe[1]==="models"?1:Oe[1]==="connections"?2:Oe[1]==="interface"?3:Oe[1]==="audio"?4:Oe[1]==="images"?5:Oe[1]==="chats"?6:Oe[1]==="account"?7:Oe[1]==="aboutUs"?8:-1}return~(Te=qe(s))&&(Ie=Fe[Te]=et[Te](s)),{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("button"),c.innerHTML=v,_=A(),h=f("div"),g=f("div"),m=f("button"),w=f("div"),w.innerHTML=b,y=A(),I=f("div"),k=H(E),L=A(),Ge&&Ge.c(),T=A(),V=f("button"),M=f("div"),M.innerHTML=N,R=A(),z=f("div"),q=H(O),C=A(),F=f("button"),G=f("div"),G.innerHTML=K,x=A(),Z=f("div"),Y=H(j),X=A(),We&&We.c(),Q=A(),se=f("button"),ue=f("div"),ue.innerHTML=ie,pe=A(),he=f("div"),re=H(ce),De=A(),ae=f("button"),ee=f("div"),ee.innerHTML=fe,Ce=A(),de=f("div"),_e=H(xe),ne=A(),oe=f("button"),te=f("div"),te.innerHTML=Le,ke=A(),Ve=f("div"),Ue=H(Me),Ae=A(),ge=f("div"),Ie&&Ie.c(),this.h()},l(Oe){e=d(Oe,"DIV",{class:!0});var ye=p(e);t=d(ye,"DIV",{class:!0});var tt=p(t);l=d(tt,"DIV",{class:!0});var Be=p(l);n=U(Be,r),Be.forEach(i),u=S(tt),c=d(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(c)!=="svelte-745w2y"&&(c.innerHTML=v),tt.forEach(i),_=S(ye),h=d(ye,"DIV",{class:!0});var ze=p(h);g=d(ze,"DIV",{class:!0});var ve=p(g);m=d(ve,"BUTTON",{class:!0});var Ze=p(m);w=d(Ze,"DIV",{class:!0,"data-svelte-h":!0}),Ne(w)!=="svelte-qy1dha"&&(w.innerHTML=b),y=S(Ze),I=d(Ze,"DIV",{class:!0});var ft=p(I);k=U(ft,E),ft.forEach(i),Ze.forEach(i),L=S(ve),Ge&&Ge.l(ve),T=S(ve),V=d(ve,"BUTTON",{class:!0});var ct=p(V);M=d(ct,"DIV",{class:!0,"data-svelte-h":!0}),Ne(M)!=="svelte-16cea28"&&(M.innerHTML=N),R=S(ct),z=d(ct,"DIV",{class:!0});var xt=p(z);q=U(xt,O),xt.forEach(i),ct.forEach(i),C=S(ve),F=d(ve,"BUTTON",{class:!0});var Ot=p(F);G=d(Ot,"DIV",{class:!0,"data-svelte-h":!0}),Ne(G)!=="svelte-36jwmy"&&(G.innerHTML=K),x=S(Ot),Z=d(Ot,"DIV",{class:!0});var kt=p(Z);Y=U(kt,j),kt.forEach(i),Ot.forEach(i),X=S(ve),We&&We.l(ve),Q=S(ve),se=d(ve,"BUTTON",{class:!0});var _t=p(se);ue=d(_t,"DIV",{class:!0,"data-svelte-h":!0}),Ne(ue)!=="svelte-1gtbwe5"&&(ue.innerHTML=ie),pe=S(_t),he=d(_t,"DIV",{class:!0});var Bt=p(he);re=U(Bt,ce),Bt.forEach(i),_t.forEach(i),De=S(ve),ae=d(ve,"BUTTON",{class:!0});var wt=p(ae);ee=d(wt,"DIV",{class:!0,"data-svelte-h":!0}),Ne(ee)!=="svelte-amityv"&&(ee.innerHTML=fe),Ce=S(wt),de=d(wt,"DIV",{class:!0});var vt=p(de);_e=U(vt,xe),vt.forEach(i),wt.forEach(i),ne=S(ve),oe=d(ve,"BUTTON",{class:!0});var Dt=p(oe);te=d(Dt,"DIV",{class:!0,"data-svelte-h":!0}),Ne(te)!=="svelte-15t8s7e"&&(te.innerHTML=Le),ke=S(Dt),Ve=d(Dt,"DIV",{class:!0});var Nt=p(Ve);Ue=U(Nt,Me),Nt.forEach(i),Dt.forEach(i),ve.forEach(i),Ae=S(ze),ge=d(ze,"DIV",{class:!0});var yt=p(ge);Ie&&Ie.l(yt),yt.forEach(i),ze.forEach(i),ye.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(w,"class","self-center mr-2"),o(I,"class","self-center"),o(m,"class",D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(M,"class","self-center mr-2"),o(z,"class","self-center"),o(V,"class",P="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(G,"class","self-center mr-2"),o(Z,"class","self-center"),o(F,"class",J="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ue,"class","self-center mr-2"),o(he,"class","self-center"),o(se,"class",le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ee,"class","self-center mr-2"),o(de,"class","self-center"),o(ae,"class",Je="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(te,"class","self-center mr-2"),o(Ve,"class","self-center"),o(oe,"class",we="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="aboutUs"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(g,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),o(ge,"class","flex-1 md:min-h-[25rem]"),o(h,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4"),o(e,"class","text-gray-700 dark:text-gray-100")},m(Oe,ye){B(Oe,e,ye),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(e,_),a(e,h),a(h,g),a(g,m),a(m,w),a(m,y),a(m,I),a(I,k),a(g,L),Ge&&Ge.m(g,null),a(g,T),a(g,V),a(V,M),a(V,R),a(V,z),a(z,q),a(g,C),a(g,F),a(F,G),a(F,x),a(F,Z),a(Z,Y),a(g,X),We&&We.m(g,null),a(g,Q),a(g,se),a(se,ue),a(se,pe),a(se,he),a(he,re),a(g,De),a(g,ae),a(ae,ee),a(ae,Ce),a(ae,de),a(de,_e),a(g,ne),a(g,oe),a(oe,te),a(oe,ke),a(oe,Ve),a(Ve,Ue),a(h,Ae),a(h,ge),~Te&&Fe[Te].m(ge,null),je=!0,be||(Re=[$(c,"click",s[7]),$(m,"click",s[8]),$(V,"click",s[11]),$(F,"click",s[12]),$(se,"click",s[14]),$(ae,"click",s[15]),$(oe,"click",s[16])],be=!0)},p(Oe,ye){var Be;(!je||ye&4)&&r!==(r=Oe[2].t("Settings")+"")&&W(n,r),(!je||ye&4)&&E!==(E=Oe[2].t("General")+"")&&W(k,E),(!je||ye&2&&D!==(D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Oe[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(m,"class",D),((Be=Oe[3])==null?void 0:Be.role)==="admin"?Ge?Ge.p(Oe,ye):(Ge=Zr(Oe),Ge.c(),Ge.m(g,T)):Ge&&(Ge.d(1),Ge=null),(!je||ye&4)&&O!==(O=Oe[2].t("Interface")+"")&&W(q,O),(!je||ye&2&&P!==(P="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Oe[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(V,"class",P),(!je||ye&4)&&j!==(j=Oe[2].t("Audio")+"")&&W(Y,j),(!je||ye&2&&J!==(J="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Oe[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(F,"class",J),Oe[3].role==="admin"?We?We.p(Oe,ye):(We=Wr(Oe),We.c(),We.m(g,Q)):We&&(We.d(1),We=null),(!je||ye&4)&&ce!==(ce=Oe[2].t("Chats")+"")&&W(re,ce),(!je||ye&2&&le!==(le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Oe[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(se,"class",le),(!je||ye&4)&&xe!==(xe=Oe[2].t("Account")+"")&&W(_e,xe),(!je||ye&2&&Je!==(Je="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Oe[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(ae,"class",Je),(!je||ye&4)&&Me!==(Me=Oe[2].t("About")+"")&&W(Ue,Me),(!je||ye&2&&we!==(we="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Oe[1]==="aboutUs"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(oe,"class",we);let tt=Te;Te=qe(Oe),Te===tt?~Te&&Fe[Te].p(Oe,ye):(Ie&&(zt(),Pe(Fe[tt],1,1,()=>{Fe[tt]=null}),Zt()),~Te?(Ie=Fe[Te],Ie?Ie.p(Oe,ye):(Ie=Fe[Te]=et[Te](Oe),Ie.c()),Ee(Ie,1),Ie.m(ge,null)):Ie=null)},i(Oe){je||(Ee(Ie),je=!0)},o(Oe){Pe(Ie),je=!1},d(Oe){Oe&&i(e),Ge&&Ge.d(),We&&We.d(),~Te&&Fe[Te].d(),be=!1,ut(Re)}}}function nu(s){let e,t,l;function r(u){s[23](u)}let n={$$slots:{default:[au]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new es({props:n}),Rt.push(()=>el(e,"show",r)),{c(){rt(e.$$.fragment)},l(u){at(e.$$.fragment,u)},m(u,c){nt(e,u,c),l=!0},p(u,[c]){const v={};c&33554447&&(v.$$scope={dirty:c,ctx:u}),!t&&c&1&&(t=!0,v.show=u[0],$t(()=>t=!1)),e.$set(v)},i(u){l||(Ee(e.$$.fragment,u),l=!0)},o(u){Pe(e.$$.fragment,u),l=!1},d(u){ot(e,u)}}}function ou(s,e,t){let l,r,n;st(s,xl,q=>t(24,l=q)),st(s,sl,q=>t(3,n=q));const u=jt("i18n");st(s,u,q=>t(2,r=q));let{show:c=!1}=e;const v=async q=>{console.log(q),await xl.set({...l,...q}),await Kt.set(await _()),localStorage.setItem("settings",JSON.stringify(l))},_=async()=>await Ia(localStorage.token);let h="general";const g=()=>{t(0,c=!1)},m=()=>{t(1,h="general")},w=()=>{t(1,h="connections")},b=()=>{t(1,h="models")},y=()=>{t(1,h="interface")},I=()=>{t(1,h="audio")},E=()=>{t(1,h="images")},k=()=>{t(1,h="chats")},D=()=>{t(1,h="account")},L=()=>{t(1,h="aboutUs")},T=()=>{Xe.success(r.t("Settings saved successfully!"))},V=()=>{Xe.success(r.t("Settings saved successfully!"))},M=()=>{Xe.success(r.t("Settings saved successfully!"))},N=()=>{Xe.success(r.t("Settings saved successfully!"))},R=()=>{Xe.success(r.t("Settings saved successfully!"))},z=()=>{Xe.success(r.t("Settings saved successfully!"))};function O(q){c=q,t(0,c)}return s.$$set=q=>{"show"in q&&t(0,c=q.show)},[c,h,r,n,u,v,_,g,m,w,b,y,I,E,k,D,L,T,V,M,N,R,z,O]}class iu extends St{constructor(e){super(),Lt(this,e,ou,nu,At,{show:0})}}function uu(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=p(e);t=$e(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,r){B(l,e,r),a(e,t)},p(l,[r]){r&2&&o(e,"stroke-width",l[1]),r&1&&o(e,"class",l[0])},i:lt,o:lt,d(l){l&&i(e)}}}function cu(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class fu extends St{constructor(e){super(),Lt(this,e,cu,uu,At,{className:0,strokeWidth:1})}}function du(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=p(e);t=$e(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,r){B(l,e,r),a(e,t)},p(l,[r]){r&2&&o(e,"stroke-width",l[1]),r&1&&o(e,"class",l[0])},i:lt,o:lt,d(l){l&&i(e)}}}function hu(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class vu extends St{constructor(e){super(),Lt(this,e,hu,du,At,{className:0,strokeWidth:1})}}function pu(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=p(e);t=$e(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M15.75 4.5a3 3 0 1 1 .825 2.066l-8.421 4.679a3.002 3.002 0 0 1 0 1.51l8.421 4.679a3 3 0 1 1-.729 1.31l-8.421-4.678a3 3 0 1 1 0-4.132l8.421-4.679a3 3 0 0 1-.096-.755Z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",s[0])},m(l,r){B(l,e,r),a(e,t)},p(l,[r]){r&1&&o(e,"class",l[0])},i:lt,o:lt,d(l){l&&i(e)}}}function _u(s,e,t){let{className:l="w-4 h-4"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className)},[l]}class mu extends St{constructor(e){super(),Lt(this,e,_u,pu,At,{className:0})}}function gu(s){let e;const t=s[8].default,l=ba(t,s,s[15],null);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,n){l&&l.m(r,n),e=!0},p(r,n){l&&l.p&&(!e||n&32768)&&wa(l,t,r,r[15],e?ya(t,r[15],n,null):ka(r[15]),null)},i(r){e||(Ee(l,r),e=!0)},o(r){Pe(l,r),e=!1},d(r){l&&l.d(r)}}}function bu(s){let e,t;return e=new fl({props:{content:s[6].t("More"),$$slots:{default:[gu]},$$scope:{ctx:s}}}),{c(){rt(e.$$.fragment)},l(l){at(e.$$.fragment,l)},m(l,r){nt(e,l,r),t=!0},p(l,r){const n={};r&64&&(n.content=l[6].t("More")),r&32768&&(n.$$scope={dirty:r,ctx:l}),e.$set(n)},i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Pe(e.$$.fragment,l),t=!1},d(l){ot(e,l)}}}function wu(s){let e,t,l,r=s[6].t("Share")+"",n,u;return e=new mu({}),{c(){rt(e.$$.fragment),t=A(),l=f("div"),n=H(r),this.h()},l(c){at(e.$$.fragment,c),t=S(c),l=d(c,"DIV",{class:!0});var v=p(l);n=U(v,r),v.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(c,v){nt(e,c,v),B(c,t,v),B(c,l,v),a(l,n),u=!0},p(c,v){(!u||v&64)&&r!==(r=c[6].t("Share")+"")&&W(n,r)},i(c){u||(Ee(e.$$.fragment,c),u=!0)},o(c){Pe(e.$$.fragment,c),u=!1},d(c){c&&(i(t),i(l)),ot(e,c)}}}function ku(s){let e,t,l,r=s[6].t("Rename")+"",n,u;return e=new vu({props:{strokeWidth:"2"}}),{c(){rt(e.$$.fragment),t=A(),l=f("div"),n=H(r),this.h()},l(c){at(e.$$.fragment,c),t=S(c),l=d(c,"DIV",{class:!0});var v=p(l);n=U(v,r),v.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(c,v){nt(e,c,v),B(c,t,v),B(c,l,v),a(l,n),u=!0},p(c,v){(!u||v&64)&&r!==(r=c[6].t("Rename")+"")&&W(n,r)},i(c){u||(Ee(e.$$.fragment,c),u=!0)},o(c){Pe(e.$$.fragment,c),u=!1},d(c){c&&(i(t),i(l)),ot(e,c)}}}function yu(s){let e,t,l,r=s[6].t("Delete")+"",n,u;return e=new fu({props:{strokeWidth:"2"}}),{c(){rt(e.$$.fragment),t=A(),l=f("div"),n=H(r),this.h()},l(c){at(e.$$.fragment,c),t=S(c),l=d(c,"DIV",{class:!0});var v=p(l);n=U(v,r),v.forEach(i),this.h()},h(){o(l,"class","flex items-center")},m(c,v){nt(e,c,v),B(c,t,v),B(c,l,v),a(l,n),u=!0},p(c,v){(!u||v&64)&&r!==(r=c[6].t("Delete")+"")&&W(n,r)},i(c){u||(Ee(e.$$.fragment,c),u=!0)},o(c){Pe(e.$$.fragment,c),u=!1},d(c){c&&(i(t),i(l)),ot(e,c)}}}function Eu(s){let e,t,l,r,n,u,c,v,_,h,g;return e=new rs({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer dark:hover:bg-gray-850 rounded-md",$$slots:{default:[wu]},$$scope:{ctx:s}}}),e.$on("click",s[9]),l=new rs({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer dark:hover:bg-gray-850 rounded-md",$$slots:{default:[ku]},$$scope:{ctx:s}}}),l.$on("click",s[10]),n=new rs({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer dark:hover:bg-gray-850 rounded-md",$$slots:{default:[yu]},$$scope:{ctx:s}}}),n.$on("click",s[11]),h=new En({props:{chatId:s[4]}}),h.$on("close",s[12]),{c(){rt(e.$$.fragment),t=A(),rt(l.$$.fragment),r=A(),rt(n.$$.fragment),u=A(),c=f("hr"),v=A(),_=f("div"),rt(h.$$.fragment),this.h()},l(m){at(e.$$.fragment,m),t=S(m),at(l.$$.fragment,m),r=S(m),at(n.$$.fragment,m),u=S(m),c=d(m,"HR",{class:!0}),v=S(m),_=d(m,"DIV",{class:!0});var w=p(_);at(h.$$.fragment,w),w.forEach(i),this.h()},h(){o(c,"class","border-gray-100 dark:border-gray-800 mt-2.5 mb-1.5"),o(_,"class","flex p-1")},m(m,w){nt(e,m,w),B(m,t,w),nt(l,m,w),B(m,r,w),nt(n,m,w),B(m,u,w),B(m,c,w),B(m,v,w),B(m,_,w),nt(h,_,null),g=!0},p(m,w){const b={};w&32832&&(b.$$scope={dirty:w,ctx:m}),e.$set(b);const y={};w&32832&&(y.$$scope={dirty:w,ctx:m}),l.$set(y);const I={};w&32832&&(I.$$scope={dirty:w,ctx:m}),n.$set(I);const E={};w&16&&(E.chatId=m[4]),h.$set(E)},i(m){g||(Ee(e.$$.fragment,m),Ee(l.$$.fragment,m),Ee(n.$$.fragment,m),Ee(h.$$.fragment,m),g=!0)},o(m){Pe(e.$$.fragment,m),Pe(l.$$.fragment,m),Pe(n.$$.fragment,m),Pe(h.$$.fragment,m),g=!1},d(m){m&&(i(t),i(r),i(u),i(c),i(v),i(_)),ot(e,m),ot(l,m),ot(n,m),ot(h)}}}function Iu(s){let e,t,l;return t=new Hn({props:{class:"w-full max-w-[180px] rounded-lg px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-900 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:Un,$$slots:{default:[Eu]},$$scope:{ctx:s}}}),{c(){e=f("div"),rt(t.$$.fragment),this.h()},l(r){e=d(r,"DIV",{slot:!0});var n=p(e);at(t.$$.fragment,n),n.forEach(i),this.h()},h(){o(e,"slot","content")},m(r,n){B(r,e,n),nt(t,e,null),l=!0},p(r,n){const u={};n&32895&&(u.$$scope={dirty:n,ctx:r}),t.$set(u)},i(r){l||(Ee(t.$$.fragment,r),l=!0)},o(r){Pe(t.$$.fragment,r),l=!1},d(r){r&&i(e),ot(t)}}}function Du(s){let e,t,l;function r(u){s[13](u)}let n={$$slots:{content:[Iu],default:[bu]},$$scope:{ctx:s}};return s[5]!==void 0&&(n.show=s[5]),e=new yn({props:n}),Rt.push(()=>el(e,"show",r)),e.$on("change",s[14]),{c(){rt(e.$$.fragment)},l(u){at(e.$$.fragment,u)},m(u,c){nt(e,u,c),l=!0},p(u,[c]){const v={};c&32895&&(v.$$scope={dirty:c,ctx:u}),!t&&c&32&&(t=!0,v.show=u[5],$t(()=>t=!1)),e.$set(v)},i(u){l||(Ee(e.$$.fragment,u),l=!0)},o(u){Pe(e.$$.fragment,u),l=!1},d(u){ot(e,u)}}}function Tu(s,e,t){let l,{$$slots:r={},$$scope:n}=e;const u=jt("i18n");st(s,u,D=>t(6,l=D));let{shareHandler:c}=e,{renameHandler:v}=e,{deleteHandler:_}=e,{onClose:h}=e,{chatId:g=""}=e,m=!1;const w=()=>{c()},b=()=>{v()},y=()=>{_()},I=()=>{t(5,m=!1),h()};function E(D){m=D,t(5,m)}const k=D=>{D.detail===!1&&h()};return s.$$set=D=>{"shareHandler"in D&&t(0,c=D.shareHandler),"renameHandler"in D&&t(1,v=D.renameHandler),"deleteHandler"in D&&t(2,_=D.deleteHandler),"onClose"in D&&t(3,h=D.onClose),"chatId"in D&&t(4,g=D.chatId),"$$scope"in D&&t(15,n=D.$$scope)},[c,v,_,h,g,m,l,u,r,w,b,y,I,E,k,n]}class Vu extends St{constructor(e){super(),Lt(this,e,Tu,Du,At,{shareHandler:0,renameHandler:1,deleteHandler:2,onClose:3,chatId:4})}}function Mu(s){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(l){e=$e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=p(e);t=$e(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(t).forEach(i),r.forEach(i),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,r){B(l,e,r),a(e,t)},p(l,[r]){r&2&&o(e,"stroke-width",l[1]),r&1&&o(e,"class",l[0])},i:lt,o:lt,d(l){l&&i(e)}}}function Au(s,e,t){let{className:l="size-3.5"}=e,{strokeWidth:r="2.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class Na extends St{constructor(e){super(),Lt(this,e,Au,Mu,At,{className:0,strokeWidth:1})}}function qr(s,e,t){const l=s.slice();return l[11]=e[t],l[13]=t,l}function Su(s){let e,t=s[2].t("You have no archived conversations.")+"",l;return{c(){e=f("div"),l=H(t),this.h()},l(r){e=d(r,"DIV",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","text-left text-sm w-full mb-8")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n&4&&t!==(t=r[2].t("You have no archived conversations.")+"")&&W(l,t)},i:lt,o:lt,d(r){r&&i(e)}}}function Lu(s){let e,t,l,r,n,u,c=s[2].t("Name")+"",v,_,h,g=s[2].t("Created At")+"",m,w,b,y,I,E,k=it(s[1]),D=[];for(let T=0;T<k.length;T+=1)D[T]=Gr(qr(s,k,T));const L=T=>Pe(D[T],1,1,()=>{D[T]=null});return{c(){e=f("div"),t=f("div"),l=f("table"),r=f("thead"),n=f("tr"),u=f("th"),v=H(c),_=A(),h=f("th"),m=H(g),w=A(),b=f("th"),y=A(),I=f("tbody");for(let T=0;T<D.length;T+=1)D[T].c();this.h()},l(T){e=d(T,"DIV",{class:!0});var V=p(e);t=d(V,"DIV",{class:!0});var M=p(t);l=d(M,"TABLE",{class:!0});var N=p(l);r=d(N,"THEAD",{class:!0});var R=p(r);n=d(R,"TR",{});var z=p(n);u=d(z,"TH",{scope:!0,class:!0});var O=p(u);v=U(O,c),O.forEach(i),_=S(z),h=d(z,"TH",{scope:!0,class:!0});var q=p(h);m=U(q,g),q.forEach(i),w=S(z),b=d(z,"TH",{scope:!0,class:!0}),p(b).forEach(i),z.forEach(i),R.forEach(i),y=S(N),I=d(N,"TBODY",{});var P=p(I);for(let C=0;C<D.length;C+=1)D[C].l(P);P.forEach(i),N.forEach(i),M.forEach(i),V.forEach(i),this.h()},h(){o(u,"scope","col"),o(u,"class","px-3 py-2"),o(h,"scope","col"),o(h,"class","px-3 py-2 hidden md:flex"),o(b,"scope","col"),o(b,"class","px-3 py-2 text-right"),o(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),o(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),o(t,"class","relative overflow-x-auto"),o(e,"class","text-left text-sm w-full mb-4 max-h-[22rem] overflow-y-scroll")},m(T,V){B(T,e,V),a(e,t),a(t,l),a(l,r),a(r,n),a(n,u),a(u,v),a(n,_),a(n,h),a(h,m),a(n,w),a(n,b),a(l,y),a(l,I);for(let M=0;M<D.length;M+=1)D[M]&&D[M].m(I,null);E=!0},p(T,V){if((!E||V&4)&&c!==(c=T[2].t("Name")+"")&&W(v,c),(!E||V&4)&&g!==(g=T[2].t("Created At")+"")&&W(m,g),V&54){k=it(T[1]);let M;for(M=0;M<k.length;M+=1){const N=qr(T,k,M);D[M]?(D[M].p(N,V),Ee(D[M],1)):(D[M]=Gr(N),D[M].c(),Ee(D[M],1),D[M].m(I,null))}for(zt(),M=k.length;M<D.length;M+=1)L(M);Zt()}},i(T){if(!E){for(let V=0;V<k.length;V+=1)Ee(D[V]);E=!0}},o(T){D=D.filter(Boolean);for(let V=0;V<D.length;V+=1)Pe(D[V]);E=!1},d(T){T&&i(e),Ct(D,T)}}}function Cu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',l,r;function n(){return s[7](s[11])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1raw90f"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(u,c){B(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function xu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function n(){return s[8](s[11])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-oqx8cx"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(u,c){B(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function Gr(s){let e,t,l,r,n=s[11].title+"",u,c,v,_,h,g=Ds(s[11].created_at*1e3).format(s[2].t("MMMM DD, YYYY HH:mm"))+"",m,w,b,y,I,E,k,D,L,T;return I=new fl({props:{content:"Unarchive Chat",$$slots:{default:[Cu]},$$scope:{ctx:s}}}),k=new fl({props:{content:"Delete Chat",$$slots:{default:[xu]},$$scope:{ctx:s}}}),{c(){e=f("tr"),t=f("td"),l=f("a"),r=f("div"),u=H(n),v=A(),_=f("td"),h=f("div"),m=H(g),w=A(),b=f("td"),y=f("div"),rt(I.$$.fragment),E=A(),rt(k.$$.fragment),D=A(),this.h()},l(V){e=d(V,"TR",{class:!0});var M=p(e);t=d(M,"TD",{class:!0});var N=p(t);l=d(N,"A",{href:!0,target:!0});var R=p(l);r=d(R,"DIV",{class:!0});var z=p(r);u=U(z,n),z.forEach(i),R.forEach(i),N.forEach(i),v=S(M),_=d(M,"TD",{class:!0});var O=p(_);h=d(O,"DIV",{class:!0});var q=p(h);m=U(q,g),q.forEach(i),O.forEach(i),w=S(M),b=d(M,"TD",{class:!0});var P=p(b);y=d(P,"DIV",{class:!0});var C=p(y);at(I.$$.fragment,C),E=S(C),at(k.$$.fragment,C),C.forEach(i),P.forEach(i),D=S(M),M.forEach(i),this.h()},h(){o(r,"class","underline line-clamp-1"),o(l,"href",c="/c/"+s[11].id),o(l,"target","_blank"),o(t,"class","px-3 py-1 w-2/3"),o(h,"class","my-auto"),o(_,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),o(y,"class","flex justify-end w-full"),o(b,"class","px-3 py-1 text-right"),o(e,"class",L="bg-transparent "+(s[13]!==s[1].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(V,M){B(V,e,M),a(e,t),a(t,l),a(l,r),a(r,u),a(e,v),a(e,_),a(_,h),a(h,m),a(e,w),a(e,b),a(b,y),nt(I,y,null),a(y,E),nt(k,y,null),a(e,D),T=!0},p(V,M){(!T||M&2)&&n!==(n=V[11].title+"")&&W(u,n),(!T||M&2&&c!==(c="/c/"+V[11].id))&&o(l,"href",c),(!T||M&6)&&g!==(g=Ds(V[11].created_at*1e3).format(V[2].t("MMMM DD, YYYY HH:mm"))+"")&&W(m,g);const N={};M&16386&&(N.$$scope={dirty:M,ctx:V}),I.$set(N);const R={};M&16386&&(R.$$scope={dirty:M,ctx:V}),k.$set(R),(!T||M&2&&L!==(L="bg-transparent "+(V[13]!==V[1].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&o(e,"class",L)},i(V){T||(Ee(I.$$.fragment,V),Ee(k.$$.fragment,V),T=!0)},o(V){Pe(I.$$.fragment,V),Pe(k.$$.fragment,V),T=!1},d(V){V&&i(e),ot(I),ot(k)}}}function Ou(s){let e,t,l,r=s[2].t("Archived Chats")+"",n,u,c,v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,h,g,m,w,b,y,I;const E=[Lu,Su],k=[];function D(L,T){return L[1].length>0?0:1}return m=D(s),w=k[m]=E[m](s),{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("button"),c.innerHTML=v,_=A(),h=f("div"),g=f("div"),w.c(),this.h()},l(L){e=d(L,"DIV",{});var T=p(e);t=d(T,"DIV",{class:!0});var V=p(t);l=d(V,"DIV",{class:!0});var M=p(l);n=U(M,r),M.forEach(i),u=S(V),c=d(V,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(c)!=="svelte-745w2y"&&(c.innerHTML=v),V.forEach(i),_=S(T),h=d(T,"DIV",{class:!0});var N=p(h);g=d(N,"DIV",{class:!0});var R=p(g);w.l(R),R.forEach(i),N.forEach(i),T.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(h,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(L,T){B(L,e,T),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(e,_),a(e,h),a(h,g),k[m].m(g,null),b=!0,y||(I=$(c,"click",s[6]),y=!0)},p(L,T){(!b||T&4)&&r!==(r=L[2].t("Archived Chats")+"")&&W(n,r);let V=m;m=D(L),m===V?k[m].p(L,T):(zt(),Pe(k[V],1,1,()=>{k[V]=null}),Zt(),w=k[m],w?w.p(L,T):(w=k[m]=E[m](L),w.c()),Ee(w,1),w.m(g,null))},i(L){b||(Ee(w),b=!0)},o(L){Pe(w),b=!1},d(L){L&&i(e),k[m].d(),y=!1,I()}}}function Nu(s){let e,t,l;function r(u){s[9](u)}let n={size:"lg",$$slots:{default:[Ou]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new es({props:n}),Rt.push(()=>el(e,"show",r)),{c(){rt(e.$$.fragment)},l(u){at(e.$$.fragment,u)},m(u,c){nt(e,u,c),l=!0},p(u,[c]){const v={};c&16391&&(v.$$scope={dirty:c,ctx:u}),!t&&c&1&&(t=!0,v.show=u[0],$t(()=>t=!1)),e.$set(v)},i(u){l||(Ee(e.$$.fragment,u),l=!0)},o(u){Pe(e.$$.fragment,u),l=!1},d(u){ot(e,u)}}}function Pu(s,e,t){let l;const r=Nl(),n=jt("i18n");st(s,n,b=>t(2,l=b));let{show:u=!1}=e,c=[];const v=async b=>{await Da(localStorage.token,b).catch(y=>{Xe.error(y)}),t(1,c=await ls(localStorage.token)),r("change")},_=async b=>{await Ta(localStorage.token,b).catch(y=>{Xe.error(y)}),t(1,c=await ls(localStorage.token))},h=()=>{t(0,u=!1)},g=async b=>{v(b.id)},m=async b=>{_(b.id)};function w(b){u=b,t(0,u)}return s.$$set=b=>{"show"in b&&t(0,u=b.show)},s.$$.update=()=>{s.$$.dirty&1&&u&&(async()=>t(1,c=await ls(localStorage.token)))()},[u,c,l,n,v,_,h,g,m,w]}class Bu extends St{constructor(e){super(),Lt(this,e,Pu,Nu,At,{show:0})}}function Fr(s,e,t){const l=s.slice();return l[59]=e[t],l[61]=t,l}function Kr(s,e,t){const l=s.slice();return l[62]=e[t],l}function Yr(s){let e,t,l,r='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',n,u,c,v=s[14].t("Modelfiles")+"",_,h,g,m,w,b='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',y,I,E,k=s[14].t("Prompts")+"",D,L,T,V,M,N='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg>',R,z,O,q=s[14].t("Documents")+"",P,C,F;return{c(){e=f("div"),t=f("a"),l=f("div"),l.innerHTML=r,n=A(),u=f("div"),c=f("div"),_=H(v),h=A(),g=f("div"),m=f("a"),w=f("div"),w.innerHTML=b,y=A(),I=f("div"),E=f("div"),D=H(k),L=A(),T=f("div"),V=f("a"),M=f("div"),M.innerHTML=N,R=A(),z=f("div"),O=f("div"),P=H(q),this.h()},l(G){e=d(G,"DIV",{class:!0});var K=p(e);t=d(K,"A",{class:!0,href:!0});var x=p(t);l=d(x,"DIV",{class:!0,"data-svelte-h":!0}),Ne(l)!=="svelte-qe7czu"&&(l.innerHTML=r),n=S(x),u=d(x,"DIV",{class:!0});var Z=p(u);c=d(Z,"DIV",{class:!0});var j=p(c);_=U(j,v),j.forEach(i),Z.forEach(i),x.forEach(i),K.forEach(i),h=S(G),g=d(G,"DIV",{class:!0});var Y=p(g);m=d(Y,"A",{class:!0,href:!0});var J=p(m);w=d(J,"DIV",{class:!0,"data-svelte-h":!0}),Ne(w)!=="svelte-10bhs2p"&&(w.innerHTML=b),y=S(J),I=d(J,"DIV",{class:!0});var X=p(I);E=d(X,"DIV",{class:!0});var Q=p(E);D=U(Q,k),Q.forEach(i),X.forEach(i),J.forEach(i),Y.forEach(i),L=S(G),T=d(G,"DIV",{class:!0});var se=p(T);V=d(se,"A",{class:!0,href:!0});var ue=p(V);M=d(ue,"DIV",{class:!0,"data-svelte-h":!0}),Ne(M)!=="svelte-1gjxppm"&&(M.innerHTML=N),R=S(ue),z=d(ue,"DIV",{class:!0});var ie=p(z);O=d(ie,"DIV",{class:!0});var pe=p(O);P=U(pe,q),pe.forEach(i),ie.forEach(i),ue.forEach(i),se.forEach(i),this.h()},h(){o(l,"class","self-center"),o(c,"class","self-center font-medium text-sm"),o(u,"class","flex self-center"),o(t,"class","flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),o(t,"href","/modelfiles"),o(e,"class","px-2 flex justify-center mt-0.5"),o(w,"class","self-center"),o(E,"class","self-center font-medium text-sm"),o(I,"class","flex self-center"),o(m,"class","flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),o(m,"href","/prompts"),o(g,"class","px-2 flex justify-center"),o(M,"class","self-center"),o(O,"class","self-center font-medium text-sm"),o(z,"class","flex self-center"),o(V,"class","flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),o(V,"href","/documents"),o(T,"class","px-2 flex justify-center mb-1")},m(G,K){B(G,e,K),a(e,t),a(t,l),a(t,n),a(t,u),a(u,c),a(c,_),B(G,h,K),B(G,g,K),a(g,m),a(m,w),a(m,y),a(m,I),a(I,E),a(E,D),B(G,L,K),B(G,T,K),a(T,V),a(V,M),a(V,R),a(V,z),a(z,O),a(O,P),C||(F=[$(t,"click",s[28]),$(m,"click",s[29]),$(V,"click",s[30])],C=!0)},p(G,K){K[0]&16384&&v!==(v=G[14].t("Modelfiles")+"")&&W(_,v),K[0]&16384&&k!==(k=G[14].t("Prompts")+"")&&W(D,k),K[0]&16384&&q!==(q=G[14].t("Documents")+"")&&W(P,q)},d(G){G&&(i(e),i(h),i(g),i(L),i(T)),C=!1,ut(F)}}}function Jr(s){let e,t,l,r=s[14].t("Chat History is off for this browser.")+"",n,u,c,v=s[14].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"",_,h,g,m=s[14].t("This setting does not sync across browsers or devices.")+"",w,b,y,I,E,k,D,L,T=s[14].t("Enable Chat History")+"",V,M,N;return{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("div"),_=H(v),h=A(),g=f("span"),w=H(m),b=A(),y=f("div"),I=f("button"),E=Qe("svg"),k=Qe("path"),D=A(),L=f("div"),V=H(T),this.h()},l(R){e=d(R,"DIV",{class:!0});var z=p(e);t=d(z,"DIV",{class:!0});var O=p(t);l=d(O,"DIV",{class:!0});var q=p(l);n=U(q,r),q.forEach(i),u=S(O),c=d(O,"DIV",{class:!0});var P=p(c);_=U(P,v),h=S(P),g=d(P,"SPAN",{class:!0});var C=p(g);w=U(C,m),C.forEach(i),P.forEach(i),b=S(O),y=d(O,"DIV",{class:!0});var F=p(y);I=d(F,"BUTTON",{class:!0,type:!0});var G=p(I);E=$e(G,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var K=p(E);k=$e(K,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(k).forEach(i),K.forEach(i),D=S(G),L=d(G,"DIV",{});var x=p(L);V=U(x,T),x.forEach(i),G.forEach(i),F.forEach(i),O.forEach(i),z.forEach(i),this.h()},h(){o(l,"class","font-medium"),o(g,"class","font-semibold"),o(c,"class","text-xs mt-2"),o(k,"fill-rule","evenodd"),o(k,"d","M8 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 8 1ZM4.11 3.05a.75.75 0 0 1 0 1.06 5.5 5.5 0 1 0 7.78 0 .75.75 0 0 1 1.06-1.06 7 7 0 1 1-9.9 0 .75.75 0 0 1 1.06 0Z"),o(k,"clip-rule","evenodd"),o(E,"xmlns","http://www.w3.org/2000/svg"),o(E,"viewBox","0 0 16 16"),o(E,"fill","currentColor"),o(E,"class","w-3 h-3"),o(I,"class","flex justify-center items-center space-x-1.5 px-3 py-2.5 rounded-lg text-xs bg-gray-100 hover:bg-gray-200 transition text-gray-800 font-medium w-full"),o(I,"type","button"),o(y,"class","mt-3"),o(t,"class","text-left px-5 py-2"),o(e,"class","absolute z-40 w-full h-full bg-gray-50/90 dark:bg-black/90 flex justify-center")},m(R,z){B(R,e,z),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(c,_),a(c,h),a(c,g),a(g,w),a(t,b),a(t,y),a(y,I),a(I,E),a(E,k),a(I,D),a(I,L),a(L,V),M||(N=$(I,"click",s[31]),M=!0)},p(R,z){z[0]&16384&&r!==(r=R[14].t("Chat History is off for this browser.")+"")&&W(n,r),z[0]&16384&&v!==(v=R[14].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"")&&W(_,v),z[0]&16384&&m!==(m=R[14].t("This setting does not sync across browsers or devices.")+"")&&W(w,m),z[0]&16384&&T!==(T=R[14].t("Enable Chat History")+"")&&W(V,T)},d(R){R&&i(e),M=!1,N()}}}function Xr(s){let e,t,l=s[14].t("all")+"",r,n,u,c,v=it(s[17]),_=[];for(let h=0;h<v.length;h+=1)_[h]=Qr(Kr(s,v,h));return{c(){e=f("div"),t=f("button"),r=H(l),n=A();for(let h=0;h<_.length;h+=1)_[h].c();this.h()},l(h){e=d(h,"DIV",{class:!0});var g=p(e);t=d(g,"BUTTON",{class:!0});var m=p(t);r=U(m,l),m.forEach(i),n=S(g);for(let w=0;w<_.length;w+=1)_[w].l(g);g.forEach(i),this.h()},h(){o(t,"class","px-2.5 text-xs font-medium bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full"),o(e,"class","px-2.5 mt-0.5 mb-2 flex gap-1 flex-wrap")},m(h,g){B(h,e,g),a(e,t),a(t,r),a(e,n);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(e,null);u||(c=$(t,"click",s[34]),u=!0)},p(h,g){if(g[0]&16384&&l!==(l=h[14].t("all")+"")&&W(r,l),g[0]&131072){v=it(h[17]);let m;for(m=0;m<v.length;m+=1){const w=Kr(h,v,m);_[m]?_[m].p(w,g):(_[m]=Qr(w),_[m].c(),_[m].m(e,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=v.length}},d(h){h&&i(e),Ct(_,h),u=!1,c()}}}function Qr(s){let e,t=s[62].name+"",l,r,n,u;function c(){return s[35](s[62])}return{c(){e=f("button"),l=H(t),r=A(),this.h()},l(v){e=d(v,"BUTTON",{class:!0});var _=p(e);l=U(_,t),r=S(_),_.forEach(i),this.h()},h(){o(e,"class","px-2.5 text-xs font-medium bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full")},m(v,_){B(v,e,_),a(e,l),a(e,r),n||(u=$(e,"click",c),n=!0)},p(v,_){s=v,_[0]&131072&&t!==(t=s[62].name+"")&&W(l,t)},d(v){v&&i(e),n=!1,u()}}}function $r(s){let e,t=s[14].t(s[59].time_range)+"",l;return{c(){e=f("div"),l=H(t),this.h()},l(r){e=d(r,"DIV",{class:!0});var n=p(e);l=U(n,t),n.forEach(i),this.h()},h(){o(e,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(s[61]===0?"":"pt-5")+" pb-0.5")},m(r,n){B(r,e,n),a(e,l)},p(r,n){n[0]&18432&&t!==(t=r[14].t(r[59].time_range)+"")&&W(l,t)},d(r){r&&i(e)}}}function Hu(s){let e,t,l,r=s[59].title+"",n,u,c,v,_;function h(){return s[37](s[59])}return{c(){e=f("a"),t=f("div"),l=f("div"),n=H(r),this.h()},l(g){e=d(g,"A",{class:!0,href:!0,draggable:!0});var m=p(e);t=d(m,"DIV",{class:!0});var w=p(t);l=d(w,"DIV",{class:!0});var b=p(l);n=U(b,r),b.forEach(i),w.forEach(i),m.forEach(i),this.h()},h(){o(l,"class","text-left self-center overflow-hidden w-full h-[20px]"),o(t,"class","flex self-center flex-1 w-full"),o(e,"class",u="w-full flex justify-between rounded-xl px-3 py-2 "+(s[59].id===s[13]||s[59].id===s[6]||s[59].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[59].id===s[4]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),o(e,"href",c="/c/"+s[59].id),o(e,"draggable","false")},m(g,m){B(g,e,m),a(e,t),a(t,l),a(l,n),v||(_=$(e,"click",h),v=!0)},p(g,m){s=g,m[0]&2048&&r!==(r=s[59].title+"")&&W(n,r),m[0]&10352&&u!==(u="w-full flex justify-between rounded-xl px-3 py-2 "+(s[59].id===s[13]||s[59].id===s[6]||s[59].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[59].id===s[4]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&o(e,"class",u),m[0]&2048&&c!==(c="/c/"+s[59].id)&&o(e,"href",c)},d(g){g&&i(e),v=!1,_()}}}function Uu(s){let e,t,l,r,n;return{c(){e=f("div"),t=f("input"),this.h()},l(u){e=d(u,"DIV",{class:!0});var c=p(e);t=d(c,"INPUT",{class:!0}),c.forEach(i),this.h()},h(){o(t,"class","bg-transparent w-full outline-none mr-10"),o(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 "+(s[59].id===s[13]||s[59].id===s[6]||s[59].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[59].id===s[4]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")},m(u,c){B(u,e,c),a(e,t),me(t,s[7]),r||(n=$(t,"input",s[36]),r=!0)},p(u,c){c[0]&128&&t.value!==u[7]&&me(t,u[7]),c[0]&10352&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 "+(u[59].id===u[13]||u[59].id===u[6]||u[59].id===u[5]?"bg-gray-200 dark:bg-gray-900":u[59].id===u[4]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&o(e,"class",l)},d(u){u&&i(e),r=!1,n()}}}function ju(s){let e,t,l,r,n,u;function c(){return s[44](s[59])}function v(){return s[45](s[59])}t=new Vu({props:{chatId:s[59].id,shareHandler:s[43],renameHandler:c,deleteHandler:v,onClose:s[46],$$slots:{default:[Zu]},$$scope:{ctx:s}}}),r=new fl({props:{content:s[14].t("Archive"),$$slots:{default:[Wu]},$$scope:{ctx:s}}});let _=s[59].id===s[13]&&ea(s);return{c(){e=f("div"),rt(t.$$.fragment),l=A(),rt(r.$$.fragment),n=A(),_&&_.c(),this.h()},l(h){e=d(h,"DIV",{class:!0});var g=p(e);at(t.$$.fragment,g),l=S(g),at(r.$$.fragment,g),n=S(g),_&&_.l(g),g.forEach(i),this.h()},h(){o(e,"class","flex self-center space-x-1 z-10")},m(h,g){B(h,e,g),nt(t,e,null),a(e,l),nt(r,e,null),a(e,n),_&&_.m(e,null),u=!0},p(h,g){s=h;const m={};g[0]&2048&&(m.chatId=s[59].id),g[0]&536&&(m.shareHandler=s[43]),g[0]&2240&&(m.renameHandler=c),g[0]&2080&&(m.deleteHandler=v),g[0]&16&&(m.onClose=s[46]),g[0]&2064|g[2]&8&&(m.$$scope={dirty:g,ctx:s}),t.$set(m);const w={};g[0]&16384&&(w.content=s[14].t("Archive")),g[0]&2048|g[2]&8&&(w.$$scope={dirty:g,ctx:s}),r.$set(w),s[59].id===s[13]?_?_.p(s,g):(_=ea(s),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i(h){u||(Ee(t.$$.fragment,h),Ee(r.$$.fragment,h),u=!0)},o(h){Pe(t.$$.fragment,h),Pe(r.$$.fragment,h),u=!1},d(h){h&&i(e),ot(t),ot(r),_&&_.d()}}}function Ru(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,n,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,v;function _(){return s[40](s[59])}return{c(){e=f("div"),t=f("button"),t.innerHTML=l,r=A(),n=f("button"),n.innerHTML=u,this.h()},l(h){e=d(h,"DIV",{class:!0});var g=p(e);t=d(g,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-b43ps3"&&(t.innerHTML=l),r=S(g),n=d(g,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(n)!=="svelte-1rs1rrb"&&(n.innerHTML=u),g.forEach(i),this.h()},h(){o(t,"class","self-center dark:hover:text-white transition"),o(n,"class","self-center dark:hover:text-white transition"),o(e,"class","flex self-center space-x-1.5 z-10")},m(h,g){B(h,e,g),a(e,t),a(e,r),a(e,n),c||(v=[$(t,"click",_),$(n,"click",s[41])],c=!0)},p(h,g){s=h},i:lt,o:lt,d(h){h&&i(e),c=!1,ut(v)}}}function zu(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,n,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,v;function _(){return s[38](s[59])}return{c(){e=f("div"),t=f("button"),t.innerHTML=l,r=A(),n=f("button"),n.innerHTML=u,this.h()},l(h){e=d(h,"DIV",{class:!0});var g=p(e);t=d(g,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-s5m6yg"&&(t.innerHTML=l),r=S(g),n=d(g,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(n)!=="svelte-tqhykr"&&(n.innerHTML=u),g.forEach(i),this.h()},h(){o(t,"class","self-center dark:hover:text-white transition"),o(n,"class","self-center dark:hover:text-white transition"),o(e,"class","flex self-center space-x-1.5 z-10")},m(h,g){B(h,e,g),a(e,t),a(e,r),a(e,n),c||(v=[$(t,"click",_),$(n,"click",s[39])],c=!0)},p(h,g){s=h},i:lt,o:lt,d(h){h&&i(e),c=!1,ut(v)}}}function Zu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,r;function n(){return s[42](s[59])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-pdrw69"&&(e.innerHTML=t),this.h()},h(){o(e,"aria-label","Chat Menu"),o(e,"class","self-center dark:hover:text-white transition")},m(u,c){B(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function Wu(s){let e,t,l,r,n;t=new Na({});function u(){return s[47](s[59])}return{c(){e=f("button"),rt(t.$$.fragment),this.h()},l(c){e=d(c,"BUTTON",{"aria-label":!0,class:!0});var v=p(e);at(t.$$.fragment,v),v.forEach(i),this.h()},h(){o(e,"aria-label","Archive"),o(e,"class","self-center dark:hover:text-white transition")},m(c,v){B(c,e,v),nt(t,e,null),l=!0,r||(n=$(e,"click",u),r=!0)},p(c,v){s=c},i(c){l||(Ee(t.$$.fragment,c),l=!0)},o(c){Pe(t.$$.fragment,c),l=!1},d(c){c&&i(e),ot(t),r=!1,n()}}}function ea(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,r;function n(){return s[48](s[59])}return{c(){e=f("button"),e.innerHTML=t,this.h()},l(u){e=d(u,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-u345si"&&(e.innerHTML=t),this.h()},h(){o(e,"id","delete-chat-button"),o(e,"class","hidden")},m(u,c){B(u,e,c),l||(r=$(e,"click",n),l=!0)},p(u,c){s=u},d(u){u&&i(e),l=!1,r()}}}function ta(s){let e,t,l,r,n,u,c,v,_,h=(s[61]===0||s[61]>0&&s[59].time_range!==s[11][s[61]-1].time_range)&&$r(s);function g(E,k){return E[6]===E[59].id?Uu:Hu}let m=g(s),w=m(s);const b=[zu,Ru,ju],y=[];function I(E,k){return E[6]===E[59].id?0:E[5]===E[59].id?1:2}return n=I(s),u=y[n]=b[n](s),{c(){h&&h.c(),e=A(),t=f("div"),w.c(),l=A(),r=f("div"),u.c(),v=A(),this.h()},l(E){h&&h.l(E),e=S(E),t=d(E,"DIV",{class:!0});var k=p(t);w.l(k),l=S(k),r=d(k,"DIV",{class:!0});var D=p(r);u.l(D),D.forEach(i),v=S(k),k.forEach(i),this.h()},h(){o(r,"class",c=(s[59].id===s[13]||s[59].id===s[6]||s[59].id===s[5]?"from-gray-200 dark:from-gray-900":s[59].id===s[4]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[10px] pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"),o(t,"class","w-full pr-2 relative group")},m(E,k){h&&h.m(E,k),B(E,e,k),B(E,t,k),w.m(t,null),a(t,l),a(t,r),y[n].m(r,null),a(t,v),_=!0},p(E,k){E[61]===0||E[61]>0&&E[59].time_range!==E[11][E[61]-1].time_range?h?h.p(E,k):(h=$r(E),h.c(),h.m(e.parentNode,e)):h&&(h.d(1),h=null),m===(m=g(E))&&w?w.p(E,k):(w.d(1),w=m(E),w&&(w.c(),w.m(t,l)));let D=n;n=I(E),n===D?y[n].p(E,k):(zt(),Pe(y[D],1,1,()=>{y[D]=null}),Zt(),u=y[n],u?u.p(E,k):(u=y[n]=b[n](E),u.c()),Ee(u,1),u.m(r,null)),(!_||k[0]&10352&&c!==(c=(E[59].id===E[13]||E[59].id===E[6]||E[59].id===E[5]?"from-gray-200 dark:from-gray-900":E[59].id===E[4]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[10px] pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"))&&o(r,"class",c)},i(E){_||(Ee(u),_=!0)},o(E){Pe(u),_=!1},d(E){E&&(i(e),i(t)),h&&h.d(E),w.d(),y[n].d()}}}function la(s){let e,t,l,r,n,u,c=s[16].name+"",v,_,h,g,m,w,b=s[10]&&sa(s);return{c(){e=f("button"),t=f("div"),l=f("img"),n=A(),u=f("div"),v=H(c),_=A(),b&&b.c(),h=It(),this.h()},l(y){e=d(y,"BUTTON",{class:!0});var I=p(e);t=d(I,"DIV",{class:!0});var E=p(t);l=d(E,"IMG",{src:!0,class:!0,alt:!0}),E.forEach(i),n=S(I),u=d(I,"DIV",{class:!0});var k=p(u);v=U(k,c),k.forEach(i),I.forEach(i),_=S(y),b&&b.l(y),h=It(),this.h()},h(){Ql(l.src,r=s[16].profile_image_url)||o(l,"src",r),o(l,"class","max-w-[30px] object-cover rounded-full"),o(l,"alt","User profile"),o(t,"class","self-center mr-3"),o(u,"class","self-center font-semibold"),o(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition")},m(y,I){B(y,e,I),a(e,t),a(t,l),a(e,n),a(e,u),a(u,v),B(y,_,I),b&&b.m(y,I),B(y,h,I),g=!0,m||(w=$(e,"click",s[49]),m=!0)},p(y,I){(!g||I[0]&65536&&!Ql(l.src,r=y[16].profile_image_url))&&o(l,"src",r),(!g||I[0]&65536)&&c!==(c=y[16].name+"")&&W(v,c),y[10]?b?(b.p(y,I),I[0]&1024&&Ee(b,1)):(b=sa(y),b.c(),Ee(b,1),b.m(h.parentNode,h)):b&&(zt(),Pe(b,1,1,()=>{b=null}),Zt())},i(y){g||(Ee(b),g=!0)},o(y){Pe(b),g=!1},d(y){y&&(i(e),i(_),i(h)),b&&b.d(y),m=!1,w()}}}function sa(s){let e,t,l,r,n,u,c,v,_=s[14].t("Archived Chats")+"",h,g,m,w,b='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',y,I,E=s[14].t("Settings")+"",k,D,L,T,V,M,N,R='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z" clip-rule="evenodd"></path></svg>',z,O,q=s[14].t("Sign Out")+"",P,C,F,G,K,x=s[16].role==="admin"&&ra(s);return u=new Na({props:{className:"size-5",strokeWidth:"1.5"}}),{c(){e=f("div"),t=f("div"),x&&x.c(),l=A(),r=f("button"),n=f("div"),rt(u.$$.fragment),c=A(),v=f("div"),h=H(_),g=A(),m=f("button"),w=f("div"),w.innerHTML=b,y=A(),I=f("div"),k=H(E),D=A(),L=f("hr"),T=A(),V=f("div"),M=f("button"),N=f("div"),N.innerHTML=R,z=A(),O=f("div"),P=H(q),this.h()},l(Z){e=d(Z,"DIV",{id:!0,class:!0});var j=p(e);t=d(j,"DIV",{class:!0});var Y=p(t);x&&x.l(Y),l=S(Y),r=d(Y,"BUTTON",{class:!0});var J=p(r);n=d(J,"DIV",{class:!0});var X=p(n);at(u.$$.fragment,X),X.forEach(i),c=S(J),v=d(J,"DIV",{class:!0});var Q=p(v);h=U(Q,_),Q.forEach(i),J.forEach(i),g=S(Y),m=d(Y,"BUTTON",{class:!0});var se=p(m);w=d(se,"DIV",{class:!0,"data-svelte-h":!0}),Ne(w)!=="svelte-miy268"&&(w.innerHTML=b),y=S(se),I=d(se,"DIV",{class:!0});var ue=p(I);k=U(ue,E),ue.forEach(i),se.forEach(i),Y.forEach(i),D=S(j),L=d(j,"HR",{class:!0}),T=S(j),V=d(j,"DIV",{class:!0});var ie=p(V);M=d(ie,"BUTTON",{class:!0});var pe=p(M);N=d(pe,"DIV",{class:!0,"data-svelte-h":!0}),Ne(N)!=="svelte-4tkvnw"&&(N.innerHTML=R),z=S(pe),O=d(pe,"DIV",{class:!0});var he=p(O);P=U(he,q),he.forEach(i),pe.forEach(i),ie.forEach(i),j.forEach(i),this.h()},h(){o(n,"class","self-center mr-3"),o(v,"class","self-center font-medium"),o(r,"class","flex rounded-md py-2.5 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-800 transition"),o(w,"class","self-center mr-3"),o(I,"class","self-center font-medium"),o(m,"class","flex rounded-md py-2.5 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-800 transition"),o(t,"class","p-1 py-2 w-full"),o(L,"class","dark:border-gray-800 m-0 p-0"),o(N,"class","self-center mr-3"),o(O,"class","self-center font-medium"),o(M,"class","flex rounded-md py-2.5 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-800 transition"),o(V,"class","p-1 py-2 w-full"),o(e,"id","dropdownDots"),o(e,"class","absolute z-40 bottom-[70px] rounded-lg shadow w-[240px] bg-white dark:bg-gray-900")},m(Z,j){B(Z,e,j),a(e,t),x&&x.m(t,null),a(t,l),a(t,r),a(r,n),nt(u,n,null),a(r,c),a(r,v),a(v,h),a(t,g),a(t,m),a(m,w),a(m,y),a(m,I),a(I,k),a(e,D),a(e,L),a(e,T),a(e,V),a(V,M),a(M,N),a(M,z),a(M,O),a(O,P),F=!0,G||(K=[$(r,"click",s[52]),$(m,"click",s[53]),$(M,"click",s[54])],G=!0)},p(Z,j){Z[16].role==="admin"?x?x.p(Z,j):(x=ra(Z),x.c(),x.m(t,l)):x&&(x.d(1),x=null),(!F||j[0]&16384)&&_!==(_=Z[14].t("Archived Chats")+"")&&W(h,_),(!F||j[0]&16384)&&E!==(E=Z[14].t("Settings")+"")&&W(k,E),(!F||j[0]&16384)&&q!==(q=Z[14].t("Sign Out")+"")&&W(P,q)},i(Z){F||(Ee(u.$$.fragment,Z),Z&&Gt(()=>{F&&(C||(C=ks(e,Ts,{duration:100},!0)),C.run(1))}),F=!0)},o(Z){Pe(u.$$.fragment,Z),Z&&(C||(C=ks(e,Ts,{duration:100},!1)),C.run(0)),F=!1},d(Z){Z&&i(e),x&&x.d(),ot(u),Z&&C&&C.end(),G=!1,ut(K)}}}function ra(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',r,n,u=s[14].t("Admin Panel")+"",c,v,_,h,g='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',m,w,b=s[14].t("Playground")+"",y,I,E;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,r=A(),n=f("div"),c=H(u),v=A(),_=f("button"),h=f("div"),h.innerHTML=g,m=A(),w=f("div"),y=H(b),this.h()},l(k){e=d(k,"BUTTON",{class:!0});var D=p(e);t=d(D,"DIV",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-1ilvrqk"&&(t.innerHTML=l),r=S(D),n=d(D,"DIV",{class:!0});var L=p(n);c=U(L,u),L.forEach(i),D.forEach(i),v=S(k),_=d(k,"BUTTON",{class:!0});var T=p(_);h=d(T,"DIV",{class:!0,"data-svelte-h":!0}),Ne(h)!=="svelte-uof6bu"&&(h.innerHTML=g),m=S(T),w=d(T,"DIV",{class:!0});var V=p(w);y=U(V,b),V.forEach(i),T.forEach(i),this.h()},h(){o(t,"class","self-center mr-3"),o(n,"class","self-center font-medium"),o(e,"class","flex rounded-md py-2.5 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-800 transition"),o(h,"class","self-center mr-3"),o(w,"class","self-center font-medium"),o(_,"class","flex rounded-md py-2.5 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-800 transition")},m(k,D){B(k,e,D),a(e,t),a(e,r),a(e,n),a(n,c),B(k,v,D),B(k,_,D),a(_,h),a(_,m),a(_,w),a(w,y),I||(E=[$(e,"click",s[50]),$(_,"click",s[51])],I=!0)},p(k,D){D[0]&16384&&u!==(u=k[14].t("Admin Panel")+"")&&W(c,u),D[0]&16384&&b!==(b=k[14].t("Playground")+"")&&W(y,b)},d(k){k&&(i(e),i(v),i(_)),I=!1,ut(E)}}}function qu(s){let e,t,l,r,n,u,c,v,_,h,g;return{c(){e=f("button"),t=f("span"),l=f("div"),r=f("div"),n=f("div"),c=A(),v=f("div"),this.h()},l(m){e=d(m,"BUTTON",{id:!0,class:!0});var w=p(e);t=d(w,"SPAN",{class:!0,"data-state":!0});var b=p(t);l=d(b,"DIV",{class:!0});var y=p(l);r=d(y,"DIV",{class:!0});var I=p(r);n=d(I,"DIV",{class:!0}),p(n).forEach(i),c=S(I),v=d(I,"DIV",{class:!0}),p(v).forEach(i),I.forEach(i),y.forEach(i),b.forEach(i),w.forEach(i),this.h()},h(){o(n,"class",u="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[0.15rem] "+(s[15]?"group-hover:rotate-[15deg]":"group-hover:rotate-[-15deg]")),o(v,"class",_="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[-0.15rem] "+(s[15]?"group-hover:rotate-[-15deg]":"group-hover:rotate-[15deg]")),o(r,"class","flex h-6 w-6 flex-col items-center"),o(l,"class","flex h-[72px] w-8 items-center justify-center opacity-50 group-hover:opacity-100 transition"),o(t,"class",""),o(t,"data-state","closed"),o(e,"id","sidebar-toggle-button"),o(e,"class","group")},m(m,w){B(m,e,w),a(e,t),a(t,l),a(l,r),a(r,n),a(r,c),a(r,v),h||(g=$(e,"click",s[55]),h=!0)},p(m,w){w[0]&32768&&u!==(u="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[0.15rem] "+(m[15]?"group-hover:rotate-[15deg]":"group-hover:rotate-[-15deg]"))&&o(n,"class",u),w[0]&32768&&_!==(_="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[-0.15rem] "+(m[15]?"group-hover:rotate-[-15deg]":"group-hover:rotate-[15deg]"))&&o(v,"class",_)},d(m){m&&i(e),h=!1,g()}}}function Gu(s){var Je;let e,t,l,r,n,u,c,v,_,h,g,m,w=`<img src="${sn}/static/favicon.png" class="size-6 -translate-x-1.5 rounded-full" alt="logo"/>`,b,y,I=s[14].t("New Chat")+"",E,k,D,L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"></path><path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"></path></svg>',T,V,M,N,R,z,O,q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',P,C,F,G,K,x,Z,j,Y,J,X,Q,se,ue,ie,pe,he;function ce(ne){s[24](ne)}let re={chatId:s[3]};s[9]!==void 0&&(re.show=s[9]),e=new In({props:re}),Rt.push(()=>el(e,"show",ce));function le(ne){s[25](ne)}let De={};s[8]!==void 0&&(De.show=s[8]),r=new Bu({props:De}),Rt.push(()=>el(r,"show",le)),r.$on("change",s[26]);let ae=((Je=s[16])==null?void 0:Je.role)==="admin"&&Yr(s),ee=!(s[12].saveChatHistory??!0)&&Jr(s),fe=s[17].length>0&&Xr(s),Ce=it(s[11]),de=[];for(let ne=0;ne<Ce.length;ne+=1)de[ne]=ta(Fr(s,Ce,ne));const xe=ne=>Pe(de[ne],1,1,()=>{de[ne]=null});let _e=s[16]!==void 0&&la(s);return se=new fl({props:{placement:"right",content:`${s[15]?s[14].t("Close"):s[14].t("Open")} ${s[14].t("sidebar")}`,touch:!1,$$slots:{default:[qu]},$$scope:{ctx:s}}}),{c(){rt(e.$$.fragment),l=A(),rt(r.$$.fragment),u=A(),c=f("div"),v=f("div"),_=f("div"),h=f("a"),g=f("div"),m=f("div"),m.innerHTML=w,b=A(),y=f("div"),E=H(I),k=A(),D=f("div"),D.innerHTML=L,T=A(),ae&&ae.c(),V=A(),M=f("div"),ee&&ee.c(),N=A(),R=f("div"),z=f("div"),O=f("div"),O.innerHTML=q,P=A(),C=f("input"),G=A(),fe&&fe.c(),K=A(),x=f("div");for(let ne=0;ne<de.length;ne+=1)de[ne].c();Z=A(),j=f("div"),Y=f("div"),_e&&_e.c(),X=A(),Q=f("div"),rt(se.$$.fragment),this.h()},l(ne){at(e.$$.fragment,ne),l=S(ne),at(r.$$.fragment,ne),u=S(ne),c=d(ne,"DIV",{id:!0,class:!0,"data-state":!0});var oe=p(c);v=d(oe,"DIV",{class:!0});var te=p(v);_=d(te,"DIV",{class:!0});var Le=p(_);h=d(Le,"A",{id:!0,class:!0,href:!0});var ke=p(h);g=d(ke,"DIV",{class:!0});var Ve=p(g);m=d(Ve,"DIV",{class:!0,"data-svelte-h":!0}),Ne(m)!=="svelte-1m2ghgp"&&(m.innerHTML=w),b=S(Ve),y=d(Ve,"DIV",{class:!0});var Me=p(y);E=U(Me,I),Me.forEach(i),Ve.forEach(i),k=S(ke),D=d(ke,"DIV",{class:!0,"data-svelte-h":!0}),Ne(D)!=="svelte-1g1il5l"&&(D.innerHTML=L),ke.forEach(i),Le.forEach(i),T=S(te),ae&&ae.l(te),V=S(te),M=d(te,"DIV",{class:!0});var Ue=p(M);ee&&ee.l(Ue),N=S(Ue),R=d(Ue,"DIV",{class:!0});var we=p(R);z=d(we,"DIV",{class:!0,id:!0});var Ae=p(z);O=d(Ae,"DIV",{class:!0,"data-svelte-h":!0}),Ne(O)!=="svelte-yochje"&&(O.innerHTML=q),P=S(Ae),C=d(Ae,"INPUT",{class:!0,placeholder:!0}),Ae.forEach(i),we.forEach(i),G=S(Ue),fe&&fe.l(Ue),K=S(Ue),x=d(Ue,"DIV",{class:!0});var ge=p(x);for(let be=0;be<de.length;be+=1)de[be].l(ge);ge.forEach(i),Ue.forEach(i),Z=S(te),j=d(te,"DIV",{class:!0});var Te=p(j);Y=d(Te,"DIV",{class:!0});var Ie=p(Y);_e&&_e.l(Ie),Ie.forEach(i),Te.forEach(i),te.forEach(i),X=S(oe),Q=d(oe,"DIV",{id:!0,class:!0});var je=p(Q);at(se.$$.fragment,je),je.forEach(i),oe.forEach(i),this.h()},h(){o(m,"class","self-center mr-1.5"),o(y,"class","self-center font-medium text-sm"),o(g,"class","flex self-center"),o(D,"class","self-center"),o(h,"id","sidebar-new-chat-button"),o(h,"class","flex-grow flex justify-between rounded-xl px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),o(h,"href","/"),o(_,"class","px-2 flex justify-center space-x-2"),o(O,"class","self-center pl-3 py-2 rounded-l-xl bg-white dark:bg-gray-950"),o(C,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm dark:text-gray-300 dark:bg-gray-950 outline-none"),o(C,"placeholder",F=s[14].t("Search")),o(z,"class","flex w-full"),o(z,"id","chat-search"),o(R,"class","px-2 mt-1 mb-2 flex justify-center space-x-2"),o(x,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto scrollbar-none svelte-4kxdzh"),o(M,"class","relative flex flex-col flex-1 overflow-y-auto"),o(Y,"class","flex flex-col"),o(j,"class","px-2.5"),o(v,"class",J="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] "+(s[15]?"":"invisible")),o(Q,"id","sidebar-handle"),o(Q,"class","fixed left-0 top-[50dvh] -translate-y-1/2 transition-transform translate-x-[255px] md:translate-x-[260px] rotate-0"),o(c,"id","sidebar"),o(c,"class",ue="h-screen max-h-[100dvh] min-h-screen "+(s[15]?"lg:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"),o(c,"data-state",s[15])},m(ne,oe){nt(e,ne,oe),B(ne,l,oe),nt(r,ne,oe),B(ne,u,oe),B(ne,c,oe),a(c,v),a(v,_),a(_,h),a(h,g),a(g,m),a(g,b),a(g,y),a(y,E),a(h,k),a(h,D),a(v,T),ae&&ae.m(v,null),a(v,V),a(v,M),ee&&ee.m(M,null),a(M,N),a(M,R),a(R,z),a(z,O),a(z,P),a(z,C),me(C,s[0]),a(M,G),fe&&fe.m(M,null),a(M,K),a(M,x);for(let te=0;te<de.length;te+=1)de[te]&&de[te].m(x,null);a(v,Z),a(v,j),a(j,Y),_e&&_e.m(Y,null),a(c,X),a(c,Q),nt(se,Q,null),s[56](c),ie=!0,pe||(he=[$(h,"click",s[27]),$(C,"input",s[32]),$(C,"focus",s[33])],pe=!0)},p(ne,oe){var Ve;const te={};oe[0]&8&&(te.chatId=ne[3]),!t&&oe[0]&512&&(t=!0,te.show=ne[9],$t(()=>t=!1)),e.$set(te);const Le={};if(!n&&oe[0]&256&&(n=!0,Le.show=ne[8],$t(()=>n=!1)),r.$set(Le),(!ie||oe[0]&16384)&&I!==(I=ne[14].t("New Chat")+"")&&W(E,I),((Ve=ne[16])==null?void 0:Ve.role)==="admin"?ae?ae.p(ne,oe):(ae=Yr(ne),ae.c(),ae.m(v,V)):ae&&(ae.d(1),ae=null),ne[12].saveChatHistory??!0?ee&&(ee.d(1),ee=null):ee?ee.p(ne,oe):(ee=Jr(ne),ee.c(),ee.m(M,N)),(!ie||oe[0]&16384&&F!==(F=ne[14].t("Search")))&&o(C,"placeholder",F),oe[0]&1&&C.value!==ne[0]&&me(C,ne[0]),ne[17].length>0?fe?fe.p(ne,oe):(fe=Xr(ne),fe.c(),fe.m(M,K)):fe&&(fe.d(1),fe=null),oe[0]&11561720){Ce=it(ne[11]);let Me;for(Me=0;Me<Ce.length;Me+=1){const Ue=Fr(ne,Ce,Me);de[Me]?(de[Me].p(Ue,oe),Ee(de[Me],1)):(de[Me]=ta(Ue),de[Me].c(),Ee(de[Me],1),de[Me].m(x,null))}for(zt(),Me=Ce.length;Me<de.length;Me+=1)xe(Me);Zt()}ne[16]!==void 0?_e?(_e.p(ne,oe),oe[0]&65536&&Ee(_e,1)):(_e=la(ne),_e.c(),Ee(_e,1),_e.m(Y,null)):_e&&(zt(),Pe(_e,1,1,()=>{_e=null}),Zt()),(!ie||oe[0]&32768&&J!==(J="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] "+(ne[15]?"":"invisible")))&&o(v,"class",J);const ke={};oe[0]&49152&&(ke.content=`${ne[15]?ne[14].t("Close"):ne[14].t("Open")} ${ne[14].t("sidebar")}`),oe[0]&32768|oe[2]&8&&(ke.$$scope={dirty:oe,ctx:ne}),se.$set(ke),(!ie||oe[0]&32768&&ue!==(ue="h-screen max-h-[100dvh] min-h-screen "+(ne[15]?"lg:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"))&&o(c,"class",ue),(!ie||oe[0]&32768)&&o(c,"data-state",ne[15])},i(ne){if(!ie){Ee(e.$$.fragment,ne),Ee(r.$$.fragment,ne);for(let oe=0;oe<Ce.length;oe+=1)Ee(de[oe]);Ee(_e),Ee(se.$$.fragment,ne),ie=!0}},o(ne){Pe(e.$$.fragment,ne),Pe(r.$$.fragment,ne),de=de.filter(Boolean);for(let oe=0;oe<de.length;oe+=1)Pe(de[oe]);Pe(_e),Pe(se.$$.fragment,ne),ie=!1},d(ne){ne&&(i(l),i(u),i(c)),ot(e,ne),ot(r,ne),ae&&ae.d(),ee&&ee.d(),fe&&fe.d(),Ct(de,ne),_e&&_e.d(),ot(se),s[56](null),pe=!1,ut(he)}}}const aa=1024;function Fu(s,e,t){let l,r,n,u,c,v,_;st(s,xl,te=>t(12,l=te)),st(s,Yl,te=>t(13,r=te)),st(s,Ml,te=>t(15,u=te)),st(s,Qt,te=>t(1,c=te)),st(s,sl,te=>t(16,v=te)),st(s,us,te=>t(17,_=te));const h=jt("i18n");st(s,h,te=>t(14,n=te));let g,m="",w=null,b=null,y=null,I=null,E="",k=!1,D=!1,L=!1,T=[];Ft(async()=>{Ml.set(window.innerWidth>aa),await Qt.set(await ul(localStorage.token));let te,Le;function ke(){const we=window.innerWidth,Ae=Math.abs(Le.screenX-te.screenX);te.clientX<40&&Ae>=we/8&&(Le.screenX<te.screenX&&Ml.set(!1),Le.screenX>te.screenX&&Ml.set(!0))}const Ve=we=>{te=we.changedTouches[0],console.log(te.clientX)},Me=we=>{Le=we.changedTouches[0],ke()},Ue=()=>{u&&window.innerWidth<aa&&Ml.set(!1)};return window.addEventListener("touchstart",Ve),window.addEventListener("touchend",Me),window.addEventListener("resize",Ue),()=>{window.removeEventListener("touchstart",Ve),window.removeEventListener("touchend",Me),window.removeEventListener("resize",Ue)}});const V=async te=>{const Le=await Promise.all(te.map(async ke=>{const Ve=await $a(localStorage.token,ke.id).catch(Me=>null);return Ve&&(ke.chat=Ve.chat),ke}));await Qt.set(Le)},M=async(te,Le)=>{Le===""?Xe.error(n.t("Title cannot be an empty string.")):(await en(localStorage.token,te,{title:Le}),await Qt.set(await ul(localStorage.token)))},N=async te=>{await Ta(localStorage.token,te).catch(ke=>(Xe.error(ke),t(5,y=null),null))&&(r===te&&Al("/"),await Qt.set(await ul(localStorage.token)))},R=async te=>{await xl.set({...l,...te}),localStorage.setItem("settings",JSON.stringify(l)),location.href="/"},z=async te=>{await Da(localStorage.token,te),await Qt.set(await ul(localStorage.token))};function O(te){D=te,t(9,D)}function q(te){k=te,t(8,k)}const P=async()=>{await Qt.set(await ul(localStorage.token))},C=async()=>{t(4,b=null),await Al("/");const te=document.getElementById("new-chat-button");setTimeout(()=>{te==null||te.click()},0)},F=()=>{t(4,b=null),Yl.set("")},G=()=>{t(4,b=null),Yl.set("")},K=()=>{t(4,b=null),Yl.set("")},x=()=>{R({saveChatHistory:!0})};function Z(){m=this.value,t(0,m)}const j=()=>{V(c)},Y=async()=>{await Qt.set(await ul(localStorage.token))},J=async te=>{let Le=await tn(localStorage.token,te.name);Le.length===0&&(await us.set(await Va(localStorage.token)),Le=await ul(localStorage.token)),await Qt.set(Le)};function X(){E=this.value,t(7,E)}const Q=te=>{t(4,b=te.id),window.innerWidth<1024&&Ml.set(!1)},se=te=>{M(te.id,E),t(6,I=null),t(7,E="")},ue=()=>{t(6,I=null),t(7,E="")},ie=te=>{N(te.id)},pe=()=>{t(5,y=null)},he=te=>{t(4,b=te.id)},ce=()=>{t(3,w=b),t(9,D=!0)},re=te=>{t(7,E=te.title),t(6,I=te.id)},le=te=>{t(5,y=te.id)},De=()=>{t(4,b=null)},ae=te=>{z(te.id)},ee=te=>{t(5,y=te.id)},fe=()=>{t(10,L=!L)},Ce=()=>{Al("/admin"),t(10,L=!1)},de=()=>{Al("/playground"),t(10,L=!1)},xe=()=>{t(8,k=!0),t(10,L=!1)},_e=async()=>{await Xl.set(!0),t(10,L=!1)},Je=()=>{localStorage.removeItem("token"),location.href="/authnow",t(10,L=!1)},ne=()=>{Ml.set(!u)};function oe(te){Rt[te?"unshift":"push"](()=>{g=te,t(2,g)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&t(11,T=c.filter(te=>{if(m==="")return!0;{let Le=te.title.toLowerCase();const ke=m.toLowerCase();let Ve=!1;return te.chat&&te.chat.messages&&Array.isArray(te.chat.messages)&&(Ve=te.chat.messages.some(Me=>Me.content&&Me.content.toLowerCase().includes(ke))),Le.includes(ke)||Ve}}))},[m,c,g,w,b,y,I,E,k,D,L,T,l,r,n,u,v,_,h,V,M,N,R,z,O,q,P,C,F,G,K,x,Z,j,Y,J,X,Q,se,ue,ie,pe,he,ce,re,le,De,ae,ee,fe,Ce,de,xe,_e,Je,ne,oe]}class Ku extends St{constructor(e){super(),Lt(this,e,Fu,Gu,At,{},null,[-1,-1,-1])}}function Yu(s){let e,t,l,r=s[1].t("Keyboard shortcuts")+"",n,u,c,v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,h,g,m,w,b,y=s[1].t("Open new chat")+"",I,E,k,D='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">O</div>',L,T,V,M=s[1].t("Focus chat input")+"",N,R,z,O='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Esc</div>',q,P,C,F=s[1].t("Copy last code block")+"",G,K,x,Z='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">;</div>',j,Y,J,X=s[1].t("Copy last response")+"",Q,se,ue,ie='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">C</div>',pe,he,ce,re,le=s[1].t("Toggle settings")+"",De,ae,ee,fe='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">.</div>',Ce,de,xe,_e=s[1].t("Toggle sidebar")+"",Je,ne,oe,te='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">S</div>',Le,ke,Ve,Me=s[1].t("Delete chat")+"",Ue,we,Ae,ge='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300"></div>',Te,Ie,je,be=s[1].t("Show shortcuts")+"",Re,Ge,We,et='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">/</div>',Fe,qe,Ke,Oe=s[1].t("Input commands")+"",ye,tt,Be,ze,ve,Ze,ft,ct=s[1].t("Attach file")+"",xt,Ot,kt,_t='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">#</div>',Bt,wt,vt,Dt=s[1].t("Add custom prompt")+"",Nt,yt,Pt,qt='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">/</div>',Tt,Vt,Ht,pt=s[1].t("Select model")+"",Ut,dt,Mt,mt='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">@</div>',gt,Se;return{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=f("button"),c.innerHTML=v,_=A(),h=f("div"),g=f("div"),m=f("div"),w=f("div"),b=f("div"),I=H(y),E=A(),k=f("div"),k.innerHTML=D,L=A(),T=f("div"),V=f("div"),N=H(M),R=A(),z=f("div"),z.innerHTML=O,q=A(),P=f("div"),C=f("div"),G=H(F),K=A(),x=f("div"),x.innerHTML=Z,j=A(),Y=f("div"),J=f("div"),Q=H(X),se=A(),ue=f("div"),ue.innerHTML=ie,pe=A(),he=f("div"),ce=f("div"),re=f("div"),De=H(le),ae=A(),ee=f("div"),ee.innerHTML=fe,Ce=A(),de=f("div"),xe=f("div"),Je=H(_e),ne=A(),oe=f("div"),oe.innerHTML=te,Le=A(),ke=f("div"),Ve=f("div"),Ue=H(Me),we=A(),Ae=f("div"),Ae.innerHTML=ge,Te=A(),Ie=f("div"),je=f("div"),Re=H(be),Ge=A(),We=f("div"),We.innerHTML=et,Fe=A(),qe=f("div"),Ke=f("div"),ye=H(Oe),tt=A(),Be=f("div"),ze=f("div"),ve=f("div"),Ze=f("div"),ft=f("div"),xt=H(ct),Ot=A(),kt=f("div"),kt.innerHTML=_t,Bt=A(),wt=f("div"),vt=f("div"),Nt=H(Dt),yt=A(),Pt=f("div"),Pt.innerHTML=qt,Tt=A(),Vt=f("div"),Ht=f("div"),Ut=H(pt),dt=A(),Mt=f("div"),Mt.innerHTML=mt,this.h()},l(Ye){e=d(Ye,"DIV",{class:!0});var He=p(e);t=d(He,"DIV",{class:!0});var bt=p(t);l=d(bt,"DIV",{class:!0});var hl=p(l);n=U(hl,r),hl.forEach(i),u=S(bt),c=d(bt,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(c)!=="svelte-745w2y"&&(c.innerHTML=v),bt.forEach(i),_=S(He),h=d(He,"DIV",{class:!0});var Pl=p(h);g=d(Pl,"DIV",{class:!0});var rl=p(g);m=d(rl,"DIV",{class:!0});var Jt=p(m);w=d(Jt,"DIV",{class:!0});var pl=p(w);b=d(pl,"DIV",{class:!0});var Bl=p(b);I=U(Bl,y),Bl.forEach(i),E=S(pl),k=d(pl,"DIV",{class:!0,"data-svelte-h":!0}),Ne(k)!=="svelte-lcmjz9"&&(k.innerHTML=D),pl.forEach(i),L=S(Jt),T=d(Jt,"DIV",{class:!0});var al=p(T);V=d(al,"DIV",{class:!0});var Hl=p(V);N=U(Hl,M),Hl.forEach(i),R=S(al),z=d(al,"DIV",{class:!0,"data-svelte-h":!0}),Ne(z)!=="svelte-1c7wvdz"&&(z.innerHTML=O),al.forEach(i),q=S(Jt),P=d(Jt,"DIV",{class:!0});var _l=p(P);C=d(_l,"DIV",{class:!0});var Ul=p(C);G=U(Ul,F),Ul.forEach(i),K=S(_l),x=d(_l,"DIV",{class:!0,"data-svelte-h":!0}),Ne(x)!=="svelte-1vgtrzt"&&(x.innerHTML=Z),_l.forEach(i),j=S(Jt),Y=d(Jt,"DIV",{class:!0});var nl=p(Y);J=d(nl,"DIV",{class:!0});var jl=p(J);Q=U(jl,X),jl.forEach(i),se=S(nl),ue=d(nl,"DIV",{class:!0,"data-svelte-h":!0}),Ne(ue)!=="svelte-m149u9"&&(ue.innerHTML=ie),nl.forEach(i),Jt.forEach(i),pe=S(rl),he=d(rl,"DIV",{class:!0});var Xt=p(he);ce=d(Xt,"DIV",{class:!0});var ml=p(ce);re=d(ml,"DIV",{class:!0});var gl=p(re);De=U(gl,le),gl.forEach(i),ae=S(ml),ee=d(ml,"DIV",{class:!0,"data-svelte-h":!0}),Ne(ee)!=="svelte-1lfzi34"&&(ee.innerHTML=fe),ml.forEach(i),Ce=S(Xt),de=d(Xt,"DIV",{class:!0});var bl=p(de);xe=d(bl,"DIV",{class:!0});var Rl=p(xe);Je=U(Rl,_e),Rl.forEach(i),ne=S(bl),oe=d(bl,"DIV",{class:!0,"data-svelte-h":!0}),Ne(oe)!=="svelte-1egz3pd"&&(oe.innerHTML=te),bl.forEach(i),Le=S(Xt),ke=d(Xt,"DIV",{class:!0});var wl=p(ke);Ve=d(wl,"DIV",{class:!0});var kl=p(Ve);Ue=U(kl,Me),kl.forEach(i),we=S(wl),Ae=d(wl,"DIV",{class:!0,"data-svelte-h":!0}),Ne(Ae)!=="svelte-1b065vn"&&(Ae.innerHTML=ge),wl.forEach(i),Te=S(Xt),Ie=d(Xt,"DIV",{class:!0});var yl=p(Ie);je=d(yl,"DIV",{class:!0});var zl=p(je);Re=U(zl,be),zl.forEach(i),Ge=S(yl),We=d(yl,"DIV",{class:!0,"data-svelte-h":!0}),Ne(We)!=="svelte-714lzr"&&(We.innerHTML=et),yl.forEach(i),Xt.forEach(i),rl.forEach(i),Pl.forEach(i),Fe=S(He),qe=d(He,"DIV",{class:!0});var ol=p(qe);Ke=d(ol,"DIV",{class:!0});var Zl=p(Ke);ye=U(Zl,Oe),Zl.forEach(i),ol.forEach(i),tt=S(He),Be=d(He,"DIV",{class:!0});var El=p(Be);ze=d(El,"DIV",{class:!0});var Il=p(ze);ve=d(Il,"DIV",{class:!0});var tl=p(ve);Ze=d(tl,"DIV",{class:!0});var Dl=p(Ze);ft=d(Dl,"DIV",{class:!0});var Tl=p(ft);xt=U(Tl,ct),Tl.forEach(i),Ot=S(Dl),kt=d(Dl,"DIV",{class:!0,"data-svelte-h":!0}),Ne(kt)!=="svelte-11t0lmd"&&(kt.innerHTML=_t),Dl.forEach(i),Bt=S(tl),wt=d(tl,"DIV",{class:!0});var vl=p(wt);vt=d(vl,"DIV",{class:!0});var Wl=p(vt);Nt=U(Wl,Dt),Wl.forEach(i),yt=S(vl),Pt=d(vl,"DIV",{class:!0,"data-svelte-h":!0}),Ne(Pt)!=="svelte-1s9pky1"&&(Pt.innerHTML=qt),vl.forEach(i),Tt=S(tl),Vt=d(tl,"DIV",{class:!0});var il=p(Vt);Ht=d(il,"DIV",{class:!0});var ql=p(Ht);Ut=U(ql,pt),ql.forEach(i),dt=S(il),Mt=d(il,"DIV",{class:!0,"data-svelte-h":!0}),Ne(Mt)!=="svelte-oivy56"&&(Mt.innerHTML=mt),il.forEach(i),tl.forEach(i),Il.forEach(i),El.forEach(i),He.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),o(b,"class","text-sm"),o(k,"class","flex space-x-1 text-xs"),o(w,"class","w-full flex justify-between items-center"),o(V,"class","text-sm"),o(z,"class","flex space-x-1 text-xs"),o(T,"class","w-full flex justify-between items-center"),o(C,"class","text-sm"),o(x,"class","flex space-x-1 text-xs"),o(P,"class","w-full flex justify-between items-center"),o(J,"class","text-sm"),o(ue,"class","flex space-x-1 text-xs"),o(Y,"class","w-full flex justify-between items-center"),o(m,"class","flex flex-col space-y-3 w-full self-start"),o(re,"class","text-sm"),o(ee,"class","flex space-x-1 text-xs"),o(ce,"class","w-full flex justify-between items-center"),o(xe,"class","text-sm"),o(oe,"class","flex space-x-1 text-xs"),o(de,"class","w-full flex justify-between items-center"),o(Ve,"class","text-sm"),o(Ae,"class","flex space-x-1 text-xs"),o(ke,"class","w-full flex justify-between items-center"),o(je,"class","text-sm"),o(We,"class","flex space-x-1 text-xs"),o(Ie,"class","w-full flex justify-between items-center"),o(he,"class","flex flex-col space-y-3 w-full self-start"),o(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(h,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200"),o(Ke,"class","text-lg font-medium self-center"),o(qe,"class","flex justify-between dark:text-gray-300 px-5"),o(ft,"class","text-sm"),o(kt,"class","flex space-x-1 text-xs"),o(Ze,"class","w-full flex justify-between items-center"),o(vt,"class","text-sm"),o(Pt,"class","flex space-x-1 text-xs"),o(wt,"class","w-full flex justify-between items-center"),o(Ht,"class","text-sm"),o(Mt,"class","flex space-x-1 text-xs"),o(Vt,"class","w-full flex justify-between items-center"),o(ve,"class","flex flex-col space-y-3 w-full self-start"),o(ze,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(Be,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200"),o(e,"class","text-gray-700 dark:text-gray-100")},m(Ye,He){B(Ye,e,He),a(e,t),a(t,l),a(l,n),a(t,u),a(t,c),a(e,_),a(e,h),a(h,g),a(g,m),a(m,w),a(w,b),a(b,I),a(w,E),a(w,k),a(m,L),a(m,T),a(T,V),a(V,N),a(T,R),a(T,z),a(m,q),a(m,P),a(P,C),a(C,G),a(P,K),a(P,x),a(m,j),a(m,Y),a(Y,J),a(J,Q),a(Y,se),a(Y,ue),a(g,pe),a(g,he),a(he,ce),a(ce,re),a(re,De),a(ce,ae),a(ce,ee),a(he,Ce),a(he,de),a(de,xe),a(xe,Je),a(de,ne),a(de,oe),a(he,Le),a(he,ke),a(ke,Ve),a(Ve,Ue),a(ke,we),a(ke,Ae),a(he,Te),a(he,Ie),a(Ie,je),a(je,Re),a(Ie,Ge),a(Ie,We),a(e,Fe),a(e,qe),a(qe,Ke),a(Ke,ye),a(e,tt),a(e,Be),a(Be,ze),a(ze,ve),a(ve,Ze),a(Ze,ft),a(ft,xt),a(Ze,Ot),a(Ze,kt),a(ve,Bt),a(ve,wt),a(wt,vt),a(vt,Nt),a(wt,yt),a(wt,Pt),a(ve,Tt),a(ve,Vt),a(Vt,Ht),a(Ht,Ut),a(Vt,dt),a(Vt,Mt),gt||(Se=$(c,"click",s[3]),gt=!0)},p(Ye,He){He&2&&r!==(r=Ye[1].t("Keyboard shortcuts")+"")&&W(n,r),He&2&&y!==(y=Ye[1].t("Open new chat")+"")&&W(I,y),He&2&&M!==(M=Ye[1].t("Focus chat input")+"")&&W(N,M),He&2&&F!==(F=Ye[1].t("Copy last code block")+"")&&W(G,F),He&2&&X!==(X=Ye[1].t("Copy last response")+"")&&W(Q,X),He&2&&le!==(le=Ye[1].t("Toggle settings")+"")&&W(De,le),He&2&&_e!==(_e=Ye[1].t("Toggle sidebar")+"")&&W(Je,_e),He&2&&Me!==(Me=Ye[1].t("Delete chat")+"")&&W(Ue,Me),He&2&&be!==(be=Ye[1].t("Show shortcuts")+"")&&W(Re,be),He&2&&Oe!==(Oe=Ye[1].t("Input commands")+"")&&W(ye,Oe),He&2&&ct!==(ct=Ye[1].t("Attach file")+"")&&W(xt,ct),He&2&&Dt!==(Dt=Ye[1].t("Add custom prompt")+"")&&W(Nt,Dt),He&2&&pt!==(pt=Ye[1].t("Select model")+"")&&W(Ut,pt)},d(Ye){Ye&&i(e),gt=!1,Se()}}}function Ju(s){let e,t,l;function r(u){s[4](u)}let n={$$slots:{default:[Yu]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new es({props:n}),Rt.push(()=>el(e,"show",r)),{c(){rt(e.$$.fragment)},l(u){at(e.$$.fragment,u)},m(u,c){nt(e,u,c),l=!0},p(u,[c]){const v={};c&35&&(v.$$scope={dirty:c,ctx:u}),!t&&c&1&&(t=!0,v.show=u[0],$t(()=>t=!1)),e.$set(v)},i(u){l||(Ee(e.$$.fragment,u),l=!0)},o(u){Pe(e.$$.fragment,u),l=!1},d(u){ot(e,u)}}}function Xu(s,e,t){let l;const r=jt("i18n");st(s,r,v=>t(1,l=v));let{show:n=!1}=e;const u=()=>{t(0,n=!1)};function c(v){n=v,t(0,n)}return s.$$set=v=>{"show"in v&&t(0,n=v.show)},[n,l,r,u,c]}class Qu extends St{constructor(e){super(),Lt(this,e,Xu,Ju,At,{show:0})}}function na(s,e,t){const l=s.slice();return l[18]=e[t],l}function oa(s){let e,t=it({length:s[6]}),l=[];for(let r=0;r<t.length;r+=1)l[r]=ia(na(s,t,r));return{c(){e=f("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var n=p(e);for(let u=0;u<l.length;u+=1)l[u].l(n);n.forEach(i),this.h()},h(){o(e,"class","confetti-holder svelte-io58ff"),Sl(e,"rounded",s[9]),Sl(e,"cone",s[10]),Sl(e,"no-gravity",s[11])},m(r,n){B(r,e,n);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null)},p(r,n){if(n&20991){t=it({length:r[6]});let u;for(u=0;u<t.length;u+=1){const c=na(r,t,u);l[u]?l[u].p(c,n):(l[u]=ia(c),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=t.length}n&512&&Sl(e,"rounded",r[9]),n&1024&&Sl(e,"cone",r[10]),n&2048&&Sl(e,"no-gravity",r[11])},d(r){r&&i(e),Ct(l,r)}}}function ia(s){let e;return{c(){e=f("div"),this.h()},l(t){e=d(t,"DIV",{class:!0,style:!0}),p(e).forEach(i),this.h()},h(){o(e,"class","confetti svelte-io58ff"),ht(e,"--fall-distance",s[8]),ht(e,"--size",s[0]+"px"),ht(e,"--color",s[14]()),ht(e,"--skew",Wt(-45,45)+"deg,"+Wt(-45,45)+"deg"),ht(e,"--rotation-xyz",Wt(-10,10)+", "+Wt(-10,10)+", "+Wt(-10,10)),ht(e,"--rotation-deg",Wt(0,360)+"deg"),ht(e,"--translate-y-multiplier",Wt(s[2][0],s[2][1])),ht(e,"--translate-x-multiplier",Wt(s[1][0],s[1][1])),ht(e,"--scale",.1*Wt(2,10)),ht(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),ht(e,"--transition-delay",Wt(s[5][0],s[5][1])+"ms"),ht(e,"--transition-iteration-count",s[4]?"infinite":s[7]),ht(e,"--x-spread",1-s[12])},m(t,l){B(t,e,l)},p(t,l){l&256&&ht(e,"--fall-distance",t[8]),l&1&&ht(e,"--size",t[0]+"px"),l&4&&ht(e,"--translate-y-multiplier",Wt(t[2][0],t[2][1])),l&2&&ht(e,"--translate-x-multiplier",Wt(t[1][0],t[1][1])),l&24&&ht(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&ht(e,"--transition-delay",Wt(t[5][0],t[5][1])+"ms"),l&144&&ht(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&ht(e,"--x-spread",1-t[12])},d(t){t&&i(e)}}}function $u(s){let e,t=!s[13]&&oa(s);return{c(){t&&t.c(),e=It()},l(l){t&&t.l(l),e=It()},m(l,r){t&&t.m(l,r),B(l,e,r)},p(l,[r]){l[13]?t&&(t.d(1),t=null):t?t.p(l,r):(t=oa(l),t.c(),t.m(e.parentNode,e))},i:lt,o:lt,d(l){l&&i(e),t&&t.d(l)}}}function Wt(s,e){return Math.random()*(e-s)+s}function ec(s,e,t){let{size:l=10}=e,{x:r=[-.5,.5]}=e,{y:n=[.25,1]}=e,{duration:u=2e3}=e,{infinite:c=!1}=e,{delay:v=[0,50]}=e,{colorRange:_=[0,360]}=e,{colorArray:h=[]}=e,{amount:g=50}=e,{iterationCount:m=1}=e,{fallDistance:w="100px"}=e,{rounded:b=!1}=e,{cone:y=!1}=e,{noGravity:I=!1}=e,{xSpread:E=.15}=e,{destroyOnComplete:k=!0}=e,D=!1;Ft(()=>{!k||c||m=="infinite"||setTimeout(()=>t(13,D=!0),(u+v[1])*m)});function L(){return h.length?h[Math.round(Math.random()*(h.length-1))]:`hsl(${Math.round(Wt(_[0],_[1]))}, 75%, 50%)`}return s.$$set=T=>{"size"in T&&t(0,l=T.size),"x"in T&&t(1,r=T.x),"y"in T&&t(2,n=T.y),"duration"in T&&t(3,u=T.duration),"infinite"in T&&t(4,c=T.infinite),"delay"in T&&t(5,v=T.delay),"colorRange"in T&&t(15,_=T.colorRange),"colorArray"in T&&t(16,h=T.colorArray),"amount"in T&&t(6,g=T.amount),"iterationCount"in T&&t(7,m=T.iterationCount),"fallDistance"in T&&t(8,w=T.fallDistance),"rounded"in T&&t(9,b=T.rounded),"cone"in T&&t(10,y=T.cone),"noGravity"in T&&t(11,I=T.noGravity),"xSpread"in T&&t(12,E=T.xSpread),"destroyOnComplete"in T&&t(17,k=T.destroyOnComplete)},[l,r,n,u,c,v,g,m,w,b,y,I,E,D,L,_,h,k]}class tc extends St{constructor(e){super(),Lt(this,e,ec,$u,At,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function ua(s,e,t){const l=s.slice();return l[9]=e[t],l}function ca(s,e,t){const l=s.slice();return l[12]=e[t],l}function fa(s,e,t){const l=s.slice();return l[15]=e[t],l}function da(s){let e,t=it(Object.keys(s[1])),l=[];for(let r=0;r<t.length;r+=1)l[r]=pa(ua(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=It()},l(r){for(let n=0;n<l.length;n+=1)l[n].l(r);e=It()},m(r,n){for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(r,n);B(r,e,n)},p(r,n){if(n&2){t=it(Object.keys(r[1]));let u;for(u=0;u<t.length;u+=1){const c=ua(r,t,u);l[u]?l[u].p(c,n):(l[u]=pa(c),l[u].c(),l[u].m(e.parentNode,e))}for(;u<l.length;u+=1)l[u].d(1);l.length=t.length}},d(r){r&&i(e),Ct(l,r)}}}function ha(s){let e,t,l=s[1][s[9]][s[12]][s[15]].title+"",r,n,u,c=s[1][s[9]][s[12]][s[15]].content+"",v;return{c(){e=f("div"),t=f("div"),r=H(l),n=A(),u=f("div"),v=H(c),this.h()},l(_){e=d(_,"DIV",{class:!0});var h=p(e);t=d(h,"DIV",{class:!0});var g=p(t);r=U(g,l),g.forEach(i),n=S(h),u=d(h,"DIV",{class:!0});var m=p(u);v=U(m,c),m.forEach(i),h.forEach(i),this.h()},h(){o(t,"class","font-semibold uppercase"),o(u,"class","mb-2 mt-1"),o(e,"class","text-sm mb-2")},m(_,h){B(_,e,h),a(e,t),a(t,r),a(e,n),a(e,u),a(u,v)},p(_,h){h&2&&l!==(l=_[1][_[9]][_[12]][_[15]].title+"")&&W(r,l),h&2&&c!==(c=_[1][_[9]][_[12]][_[15]].content+"")&&W(v,c)},d(_){_&&i(e)}}}function va(s){let e,t,l=s[12]+"",r,n,u,c,v=it(Object.keys(s[1][s[9]][s[12]])),_=[];for(let h=0;h<v.length;h+=1)_[h]=ha(fa(s,v,h));return{c(){e=f("div"),t=f("div"),r=H(l),u=A(),c=f("div");for(let h=0;h<_.length;h+=1)_[h].c();this.h()},l(h){e=d(h,"DIV",{class:!0});var g=p(e);t=d(g,"DIV",{class:!0});var m=p(t);r=U(m,l),m.forEach(i),u=S(g),c=d(g,"DIV",{class:!0});var w=p(c);for(let b=0;b<_.length;b+=1)_[b].l(w);w.forEach(i),g.forEach(i),this.h()},h(){o(t,"class",n="font-bold uppercase text-xs "+(s[12]==="added"?"text-white bg-blue-600":s[12]==="fixed"?"text-white bg-green-600":s[12]==="changed"?"text-white bg-yellow-600":s[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),o(c,"class","my-2.5 px-1.5"),o(e,"class","")},m(h,g){B(h,e,g),a(e,t),a(t,r),a(e,u),a(e,c);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(c,null)},p(h,g){if(g&2&&l!==(l=h[12]+"")&&W(r,l),g&2&&n!==(n="font-bold uppercase text-xs "+(h[12]==="added"?"text-white bg-blue-600":h[12]==="fixed"?"text-white bg-green-600":h[12]==="changed"?"text-white bg-yellow-600":h[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&o(t,"class",n),g&2){v=it(Object.keys(h[1][h[9]][h[12]]));let m;for(m=0;m<v.length;m+=1){const w=fa(h,v,m);_[m]?_[m].p(w,g):(_[m]=ha(w),_[m].c(),_[m].m(c,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=v.length}},d(h){h&&i(e),Ct(_,h)}}}function pa(s){let e,t,l,r=s[9]+"",n,u,c=s[1][s[9]].date+"",v,_,h,g,m,w=it(Object.keys(s[1][s[9]]).filter(_a)),b=[];for(let y=0;y<w.length;y+=1)b[y]=va(ca(s,w,y));return{c(){e=f("div"),t=f("div"),l=H("v"),n=H(r),u=H(" - "),v=H(c),_=A(),h=f("hr"),g=A();for(let y=0;y<b.length;y+=1)b[y].c();m=A(),this.h()},l(y){e=d(y,"DIV",{class:!0});var I=p(e);t=d(I,"DIV",{class:!0});var E=p(t);l=U(E,"v"),n=U(E,r),u=U(E," - "),v=U(E,c),E.forEach(i),_=S(I),h=d(I,"HR",{class:!0}),g=S(I);for(let k=0;k<b.length;k+=1)b[k].l(I);m=S(I),I.forEach(i),this.h()},h(){o(t,"class","font-bold text-xl mb-1 dark:text-white"),o(h,"class","dark:border-gray-800 my-2"),o(e,"class","mb-3 pr-2")},m(y,I){B(y,e,I),a(e,t),a(t,l),a(t,n),a(t,u),a(t,v),a(e,_),a(e,h),a(e,g);for(let E=0;E<b.length;E+=1)b[E]&&b[E].m(e,null);a(e,m)},p(y,I){if(I&2&&r!==(r=y[9]+"")&&W(n,r),I&2&&c!==(c=y[1][y[9]].date+"")&&W(v,c),I&2){w=it(Object.keys(y[1][y[9]]).filter(_a));let E;for(E=0;E<w.length;E+=1){const k=ca(y,w,E);b[E]?b[E].p(k,I):(b[E]=va(k),b[E].c(),b[E].m(e,m))}for(;E<b.length;E+=1)b[E].d(1);b.length=w.length}},d(y){y&&i(e),Ct(b,y)}}}function lc(s){let e,t,l,r=s[2].t("Whats New in")+"",n,u,c,v,_,h,g,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',w,b,y,I=s[2].t("Release Notes")+"",E,k,D,L,T,V,M,N,R,z,O,q,P,C,F,G=s[2].t("Okay, Let's Go!")+"",K,x,Z,j;_=new tc({props:{x:[-1,-.25],y:[0,.5]}});let Y=s[1]&&da(s);return{c(){e=f("div"),t=f("div"),l=f("div"),n=H(r),u=A(),c=H(s[3]),v=A(),rt(_.$$.fragment),h=A(),g=f("button"),g.innerHTML=m,w=A(),b=f("div"),y=f("div"),E=H(I),k=A(),D=f("div"),L=A(),T=f("div"),V=H("v"),M=H($l),N=A(),R=f("div"),z=f("div"),O=f("div"),Y&&Y.c(),q=A(),P=f("div"),C=f("button"),F=f("span"),K=H(G),this.h()},l(J){e=d(J,"DIV",{class:!0});var X=p(e);t=d(X,"DIV",{class:!0});var Q=p(t);l=d(Q,"DIV",{class:!0});var se=p(l);n=U(se,r),u=S(se),c=U(se,s[3]),v=S(se),at(_.$$.fragment,se),se.forEach(i),h=S(Q),g=d(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(g)!=="svelte-14wj4tl"&&(g.innerHTML=m),Q.forEach(i),w=S(X),b=d(X,"DIV",{class:!0});var ue=p(b);y=d(ue,"DIV",{class:!0});var ie=p(y);E=U(ie,I),ie.forEach(i),k=S(ue),D=d(ue,"DIV",{class:!0}),p(D).forEach(i),L=S(ue),T=d(ue,"DIV",{class:!0});var pe=p(T);V=U(pe,"v"),M=U(pe,$l),pe.forEach(i),ue.forEach(i),X.forEach(i),N=S(J),R=d(J,"DIV",{class:!0});var he=p(R);z=d(he,"DIV",{class:!0});var ce=p(z);O=d(ce,"DIV",{class:!0});var re=p(O);Y&&Y.l(re),re.forEach(i),ce.forEach(i),q=S(he),P=d(he,"DIV",{class:!0});var le=p(P);C=d(le,"BUTTON",{class:!0});var De=p(C);F=d(De,"SPAN",{class:!0});var ae=p(F);K=U(ae,G),ae.forEach(i),De.forEach(i),le.forEach(i),he.forEach(i),this.h()},h(){o(l,"class","text-xl font-bold"),o(g,"class","self-center"),o(t,"class","flex justify-between items-start"),o(y,"class","text-sm dark:text-gray-200"),o(D,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),o(T,"class","text-sm dark:text-gray-200"),o(b,"class","flex items-center mt-1"),o(e,"class","px-5 pt-4 dark:text-gray-300 text-gray-700"),o(O,"class","mb-3"),o(z,"class","overflow-y-scroll max-h-80 scrollbar-none"),o(F,"class","relative"),o(C,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(P,"class","flex justify-end pt-3 text-sm font-medium"),o(R,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(J,X){B(J,e,X),a(e,t),a(t,l),a(l,n),a(l,u),a(l,c),a(l,v),nt(_,l,null),a(t,h),a(t,g),a(e,w),a(e,b),a(b,y),a(y,E),a(b,k),a(b,D),a(b,L),a(b,T),a(T,V),a(T,M),B(J,N,X),B(J,R,X),a(R,z),a(z,O),Y&&Y.m(O,null),a(R,q),a(R,P),a(P,C),a(C,F),a(F,K),x=!0,Z||(j=[$(g,"click",s[6]),$(C,"click",s[7])],Z=!0)},p(J,X){(!x||X&4)&&r!==(r=J[2].t("Whats New in")+"")&&W(n,r),(!x||X&8)&&W(c,J[3]),(!x||X&4)&&I!==(I=J[2].t("Release Notes")+"")&&W(E,I),J[1]?Y?Y.p(J,X):(Y=da(J),Y.c(),Y.m(O,null)):Y&&(Y.d(1),Y=null),(!x||X&4)&&G!==(G=J[2].t("Okay, Let's Go!")+"")&&W(K,G)},i(J){x||(Ee(_.$$.fragment,J),x=!0)},o(J){Pe(_.$$.fragment,J),x=!1},d(J){J&&(i(e),i(N),i(R)),ot(_),Y&&Y.d(),Z=!1,ut(j)}}}function sc(s){let e,t,l;function r(u){s[8](u)}let n={$$slots:{default:[lc]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new es({props:n}),Rt.push(()=>el(e,"show",r)),{c(){rt(e.$$.fragment)},l(u){at(e.$$.fragment,u)},m(u,c){nt(e,u,c),l=!0},p(u,[c]){const v={};c&262175&&(v.$$scope={dirty:c,ctx:u}),!t&&c&1&&(t=!0,v.show=u[0],$t(()=>t=!1)),e.$set(v)},i(u){l||(Ee(e.$$.fragment,u),l=!0)},o(u){Pe(e.$$.fragment,u),l=!1},d(u){ot(e,u)}}}const _a=s=>s!=="date";function rc(s,e,t){let l,r,n;st(s,Ma,m=>t(3,r=m)),st(s,Cl,m=>t(4,n=m));const u=jt("i18n");st(s,u,m=>t(2,l=m));let{show:c=!1}=e,v=null;Ft(async()=>{const m=await wn();t(1,v=m)});const _=()=>{localStorage.version=n.version,t(0,c=!1)},h=()=>{localStorage.version=n.version,t(0,c=!1)};function g(m){c=m,t(0,c)}return s.$$set=m=>{"show"in m&&t(0,c=m.show)},[c,v,l,r,n,u,_,h,g]}class ac extends St{constructor(e){super(),Lt(this,e,rc,sc,At,{show:0})}}function nc(s){let e,t="?",l,r;return{c(){e=f("button"),e.textContent=t,this.h()},l(n){e=d(n,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1rkvnfo"&&(e.textContent=t),this.h()},h(){o(e,"id","show-shortcuts-button"),o(e,"class","text-gray-600 dark:text-gray-300 bg-gray-300/20 w-6 h-6 flex items-center justify-center text-xs rounded-full")},m(n,u){B(n,e,u),s[12](e),l||(r=$(e,"click",s[13]),l=!0)},p:lt,d(n){n&&i(e),s[12](null),l=!1,r()}}}function ma(s){let e,t,l,r,n;function u(g,m){if(m&32&&(e=null),e==null&&(e=!["user","admin"].includes(g[5].role)),e)return ic;if(g[3].length>0)return oc}let c=u(s,-1),v=c&&c(s);l=new Ku({});const _=s[11].default,h=ba(_,s,s[21],null);return{c(){v&&v.c(),t=A(),rt(l.$$.fragment),r=A(),h&&h.c()},l(g){v&&v.l(g),t=S(g),at(l.$$.fragment,g),r=S(g),h&&h.l(g)},m(g,m){v&&v.m(g,m),B(g,t,m),nt(l,g,m),B(g,r,m),h&&h.m(g,m),n=!0},p(g,m){c===(c=u(g,m))&&v?v.p(g,m):(v&&v.d(1),v=c&&c(g),v&&(v.c(),v.m(t.parentNode,t))),h&&h.p&&(!n||m&2097152)&&wa(h,_,g,g[21],n?ya(_,g[21],m,null):ka(g[21]),null)},i(g){n||(Ee(l.$$.fragment,g),Ee(h,g),n=!0)},o(g){Pe(l.$$.fragment,g),Pe(h,g),n=!1},d(g){g&&(i(t),i(r)),v&&v.d(g),ot(l,g),h&&h.d(g)}}}function oc(s){let e,t,l,r,n,u="Important Update<br/> Action Required for Chat Log Storage",c,v,_=s[7].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",h,g,m,w=s[7].t("Settings")+"",b,y,I=s[7].t("Chats")+"",E,k,D=s[7].t("Import Chats")+"",L,T,V=s[7].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",M,N,R,z,O="Download & Delete",q,P,C=s[7].t("Close")+"",F,G,K;return{c(){e=f("div"),t=f("div"),l=f("div"),r=f("div"),n=f("div"),n.innerHTML=u,c=A(),v=f("div"),h=H(_),g=A(),m=f("span"),b=H(w),y=H(" > "),E=H(I),k=H(" > "),L=H(D),T=H(". "),M=H(V),N=A(),R=f("div"),z=f("button"),z.textContent=O,q=A(),P=f("button"),F=H(C),this.h()},l(x){e=d(x,"DIV",{class:!0});var Z=p(e);t=d(Z,"DIV",{class:!0});var j=p(t);l=d(j,"DIV",{class:!0});var Y=p(l);r=d(Y,"DIV",{class:!0});var J=p(r);n=d(J,"DIV",{class:!0,"data-svelte-h":!0}),Ne(n)!=="svelte-mnqwc6"&&(n.innerHTML=u),c=S(J),v=d(J,"DIV",{class:!0});var X=p(v);h=U(X,_),g=S(X),m=d(X,"SPAN",{class:!0});var Q=p(m);b=U(Q,w),y=U(Q," > "),E=U(Q,I),k=U(Q," > "),L=U(Q,D),Q.forEach(i),T=U(X,". "),M=U(X,V),X.forEach(i),N=S(J),R=d(J,"DIV",{class:!0});var se=p(R);z=d(se,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(z)!=="svelte-1ia8i9q"&&(z.textContent=O),q=S(se),P=d(se,"BUTTON",{class:!0});var ue=p(P);F=U(ue,C),ue.forEach(i),se.forEach(i),J.forEach(i),Y.forEach(i),j.forEach(i),Z.forEach(i),this.h()},h(){o(n,"class","text-center dark:text-white text-2xl font-medium z-50"),o(m,"class","font-semibold dark:text-white"),o(v,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(z,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),o(P,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(R,"class","mt-6 mx-auto relative group w-fit"),o(r,"class","max-w-md"),o(l,"class","m-auto pb-44 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-50")},m(x,Z){B(x,e,Z),a(e,t),a(t,l),a(l,r),a(r,n),a(r,c),a(r,v),a(v,h),a(v,g),a(v,m),a(m,b),a(m,y),a(m,E),a(m,k),a(m,L),a(v,T),a(v,M),a(r,N),a(r,R),a(R,z),a(R,q),a(R,P),a(P,F),G||(K=[$(z,"click",s[19]),$(P,"click",s[20])],G=!0)},p(x,Z){Z&128&&_!==(_=x[7].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&W(h,_),Z&128&&w!==(w=x[7].t("Settings")+"")&&W(b,w),Z&128&&I!==(I=x[7].t("Chats")+"")&&W(E,I),Z&128&&D!==(D=x[7].t("Import Chats")+"")&&W(L,D),Z&128&&V!==(V=x[7].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&W(M,V),Z&128&&C!==(C=x[7].t("Close")+"")&&W(F,C)},d(x){x&&i(e),G=!1,ut(K)}}}function ic(s){let e,t,l,r,n,u=`
									<br/>
									`,c,v,_="WebUI",h,g,m,w=s[7].t("Check Again")+"",b,y,I,E=s[7].t("Sign Out")+"",k,D,L;return{c(){e=f("div"),t=f("div"),l=f("div"),r=f("div"),n=f("div"),n.innerHTML=u,c=A(),v=f("div"),v.textContent=_,h=A(),g=f("div"),m=f("button"),b=H(w),y=A(),I=f("button"),k=H(E),this.h()},l(T){e=d(T,"DIV",{class:!0});var V=p(e);t=d(V,"DIV",{class:!0});var M=p(t);l=d(M,"DIV",{class:!0});var N=p(l);r=d(N,"DIV",{class:!0});var R=p(r);n=d(R,"DIV",{class:!0,"data-svelte-h":!0}),Ne(n)!=="svelte-11dy8nm"&&(n.innerHTML=u),c=S(R),v=d(R,"DIV",{class:!0,"data-svelte-h":!0}),Ne(v)!=="svelte-o73rgl"&&(v.textContent=_),h=S(R),g=d(R,"DIV",{class:!0});var z=p(g);m=d(z,"BUTTON",{class:!0});var O=p(m);b=U(O,w),O.forEach(i),y=S(z),I=d(z,"BUTTON",{class:!0});var q=p(I);k=U(q,E),q.forEach(i),z.forEach(i),R.forEach(i),N.forEach(i),M.forEach(i),V.forEach(i),this.h()},h(){o(n,"class","text-center dark:text-white text-2xl font-medium z-50"),o(v,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(m,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),o(I,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(g,"class","mt-6 mx-auto relative group w-fit"),o(r,"class","max-w-md"),o(l,"class","m-auto pb-10 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-[999]")},m(T,V){B(T,e,V),a(e,t),a(t,l),a(l,r),a(r,n),a(r,c),a(r,v),a(r,h),a(r,g),a(g,m),a(m,b),a(g,y),a(g,I),a(I,k),D||(L=[$(m,"click",s[17]),$(I,"click",s[18])],D=!0)},p(T,V){V&128&&w!==(w=T[7].t("Check Again")+"")&&W(b,w),V&128&&E!==(E=T[7].t("Sign Out")+"")&&W(k,E)},d(T){T&&i(e),D=!1,ut(L)}}}function uc(s){let e,t,l,r,n,u,c,v,_,h,g,m,w,b,y;t=new fl({props:{content:s[7].t("Help"),placement:"left",$$slots:{default:[nc]},$$scope:{ctx:s}}});function I(M){s[14](M)}let E={};s[4]!==void 0&&(E.show=s[4]),r=new Qu({props:E}),Rt.push(()=>el(r,"show",I));function k(M){s[15](M)}let D={};s[6]!==void 0&&(D.show=s[6]),c=new iu({props:D}),Rt.push(()=>el(c,"show",k));function L(M){s[16](M)}let T={};s[8]!==void 0&&(T.show=s[8]),h=new ac({props:T}),Rt.push(()=>el(h,"show",L));let V=s[0]&&ma(s);return{c(){e=f("div"),rt(t.$$.fragment),l=A(),rt(r.$$.fragment),u=A(),rt(c.$$.fragment),_=A(),rt(h.$$.fragment),m=A(),w=f("div"),b=f("div"),V&&V.c(),this.h()},l(M){e=d(M,"DIV",{class:!0});var N=p(e);at(t.$$.fragment,N),N.forEach(i),l=S(M),at(r.$$.fragment,M),u=S(M),at(c.$$.fragment,M),_=S(M),at(h.$$.fragment,M),m=S(M),w=d(M,"DIV",{class:!0});var R=p(w);b=d(R,"DIV",{class:!0});var z=p(b);V&&V.l(z),z.forEach(i),R.forEach(i),this.h()},h(){o(e,"class","hidden lg:flex fixed bottom-0 right-0 px-3 py-3 z-10"),o(b,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 min-h-screen overflow-auto flex flex-row"),o(w,"class","app relative")},m(M,N){B(M,e,N),nt(t,e,null),B(M,l,N),nt(r,M,N),B(M,u,N),nt(c,M,N),B(M,_,N),nt(h,M,N),B(M,m,N),B(M,w,N),a(w,b),V&&V.m(b,null),y=!0},p(M,[N]){const R={};N&128&&(R.content=M[7].t("Help")),N&2097170&&(R.$$scope={dirty:N,ctx:M}),t.$set(R);const z={};!n&&N&16&&(n=!0,z.show=M[4],$t(()=>n=!1)),r.$set(z);const O={};!v&&N&64&&(v=!0,O.show=M[6],$t(()=>v=!1)),c.$set(O);const q={};!g&&N&256&&(g=!0,q.show=M[8],$t(()=>g=!1)),h.$set(q),M[0]?V?(V.p(M,N),N&1&&Ee(V,1)):(V=ma(M),V.c(),Ee(V,1),V.m(b,null)):V&&(zt(),Pe(V,1,1,()=>{V=null}),Zt())},i(M){y||(Ee(t.$$.fragment,M),Ee(r.$$.fragment,M),Ee(c.$$.fragment,M),Ee(h.$$.fragment,M),Ee(V),y=!0)},o(M){Pe(t.$$.fragment,M),Pe(r.$$.fragment,M),Pe(c.$$.fragment,M),Pe(h.$$.fragment,M),Pe(V),y=!1},d(M){M&&(i(e),i(l),i(u),i(_),i(m),i(w)),ot(t),ot(r,M),ot(c,M),ot(h,M),V&&V.d()}}}function cc(s,e,t){let l,r,n,u,c;st(s,Cl,O=>t(23,l=O)),st(s,sl,O=>t(5,r=O)),st(s,Xl,O=>t(6,n=O)),st(s,ss,O=>t(8,c=O));let{$$slots:v={},$$scope:_}=e;const{saveAs:h}=Ea,g=jt("i18n");st(s,g,O=>t(7,u=O));let m=!1,w,b=null,y=[],I=!1;const E=async()=>Ia(localStorage.token);Ft(async()=>{if(r===void 0)await Al("/authnow");else if(["user","admin"].includes(r.role)){try{if(t(2,b=await Kn("Chats",1)),b){const O=await b.getAllFromIndex("chats","timestamp");t(3,y=O.map((q,P)=>O[O.length-1-P])),y.length===0&&await Cs("Chats")}console.log(b)}catch{}await Kt.set(await E()),await xl.set(JSON.parse(localStorage.getItem("settings")??"{}")),await Is.set(await Fa(localStorage.token)),await rn.set(await Ka(localStorage.token)),await an.set(await Ya(localStorage.token)),await us.set(await Va(localStorage.token)),Is.subscribe(async()=>{await Kt.set(await E())}),document.addEventListener("keydown",function(O){var C,F,G,K;const q=O.ctrlKey||O.metaKey,P=O.shiftKey;if(q&&P&&O.key.toLowerCase()==="o"&&(O.preventDefault(),console.log("newChat"),(C=document.getElementById("sidebar-new-chat-button"))==null||C.click()),P&&O.key==="Escape"&&(O.preventDefault(),console.log("focusInput"),(F=document.getElementById("chat-textarea"))==null||F.focus()),q&&P&&O.key===";"){O.preventDefault(),console.log("copyLastCodeBlock");const x=[...document.getElementsByClassName("copy-code-button")].at(-1);x==null||x.click()}if(q&&P&&O.key.toLowerCase()==="c"){O.preventDefault(),console.log("copyLastResponse");const x=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(x),x==null||x.click()}q&&P&&O.key.toLowerCase()==="s"&&(O.preventDefault(),console.log("toggleSidebar"),(G=document.getElementById("sidebar-toggle-button"))==null||G.click()),q&&P&&O.key==="Backspace"&&(O.preventDefault(),console.log("deleteChat"),(K=document.getElementById("delete-chat-button"))==null||K.click()),q&&O.key==="."&&(O.preventDefault(),console.log("openSettings"),Xl.set(!n)),q&&O.key==="/"&&(O.preventDefault(),console.log("showShortcuts"),w.click())}),r.role==="admin"&&ss.set(localStorage.version!==l.version),await Pa()}t(0,m=!0)});function k(O){Rt[O?"unshift":"push"](()=>{w=O,t(1,w)})}const D=()=>{t(4,I=!I)};function L(O){I=O,t(4,I)}function T(O){n=O,Xl.set(n)}function V(O){c=O,ss.set(c)}const M=async()=>{location.href="/"},N=async()=>{localStorage.removeItem("token"),location.href="/authnow"},R=async()=>{let O=new Blob([JSON.stringify(y)],{type:"application/json"});h(O,`chat-export-${Date.now()}.json`);const q=b.transaction("chats","readwrite");await Promise.all([q.store.clear(),q.done]),await Cs("Chats"),t(3,y=[])},z=async()=>{t(3,y=[])};return s.$$set=O=>{"$$scope"in O&&t(21,_=O.$$scope)},[m,w,b,y,I,r,n,u,c,h,g,v,k,D,L,T,V,M,N,R,z,_]}class Nc extends St{constructor(e){super(),Lt(this,e,cc,uc,At,{})}}export{Nc as component};
