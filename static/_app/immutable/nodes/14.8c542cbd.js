import{s as Be,a as S,e as Ve,M as Ce,d as _,c as V,i as B,w as pe,P as He,o as qe,f as g,g as b,R as Oe,h as k,j as f,r as a,l as P,m as T,Q as J,u as te,O as Re,n as M,C as Ne,v as We}from"../chunks/scheduler.7238b518.js";import{S as Fe,i as Le,a as K,t as le,c as Ye,g as je,b as ze,d as Qe,m as Ge,e as Je}from"../chunks/index.5768aeba.js";import{g as Ue}from"../chunks/navigation.a554c91f.js";import{j as Ke,k as Xe}from"../chunks/index.a6e13f43.js";import{S as Ze}from"../chunks/Spinner.39d69570.js";import{c as $e,u as Pe,W as xe,a as et}from"../chunks/index.e32116ac.js";import{a as ke}from"../chunks/Toaster.svelte_svelte_type_style_lang.93775e0f.js";import{g as tt}from"../chunks/index.fe6b9b61.js";function Te(t){let s,i=`<div class="flex space-x-2"><div class="self-center"><img src="${et}/static/favicon.png" class="w-8 rounded-full" alt="logo"/></div></div>`,n,u,l,e,o,m;const E=[st,lt],h=[];function w(r,d){var c,y;return(((c=r[5])==null?void 0:c.trusted_header_auth)??!1)||((y=r[5])==null?void 0:y.auth)===!1?0:1}return e=w(t),o=h[e]=E[e](t),{c(){s=g("div"),s.innerHTML=i,n=S(),u=g("div"),l=g("div"),o.c(),this.h()},l(r){s=b(r,"DIV",{class:!0,"data-svelte-h":!0}),Oe(s)!=="svelte-xypj2d"&&(s.innerHTML=i),n=V(r),u=b(r,"DIV",{class:!0});var d=k(u);l=b(d,"DIV",{class:!0});var c=k(l);o.l(c),c.forEach(_),d.forEach(_),this.h()},h(){f(s,"class","fixed m-10 z-50"),f(l,"class","w-full sm:max-w-md px-10 min-h-screen flex flex-col text-center"),f(u,"class","bg-white dark:bg-gray-950 min-h-screen w-full flex justify-center font-mona svelte-zxai24")},m(r,d){B(r,s,d),B(r,n,d),B(r,u,d),a(u,l),h[e].m(l,null),m=!0},p(r,d){let c=e;e=w(r),e===c?h[e].p(r,d):(je(),le(h[c],1,1,()=>{h[c]=null}),Ye(),o=h[e],o?o.p(r,d):(o=h[e]=E[e](r),o.c()),K(o,1),o.m(l,null))},i(r){m||(K(o),m=!0)},o(r){le(o),m=!1},d(r){r&&(_(s),_(n),_(u)),h[e].d()}}}function lt(t){let s,i,n,u,l=(t[1]==="signin"?t[6].t("Sign in"):t[6].t("Sign up"))+"",e,o,m=t[6].t("to")+"",E,h,w,r,d,c,y,I,A,j,C=t[6].t("Email")+"",X,se,v,H,_e,W,L,Z=t[6].t("Password")+"",ae,ve,Y,ne,he,q,F,$=(t[1]==="signin"?t[6].t("Sign in"):t[6].t("Create Account"))+"",ie,ge,O,x=(t[1]==="signin"?t[6].t("Don't have an account?"):t[6].t("Already have an account?"))+"",re,be,R,ee=(t[1]==="signin"?t[6].t("Sign up"):t[6].t("Sign in"))+"",oe,Ee,we,N=t[1]==="signup"&&Ae(t),U=t[1]==="signup"&&Me(t);return{c(){s=g("div"),i=g("form"),n=g("div"),u=g("div"),e=P(l),o=S(),E=P(m),h=S(),w=P(t[7]),r=S(),N&&N.c(),d=S(),c=g("div"),U&&U.c(),y=S(),I=g("div"),A=g("div"),j=P("31"),X=P(C),se=S(),v=g("input"),_e=S(),W=g("div"),L=g("div"),ae=P(Z),ve=S(),Y=g("input"),he=S(),q=g("div"),F=g("button"),ie=P($),ge=S(),O=g("div"),re=P(x),be=S(),R=g("button"),oe=P(ee),this.h()},l(p){s=b(p,"DIV",{class:!0});var D=k(s);i=b(D,"FORM",{class:!0});var z=k(i);n=b(z,"DIV",{class:!0});var ue=k(n);u=b(ue,"DIV",{class:!0});var Q=k(u);e=T(Q,l),o=V(Q),E=T(Q,m),h=V(Q),w=T(Q,t[7]),Q.forEach(_),r=V(ue),N&&N.l(ue),ue.forEach(_),d=V(z),c=b(z,"DIV",{class:!0});var G=k(c);U&&U.l(G),y=V(G),I=b(G,"DIV",{class:!0});var de=k(I);A=b(de,"DIV",{class:!0});var ye=k(A);j=T(ye,"31"),X=T(ye,C),ye.forEach(_),se=V(de),v=b(de,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),de.forEach(_),_e=V(G),W=b(G,"DIV",{});var fe=k(W);L=b(fe,"DIV",{class:!0});var Ie=k(L);ae=T(Ie,Z),Ie.forEach(_),ve=V(fe),Y=b(fe,"INPUT",{type:!0,class:!0,placeholder:!0,autocomplete:!0}),fe.forEach(_),G.forEach(_),he=V(z),q=b(z,"DIV",{class:!0});var ce=k(q);F=b(ce,"BUTTON",{class:!0,type:!0});var De=k(F);ie=T(De,$),De.forEach(_),ge=V(ce),O=b(ce,"DIV",{class:!0});var me=k(O);re=T(me,x),be=V(me),R=b(me,"BUTTON",{class:!0,type:!0});var Se=k(R);oe=T(Se,ee),Se.forEach(_),me.forEach(_),ce.forEach(_),z.forEach(_),D.forEach(_),this.h()},h(){f(u,"class","text-2xl font-bold"),f(n,"class","mb-1"),f(A,"class","text-sm font-semibold text-left mb-1"),f(v,"type","email"),f(v,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),f(v,"autocomplete","email"),f(v,"placeholder",H=t[6].t("Enter Your Email")),v.required=!0,f(I,"class","mb-2"),f(L,"class","text-sm font-semibold text-left mb-1"),f(Y,"type","password"),f(Y,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),f(Y,"placeholder",ne=t[6].t("Enter Your Password")),f(Y,"autocomplete","current-password"),Y.required=!0,f(c,"class","flex flex-col mt-4"),f(F,"class","bg-gray-900 hover:bg-gray-800 w-full rounded-2xl text-white font-semibold text-sm py-3 transition"),f(F,"type","submit"),f(R,"class","font-medium underline"),f(R,"type","button"),f(O,"class","mt-4 text-sm text-center"),f(q,"class","mt-5"),f(i,"class","flex flex-col justify-center"),f(s,"class","my-auto pb-10 w-full dark:text-gray-100")},m(p,D){B(p,s,D),a(s,i),a(i,n),a(n,u),a(u,e),a(u,o),a(u,E),a(u,h),a(u,w),a(n,r),N&&N.m(n,null),a(i,d),a(i,c),U&&U.m(c,null),a(c,y),a(c,I),a(I,A),a(A,j),a(A,X),a(I,se),a(I,v),J(v,t[3]),a(c,_e),a(c,W),a(W,L),a(L,ae),a(W,ve),a(W,Y),J(Y,t[4]),a(i,he),a(i,q),a(q,F),a(F,ie),a(q,ge),a(q,O),a(O,re),a(O,be),a(O,R),a(R,oe),Ee||(we=[te(v,"input",t[11]),te(Y,"input",t[12]),te(R,"click",t[13]),te(i,"submit",Re(t[14]))],Ee=!0)},p(p,D){D&66&&l!==(l=(p[1]==="signin"?p[6].t("Sign in"):p[6].t("Sign up"))+"")&&M(e,l),D&64&&m!==(m=p[6].t("to")+"")&&M(E,m),D&128&&M(w,p[7]),p[1]==="signup"?N?N.p(p,D):(N=Ae(p),N.c(),N.m(n,null)):N&&(N.d(1),N=null),p[1]==="signup"?U?U.p(p,D):(U=Me(p),U.c(),U.m(c,y)):U&&(U.d(1),U=null),D&64&&C!==(C=p[6].t("Email")+"")&&M(X,C),D&64&&H!==(H=p[6].t("Enter Your Email"))&&f(v,"placeholder",H),D&8&&v.value!==p[3]&&J(v,p[3]),D&64&&Z!==(Z=p[6].t("Password")+"")&&M(ae,Z),D&64&&ne!==(ne=p[6].t("Enter Your Password"))&&f(Y,"placeholder",ne),D&16&&Y.value!==p[4]&&J(Y,p[4]),D&66&&$!==($=(p[1]==="signin"?p[6].t("Sign in"):p[6].t("Create Account"))+"")&&M(ie,$),D&66&&x!==(x=(p[1]==="signin"?p[6].t("Don't have an account?"):p[6].t("Already have an account?"))+"")&&M(re,x),D&66&&ee!==(ee=(p[1]==="signin"?p[6].t("Sign up"):p[6].t("Sign in"))+"")&&M(oe,ee)},i:Ne,o:Ne,d(p){p&&_(s),N&&N.d(),U&&U.d(),Ee=!1,We(we)}}}function st(t){let s,i,n,u=t[6].t("Signing in")+"",l,e,o=t[6].t("to")+"",m,E,h,w,r,d,c;return d=new Ze({}),{c(){s=g("div"),i=g("div"),n=g("div"),l=P(u),e=S(),m=P(o),E=S(),h=P(t[7]),w=S(),r=g("div"),ze(d.$$.fragment),this.h()},l(y){s=b(y,"DIV",{class:!0});var I=k(s);i=b(I,"DIV",{class:!0});var A=k(i);n=b(A,"DIV",{});var j=k(n);l=T(j,u),e=V(j),m=T(j,o),E=V(j),h=T(j,t[7]),j.forEach(_),w=V(A),r=b(A,"DIV",{});var C=k(r);Qe(d.$$.fragment,C),C.forEach(_),A.forEach(_),I.forEach(_),this.h()},h(){f(i,"class","flex items-center justify-center gap-3 text-xl sm:text-2xl text-center font-bold dark:text-gray-200"),f(s,"class","my-auto pb-10 w-full")},m(y,I){B(y,s,I),a(s,i),a(i,n),a(n,l),a(n,e),a(n,m),a(n,E),a(n,h),a(i,w),a(i,r),Ge(d,r,null),c=!0},p(y,I){(!c||I&64)&&u!==(u=y[6].t("Signing in")+"")&&M(l,u),(!c||I&64)&&o!==(o=y[6].t("to")+"")&&M(m,o),(!c||I&128)&&M(h,y[7])},i(y){c||(K(d.$$.fragment,y),c=!0)},o(y){le(d.$$.fragment,y),c=!1},d(y){y&&_(s),Je(d)}}}function Ae(t){let s,i,n,u,l=t[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"",e;return{c(){s=g("div"),i=P("ⓘ "),n=P(t[7]),u=S(),e=P(l),this.h()},l(o){s=b(o,"DIV",{class:!0});var m=k(s);i=T(m,"ⓘ "),n=T(m,t[7]),u=V(m),e=T(m,l),m.forEach(_),this.h()},h(){f(s,"class","mt-1 text-xs font-medium text-gray-500")},m(o,m){B(o,s,m),a(s,i),a(s,n),a(s,u),a(s,e)},p(o,m){m&128&&M(n,o[7]),m&64&&l!==(l=o[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"")&&M(e,l)},d(o){o&&_(s)}}}function Me(t){let s,i,n=t[6].t("Name")+"",u,l,e,o,m,E,h,w;return{c(){s=g("div"),i=g("div"),u=P(n),l=S(),e=g("input"),m=S(),E=g("hr"),this.h()},l(r){s=b(r,"DIV",{});var d=k(s);i=b(d,"DIV",{class:!0});var c=k(i);u=T(c,n),c.forEach(_),l=V(d),e=b(d,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),d.forEach(_),m=V(r),E=b(r,"HR",{class:!0}),this.h()},h(){f(i,"class","text-sm font-semibold text-left mb-1"),f(e,"type","text"),f(e,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),f(e,"autocomplete","name"),f(e,"placeholder",o=t[6].t("Enter Your Full Name")),e.required=!0,f(E,"class","my-3 dark:border-gray-900")},m(r,d){B(r,s,d),a(s,i),a(i,u),a(s,l),a(s,e),J(e,t[2]),B(r,m,d),B(r,E,d),h||(w=te(e,"input",t[10]),h=!0)},p(r,d){d&64&&n!==(n=r[6].t("Name")+"")&&M(u,n),d&64&&o!==(o=r[6].t("Enter Your Full Name"))&&f(e,"placeholder",o),d&4&&e.value!==r[2]&&J(e,r[2])},d(r){r&&(_(s),_(m),_(E)),h=!1,w()}}}function at(t){let s,i,n,u;document.title=s=`\r
		${t[7]}\r
	`;let l=t[0]&&Te(t);return{c(){i=S(),l&&l.c(),n=Ve()},l(e){Ce("svelte-sdpf07",document.head).forEach(_),i=V(e),l&&l.l(e),n=Ve()},m(e,o){B(e,i,o),l&&l.m(e,o),B(e,n,o),u=!0},p(e,[o]){(!u||o&128)&&s!==(s=`\r
		${e[7]}\r
	`)&&(document.title=s),e[0]?l?(l.p(e,o),o&1&&K(l,1)):(l=Te(e),l.c(),K(l,1),l.m(n.parentNode,n)):l&&(je(),le(l,1,1,()=>{l=null}),Ye())},i(e){u||(K(l),u=!0)},o(e){le(l),u=!1},d(e){e&&(_(i),_(n)),l&&l.d(e)}}}function nt(t,s,i){let n,u,l,e;pe(t,$e,v=>i(5,n=v)),pe(t,Pe,v=>i(15,u=v)),pe(t,xe,v=>i(7,e=v));const o=He("i18n");pe(t,o,v=>i(6,l=v));let m=!1,E="signin",h="",w="",r="";const d=async v=>{v&&(console.log(v),ke.success(l.t("You're now logged in.")),localStorage.token=v.token,await Pe.set(v),Ue("/"))},c=async()=>{const v=await Ke(w,r).catch(H=>(ke.error(H),null));await d(v)},y=async()=>{const v=await Xe(h,w,r,tt(h)).catch(H=>(ke.error(H),null));await d(v)},I=async()=>{E==="signin"?await c():await y()};qe(async()=>{u!==void 0&&await Ue("/"),i(0,m=!0),(((n==null?void 0:n.trusted_header_auth)??!1)||(n==null?void 0:n.auth)===!1)&&await c()});function A(){h=this.value,i(2,h)}function j(){w=this.value,i(3,w)}function C(){r=this.value,i(4,r)}return[m,E,h,w,r,n,l,e,o,I,A,j,C,()=>{E==="signin"?i(1,E="signup"):i(1,E="signin")},()=>{I()}]}class pt extends Fe{constructor(s){super(),Le(this,s,nt,at,Be,{})}}export{pt as component};
