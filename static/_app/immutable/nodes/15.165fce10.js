import{s as He,a as S,e as ke,M as Me,d as _,c as V,i as q,w as ce,P as Ye,o as Be,f as h,g,R as Ce,h as E,j as d,r as a,l as P,m as N,Q as J,u as te,O as je,n as M,C as De,v as qe}from"../chunks/scheduler.7238b518.js";import{S as Oe,i as Re,a as K,t as le,c as Te,g as Ae,b as We,d as Fe,m as Le,e as ze}from"../chunks/index.5768aeba.js";import{g as Se}from"../chunks/navigation.59faf8c8.js";import{u as Qe,a as Ge}from"../chunks/index.e2d22385.js";import{S as Je}from"../chunks/Spinner.39d69570.js";import{c as Ke,u as Ve,W as Xe,a as Ze}from"../chunks/index.78134b2e.js";import{a as ge}from"../chunks/Toaster.svelte_svelte_type_style_lang.93775e0f.js";import{g as $e}from"../chunks/index.d4b9e586.js";function Pe(t){let s,l=`<div class="flex space-x-2"><div class="self-center"><img src="${Ze}/static/favicon.png" class="w-8 rounded-full" alt="logo"/></div></div>`,i,f,n,e,o,c;const y=[et,xe],m=[];function I(r,u){var v;return((v=r[5])==null?void 0:v.trusted_header_auth)??!1?0:1}return e=I(t),o=m[e]=y[e](t),{c(){s=h("div"),s.innerHTML=l,i=S(),f=h("div"),n=h("div"),o.c(),this.h()},l(r){s=g(r,"DIV",{class:!0,"data-svelte-h":!0}),Ce(s)!=="svelte-xypj2d"&&(s.innerHTML=l),i=V(r),f=g(r,"DIV",{class:!0});var u=E(f);n=g(u,"DIV",{class:!0});var v=E(n);o.l(v),v.forEach(_),u.forEach(_),this.h()},h(){d(s,"class","fixed m-10 z-50"),d(n,"class","w-full sm:max-w-lg px-4 min-h-screen flex flex-col"),d(f,"class","bg-white dark:bg-gray-900 min-h-screen w-full flex justify-center font-mona svelte-zxai24")},m(r,u){q(r,s,u),q(r,i,u),q(r,f,u),a(f,n),m[e].m(n,null),c=!0},p(r,u){let v=e;e=I(r),e===v?m[e].p(r,u):(Ae(),le(m[v],1,1,()=>{m[v]=null}),Te(),o=m[e],o?o.p(r,u):(o=m[e]=y[e](r),o.c()),K(o,1),o.m(n,null))},i(r){c||(K(o),c=!0)},o(r){le(o),c=!1},d(r){r&&(_(s),_(i),_(f)),m[e].d()}}}function xe(t){let s,l,i,f=(t[1]==="signin"?t[6].t("Sign in"):t[6].t("Sign up"))+"",n,e,o=t[6].t("to")+"",c,y,m,I,r,u,v,D,b,U=t[6].t("Phone")+"",C,Y,H,X,w,j,z,Z=t[6].t("Password")+"",se,pe,B,ne,_e,O,L,$=(t[1]==="signin"?t[6].t("Sign in"):t[6].t("Create Account"))+"",ae,me,R,x=(t[1]==="signin"?t[6].t("Don't have an account?"):t[6].t("Already have an account?"))+"",ie,ve,W,ee=(t[1]==="signin"?t[6].t("Sign up"):t[6].t("Sign in"))+"",oe,he,be,T=t[1]==="signup"&&Ne(t),A=t[1]==="signup"&&Ue(t);return{c(){s=h("div"),l=h("form"),i=h("div"),n=P(f),e=S(),c=P(o),y=S(),m=P(t[7]),I=S(),T&&T.c(),r=S(),u=h("div"),A&&A.c(),v=S(),D=h("div"),b=h("div"),C=P(U),Y=S(),H=h("input"),w=S(),j=h("div"),z=h("div"),se=P(Z),pe=S(),B=h("input"),_e=S(),O=h("div"),L=h("button"),ae=P($),me=S(),R=h("div"),ie=P(x),ve=S(),W=h("button"),oe=P(ee),this.h()},l(p){s=g(p,"DIV",{class:!0});var k=E(s);l=g(k,"FORM",{class:!0});var F=E(l);i=g(F,"DIV",{class:!0});var Q=E(i);n=N(Q,f),e=V(Q),c=N(Q,o),y=V(Q),m=N(Q,t[7]),Q.forEach(_),I=V(F),T&&T.l(F),r=V(F),u=g(F,"DIV",{class:!0});var G=E(u);A&&A.l(G),v=V(G),D=g(G,"DIV",{class:!0});var re=E(D);b=g(re,"DIV",{class:!0});var ye=E(b);C=N(ye,U),ye.forEach(_),Y=V(re),H=g(re,"INPUT",{type:!0,class:!0,placeholder:!0}),re.forEach(_),w=V(G),j=g(G,"DIV",{});var ue=E(j);z=g(ue,"DIV",{class:!0});var Ee=E(z);se=N(Ee,Z),Ee.forEach(_),pe=V(ue),B=g(ue,"INPUT",{type:!0,class:!0,placeholder:!0,autocomplete:!0}),ue.forEach(_),G.forEach(_),_e=V(F),O=g(F,"DIV",{class:!0});var fe=E(O);L=g(fe,"BUTTON",{class:!0,type:!0});var we=E(L);ae=N(we,$),we.forEach(_),me=V(fe),R=g(fe,"DIV",{class:!0});var de=E(R);ie=N(de,x),ve=V(de),W=g(de,"BUTTON",{class:!0,type:!0});var Ie=E(W);oe=N(Ie,ee),Ie.forEach(_),de.forEach(_),fe.forEach(_),F.forEach(_),k.forEach(_),this.h()},h(){d(i,"class","text-xl sm:text-2xl font-bold"),d(b,"class","text-sm font-semibold text-left mb-1"),d(H,"type","phone"),d(H,"class","border px-4 py-2.5 rounded-2xl w-full text-sm"),d(H,"placeholder",X=t[6].t("Enter Your Phone")),H.required=!0,d(D,"class","mb-2"),d(z,"class","text-sm font-semibold text-left mb-1"),d(B,"type","password"),d(B,"class","border px-4 py-2.5 rounded-2xl w-full text-sm"),d(B,"placeholder",ne=t[6].t("Enter Your Password")),d(B,"autocomplete","current-password"),B.required=!0,d(u,"class","flex flex-col mt-4"),d(L,"class","bg-gray-900 hover:bg-gray-800 w-full rounded-full text-white font-semibold text-sm py-3 transition"),d(L,"type","submit"),d(W,"class","font-medium underline"),d(W,"type","button"),d(R,"class","mt-4 text-sm text-center"),d(O,"class","mt-5"),d(l,"class","flex flex-col justify-center bg-white py-6 sm:py-16 px-6 sm:px-16 rounded-2xl"),d(s,"class","my-auto pb-10 w-full")},m(p,k){q(p,s,k),a(s,l),a(l,i),a(i,n),a(i,e),a(i,c),a(i,y),a(i,m),a(l,I),T&&T.m(l,null),a(l,r),a(l,u),A&&A.m(u,null),a(u,v),a(u,D),a(D,b),a(b,C),a(D,Y),a(D,H),J(H,t[3]),a(u,w),a(u,j),a(j,z),a(z,se),a(j,pe),a(j,B),J(B,t[4]),a(l,_e),a(l,O),a(O,L),a(L,ae),a(O,me),a(O,R),a(R,ie),a(R,ve),a(R,W),a(W,oe),he||(be=[te(H,"input",t[11]),te(B,"input",t[12]),te(W,"click",t[13]),te(l,"submit",je(t[14]))],he=!0)},p(p,k){k&66&&f!==(f=(p[1]==="signin"?p[6].t("Sign in"):p[6].t("Sign up"))+"")&&M(n,f),k&64&&o!==(o=p[6].t("to")+"")&&M(c,o),k&128&&M(m,p[7]),p[1]==="signup"?T?T.p(p,k):(T=Ne(p),T.c(),T.m(l,r)):T&&(T.d(1),T=null),p[1]==="signup"?A?A.p(p,k):(A=Ue(p),A.c(),A.m(u,v)):A&&(A.d(1),A=null),k&64&&U!==(U=p[6].t("Phone")+"")&&M(C,U),k&64&&X!==(X=p[6].t("Enter Your Phone"))&&d(H,"placeholder",X),k&8&&J(H,p[3]),k&64&&Z!==(Z=p[6].t("Password")+"")&&M(se,Z),k&64&&ne!==(ne=p[6].t("Enter Your Password"))&&d(B,"placeholder",ne),k&16&&B.value!==p[4]&&J(B,p[4]),k&66&&$!==($=(p[1]==="signin"?p[6].t("Sign in"):p[6].t("Create Account"))+"")&&M(ae,$),k&66&&x!==(x=(p[1]==="signin"?p[6].t("Don't have an account?"):p[6].t("Already have an account?"))+"")&&M(ie,x),k&66&&ee!==(ee=(p[1]==="signin"?p[6].t("Sign up"):p[6].t("Sign in"))+"")&&M(oe,ee)},i:De,o:De,d(p){p&&_(s),T&&T.d(),A&&A.d(),he=!1,qe(be)}}}function et(t){let s,l,i,f=t[6].t("Signing in")+"",n,e,o=t[6].t("to")+"",c,y,m,I,r,u,v,D;return v=new Je({}),{c(){s=h("div"),l=h("div"),i=h("div"),n=P(f),e=S(),c=P(o),y=P(`222
							`),m=P(t[7]),I=P(" 33333333"),r=S(),u=h("div"),We(v.$$.fragment),this.h()},l(b){s=g(b,"DIV",{class:!0});var U=E(s);l=g(U,"DIV",{class:!0});var C=E(l);i=g(C,"DIV",{});var Y=E(i);n=N(Y,f),e=V(Y),c=N(Y,o),y=N(Y,`222
							`),m=N(Y,t[7]),I=N(Y," 33333333"),Y.forEach(_),r=V(C),u=g(C,"DIV",{});var H=E(u);Fe(v.$$.fragment,H),H.forEach(_),C.forEach(_),U.forEach(_),this.h()},h(){d(l,"class","flex items-center justify-center gap-3 text-xl sm:text-2xl text-center font-bold dark:text-gray-200"),d(s,"class","my-auto pb-10 w-full")},m(b,U){q(b,s,U),a(s,l),a(l,i),a(i,n),a(i,e),a(i,c),a(i,y),a(i,m),a(i,I),a(l,r),a(l,u),Le(v,u,null),D=!0},p(b,U){(!D||U&64)&&f!==(f=b[6].t("Signing in")+"")&&M(n,f),(!D||U&64)&&o!==(o=b[6].t("to")+"")&&M(c,o),(!D||U&128)&&M(m,b[7])},i(b){D||(K(v.$$.fragment,b),D=!0)},o(b){le(v.$$.fragment,b),D=!1},d(b){b&&_(s),ze(v)}}}function Ne(t){let s,l,i,f,n=t[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"",e;return{c(){s=h("div"),l=P("ⓘ "),i=P(t[7]),f=S(),e=P(n),this.h()},l(o){s=g(o,"DIV",{class:!0});var c=E(s);l=N(c,"ⓘ "),i=N(c,t[7]),f=V(c),e=N(c,n),c.forEach(_),this.h()},h(){d(s,"class","mt-1 text-xs font-medium text-gray-500")},m(o,c){q(o,s,c),a(s,l),a(s,i),a(s,f),a(s,e)},p(o,c){c&128&&M(i,o[7]),c&64&&n!==(n=o[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"")&&M(e,n)},d(o){o&&_(s)}}}function Ue(t){let s,l,i=t[6].t("Name")+"",f,n,e,o,c,y,m,I;return{c(){s=h("div"),l=h("div"),f=P(i),n=S(),e=h("input"),c=S(),y=h("hr"),this.h()},l(r){s=g(r,"DIV",{});var u=E(s);l=g(u,"DIV",{class:!0});var v=E(l);f=N(v,i),v.forEach(_),n=V(u),e=g(u,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),u.forEach(_),c=V(r),y=g(r,"HR",{class:!0}),this.h()},h(){d(l,"class","text-sm font-semibold text-left mb-1"),d(e,"type","text"),d(e,"class","border px-4 py-2.5 rounded-2xl w-full text-sm"),d(e,"autocomplete","name"),d(e,"placeholder",o=t[6].t("Enter Your Full Name")),e.required=!0,d(y,"class","my-3")},m(r,u){q(r,s,u),a(s,l),a(l,f),a(s,n),a(s,e),J(e,t[2]),q(r,c,u),q(r,y,u),m||(I=te(e,"input",t[10]),m=!0)},p(r,u){u&64&&i!==(i=r[6].t("Name")+"")&&M(f,i),u&64&&o!==(o=r[6].t("Enter Your Full Name"))&&d(e,"placeholder",o),u&4&&e.value!==r[2]&&J(e,r[2])},d(r){r&&(_(s),_(c),_(y)),m=!1,I()}}}function tt(t){let s,l,i,f;document.title=s=`
		${t[7]}
	`;let n=t[0]&&Pe(t);return{c(){l=S(),n&&n.c(),i=ke()},l(e){Me("svelte-sdpf07",document.head).forEach(_),l=V(e),n&&n.l(e),i=ke()},m(e,o){q(e,l,o),n&&n.m(e,o),q(e,i,o),f=!0},p(e,[o]){(!f||o&128)&&s!==(s=`
		${e[7]}
	`)&&(document.title=s),e[0]?n?(n.p(e,o),o&1&&K(n,1)):(n=Pe(e),n.c(),K(n,1),n.m(i.parentNode,i)):n&&(Ae(),le(n,1,1,()=>{n=null}),Te())},i(e){f||(K(n),f=!0)},o(e){le(n),f=!1},d(e){e&&(_(l),_(i)),n&&n.d(e)}}}function lt(t,s,l){let i,f,n,e;ce(t,Ke,w=>l(5,i=w)),ce(t,Ve,w=>l(15,f=w)),ce(t,Xe,w=>l(7,e=w));const o=Ye("i18n");ce(t,o,w=>l(6,n=w));let c=!1,y="signin",m="",I="",r="";const u=async w=>{w&&(console.log(w),ge.success(n.t("You're now logged in.")),localStorage.token=w.token,await Ve.set(w),Se("/"))},v=async()=>{const w=await Qe(I,r).catch(j=>(ge.error(j),null));await u(w)},D=async()=>{const w=await Ge(m,I,r,$e(m)).catch(j=>(ge.error(j),null));console.log("signUpHandler ok"),await u(w)},b=async()=>{y==="signin"?await v():await D()};Be(async()=>{f!==void 0&&await Se("/"),l(0,c=!0),((i==null?void 0:i.trusted_header_auth)??!1)&&await v()});function U(){m=this.value,l(2,m)}function C(){I=this.value,l(3,I)}function Y(){r=this.value,l(4,r)}return[c,y,m,I,r,i,n,e,o,b,U,C,Y,()=>{y==="signin"?l(1,y="signup"):l(1,y="signin")},()=>{b()}]}class dt extends Oe{constructor(s){super(),Re(this,s,lt,tt,He,{})}}export{dt as component};
